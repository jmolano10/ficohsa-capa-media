<bpel:process name="GetCustomerListsHN_SJ" targetNamespace="http://xmlns.oracle.com/Dynamo/CoreBankingHN/" bea:name="GetCustomerListsHN_SJ" rescon:snippetVersion="1.0" xmlns:tns="http://xmlns.oracle.com/Dynamo/CoreBankingHN/" xmlns:bpel="http://docs.oasis-open.org/wsbpel/2.0/process/executable" xmlns:rescon="http://www.bea.com/alsb/flow/resources/config" xmlns:bea="http://www.bea.com/bpel/ui/extensions" xmlns:ext="http://www.bea.com/bpel/extensions" xmlns:expr="http://www.bea.com/wli/sb/stages/config" xmlns:trf="http://www.bea.com/wli/sb/stages/transform/config" xmlns:bind="http://www.ficohsa.com.hn/middleware.services/GetCustomerListsHN_SJ" xmlns:ns0="http://www.bea.com/wli/sb/reference" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ns1="T24WebServicesImpl" xmlns:ns2="http://xmlns.oracle.com/pcbpel/adapter/db/MiddlewareSOAApplication/ConsultarListaFatca/consultarListaFatca" xmlns:ns3="http://xmlns.oracle.com/pcbpel/adapter/db/conDatoTarjetaGT/consultaListaOFAC/consultaListaOFAC" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:get="http://www.ficohsa.com.hn/middleware.services/getCustomerListsHN_SJ" xmlns:dvm="http://www.oracle.com/osb/xpath-functions/dvm" xmlns:ns4="http://www.ficohsa.com.hn/middleware.services/listasClientesNoFATCAPS/" xmlns:ns5="http://xmlns.oracle.com/pcbpel/adapter/db/MigrationDynamo/CommonResources/SetLogInfoService_BS" xmlns:sjc="http://www.ficohsa.com.hn/middleware.services/sjConsultaListasCliente" xmlns:ns6="T24WebServicesImpl_"
              xmlns:ns7="urn:ConsultaListaContratistaDelEstado_PS"
              xmlns:ns8="http://xmlns.oracle.com/pcbpel/adapter/db/DynamoMigrate/CoreBankingHN/GetCustomerRelatedList"
              xmlns:get1="http://xmlns.oracle.com/pcbpel/adapter/db/sp/GetCustomerRelatedList">
    <rescon:importInfo>
        <rescon:wsdl-import ref="CoreBankingHN/ProviderServices/WSDL/GetCustomerRelatedList/GetCustomerRelatedList"/>
    </rescon:importInfo>
    <bpel:partnerLinks>
        <bpel:partnerLink name="GetCustomerListsHN_SJ" partnerLinkType="tns:GetCustomerListsHN_SJ" myRole="GetCustomerListsHN_SJ">
	       </bpel:partnerLink>
        <bpel:partnerLink name="GetCustomersLists_BS" partnerLinkType="tns:GetCustomersLists_BS" partnerRole="GetCustomersLists_BS"/>
        <bpel:partnerLink name="ConsultarListaFatca_db" partnerLinkType="tns:ConsultarListaFatca_db" partnerRole="ConsultarListaFatca_db"/>
        <bpel:partnerLink name="consultaListaOFAC_db" partnerLinkType="tns:consultaListaOFAC_db" partnerRole="consultaListaOFAC_db"/>
        <bpel:partnerLink name="ConsultaClienteNoFatca_PS" partnerLinkType="tns:ConsultaClienteNoFatca_PS" partnerRole="ConsultaClienteNoFatca_PS"/>
        <bpel:partnerLink name="SetLogInfoService_BS" partnerLinkType="tns:SetLogInfoService_BS" partnerRole="SetLogInfoService_BS"/>
        <bpel:partnerLink name="ConsultaListaContratistaDelEstado_PS"
                          partnerLinkType="tns:ConsultaListaContratistaDelEstado_PS"
                          partnerRole="ConsultaListaContratistaDelEstado_PS"/>
        <bpel:partnerLink name="GetCustomerRelatedList" partnerLinkType="tns:GetCustomerRelatedList"
                          partnerRole="GetCustomerRelatedList"/>
    </bpel:partnerLinks>

	   <bpel:variables>
        <bpel:variable name="request" messageType="bind:getCustomerListsHN_SJRequest">
	       </bpel:variable>
	       <bpel:variable name="response" messageType="bind:getCustomerListsHN_SJResponse">
	       </bpel:variable>
        <bpel:variable name="REQConListaNegra" messageType="ns1:Consultadelistanegra"/>
        <bpel:variable name="RSPConListaNegra" messageType="ns1:ConsultadelistanegraResponse"/>
        <bpel:variable name="REQConListaPEP" messageType="ns1:ConsultadelistaPEP"/>
        <bpel:variable name="RSPConListaPEP" messageType="ns1:ConsultadelistaPEPResponse"/>
        <bpel:variable name="REQConListaGris" messageType="ns1:ConsultaListaGris"/>
        <bpel:variable name="RSPConListaGris" messageType="ns1:ConsultaListaGrisResponse"/>
        <bpel:variable name="REQConListaFacta" messageType="ns2:args_in_msg"/>
        <bpel:variable name="RSPConListaFacta" messageType="ns2:args_out_msg"/>
        <bpel:variable name="REQConListaOFAC" messageType="ns3:args_in_msg"/>
        <bpel:variable name="RSPConListaOFAC" messageType="ns3:args_out_msg"/>
        <bpel:variable name="ConsultaListaNoFatca" messageType="ns4:ConsultadelistaclientesNoFATCARequest"/>
        <bpel:variable name="ConsultaListaNoFatcaRSP" messageType="ns4:ConsultadelistaclientesNoFATCAResponse"/>
        <bpel:variable name="bodyReqLog" messageType="ns5:args_in_msg"/>
        <bpel:variable name="bodyRspLog" messageType="ns5:args_out_msg"/>
        <bpel:variable name="ConsultaListaContratistaDelEstado"
                       messageType="ns7:ConsultaListaContratistaDelEstadoRequest"/>
        <bpel:variable name="ConsultaListaContratistaDelEstadoRSP"
                       messageType="ns7:ConsultaListaContratistaDelEstadoResponse"/>
        <bpel:variable name="REQConListaRelacionadas" messageType="ns8:args_in_msg"/>
        <bpel:variable name="RSPConListaRelacionadas" messageType="ns8:args_out_msg"/>
    </bpel:variables>

    <bpel:sequence>
        <bpel:receive partnerLink="GetCustomerListsHN_SJ" operation="consultaListasCliente" variable="request" createInstance="yes">
	           <rescon:receiveInfo>
                <rescon:wsdl ref="CoreBankingHN/RequestorServices/ProxyServices/v1.0/GetCustomerLists/WSDL/GetcustomerListsHN_SJ" binding="bind:GetCustomerListsHN_SJSOAP"/>
            </rescon:receiveInfo>
        </bpel:receive>
        <bpel:flow>
            <bpel:scope bea:name="ConsultaListaNegra">
                <bpel:sequence>
                    <bpel:assign>
                        <bpel:extensionAssignOperation>
                            <trf:assign varName="REQConListaNegra.parameters">
                                <trf:expr>
                                    <expr:xqueryTransform>
                                        <expr:resource ref="CoreBankingHN/RequestorServices/ProxyServices/v1.0/GetCustomerLists/XQ/sjConsultaListaNegraIn"/>
                                        <expr:param name="password">
                                            <expr:path>fn:data($request.inputParameters/get:PASSWORD)</expr:path>
                                        </expr:param>
                                        <expr:param name="legalId">
                                            <expr:path>fn:data($request.inputParameters/get:CUSTOMER_LEGAL_ID)</expr:path>
                                        </expr:param>
                                        <expr:param name="username">
                                            <expr:path>fn:data($request.inputParameters/get:USERNAME)</expr:path>
                                        </expr:param>
                                    </expr:xqueryTransform>
                                </trf:expr>
                            </trf:assign>
                        </bpel:extensionAssignOperation>
                        <bpel:extensionAssignOperation>
                            <trf:assign varName="bodyReqLog.InputParameters">
                                <trf:expr>
                                    <expr:xqueryTransform>
                                        <expr:resource ref="CommonResources/MiddlewareDB/ProviderServices/XQ/Tx_Msg_To_SetLogInfo"/>
                                        <expr:param name="codigoAplicacion">
                                            <expr:path>1</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoServicio">
                                            <expr:path>6</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="contenido">
                                            <expr:path>fn-bea:serialize($REQConListaNegra.parameters/WSFICOBLACKLISTDETType)</expr:path>
                                        </expr:param>
                                        <expr:param name="estado">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoSistema">
                                            <expr:path>2</expr:path>
                                        </expr:param>
                                        <expr:param name="nombreFlujoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaHora">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="parametros">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="uuid">
                                            <expr:path>fn:data($request.inputParameters/get:UUID)</expr:path>
                                        </expr:param>
                                        <expr:param name="version">
                                            <expr:path>'1'</expr:path>
                                        </expr:param>
                                        <expr:param name="operacionServicio">
                                            <expr:path>'ConsultaListaNegra'</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoDestino">
                                            <expr:path>fn:data($request.inputParameters/get:DESTINATION_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="endpoint">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoOrigen">
                                            <expr:path>fn:data($request.inputParameters/get:SOURCE_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaTX">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="usuario">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="descripcionError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="tipoMensaje">
                                            <expr:path>'Request'</expr:path>
                                        </expr:param>
                                        <expr:param name="metodo">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                    </expr:xqueryTransform>
                                </trf:expr>
                            </trf:assign>
                        </bpel:extensionAssignOperation>
                    </bpel:assign>
                    <bpel:invoke partnerLink="SetLogInfoService_BS" operation="SetLogInfoService_BS" inputVariable="bodyReqLog" outputVariable="bodyRspLog">
                        <rescon:invokeInfo>
                            <rescon:service ref="CommonResources/MiddlewareDB/ProviderServices/BusinessServices/SetLogInfoService/v1.0/SetLogInfoService_BS" xsi:type="ns0:BusinessServiceRef"/>
                        </rescon:invokeInfo>
                    </bpel:invoke>
                    <bpel:invoke partnerLink="GetCustomersLists_BS" operation="Consultadelistanegra" inputVariable="REQConListaNegra" outputVariable="RSPConListaNegra">
                        <rescon:invokeInfo>
                            <rescon:service ref="CoreBankingHN/ProviderServices/BusinessServices/GetCustomerLists/v1.0/GetCustomersLists_BS" xsi:type="ns0:BusinessServiceRef"/>
                        </rescon:invokeInfo>
                    </bpel:invoke>
                    <bpel:assign>
                        <bpel:extensionAssignOperation>
                            <trf:assign varName="bodyReqLog.InputParameters">
                                <trf:expr>
                                    <expr:xqueryTransform>
                                        <expr:resource ref="CommonResources/MiddlewareDB/ProviderServices/XQ/Tx_Msg_To_SetLogInfo"/>
                                        <expr:param name="codigoAplicacion">
                                            <expr:path>1</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoServicio">
                                            <expr:path>6</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="contenido">
                                            <expr:path>fn-bea:serialize($RSPConListaNegra.parameters)</expr:path>
                                        </expr:param>
                                        <expr:param name="estado">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoSistema">
                                            <expr:path>2</expr:path>
                                        </expr:param>
                                        <expr:param name="nombreFlujoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaHora">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="parametros">
                                            <expr:path>fn-bea:serialize($RSPConListaNegra.parameters)</expr:path>
                                        </expr:param>
                                        <expr:param name="uuid">
                                            <expr:path>fn:data($request.inputParameters/get:UUID)</expr:path>
                                        </expr:param>
                                        <expr:param name="version">
                                            <expr:path>'1'</expr:path>
                                        </expr:param>
                                        <expr:param name="operacionServicio">
                                            <expr:path>'ConsultaListaNegra'</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoDestino">
                                            <expr:path>fn:data($request.inputParameters/get:DESTINATION_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="endpoint">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoOrigen">
                                            <expr:path>fn:data($request.inputParameters/get:SOURCE_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaTX">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="usuario">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="descripcionError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="tipoMensaje">
                                            <expr:path>'Response'</expr:path>
                                        </expr:param>
                                        <expr:param name="metodo">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                    </expr:xqueryTransform>
                                </trf:expr>
                            </trf:assign>
                        </bpel:extensionAssignOperation>
                    </bpel:assign>
                    <bpel:invoke partnerLink="SetLogInfoService_BS" operation="SetLogInfoService_BS" inputVariable="bodyReqLog" outputVariable="bodyRspLog">
                        <rescon:invokeInfo>
                            <rescon:service ref="CommonResources/MiddlewareDB/ProviderServices/BusinessServices/SetLogInfoService/v1.0/SetLogInfoService_BS" xsi:type="ns0:BusinessServiceRef"/>
                        </rescon:invokeInfo>
                    </bpel:invoke>
                </bpel:sequence>
            </bpel:scope>
            <bpel:scope bea:name="ConsultaListaPEP">
                <bpel:sequence>
                    <bpel:assign>
                        <bpel:extensionAssignOperation>
                            <trf:assign varName="REQConListaPEP.parameters">
                                <trf:expr>
                                    <expr:xqueryTransform>
                                        <expr:resource ref="CoreBankingHN/RequestorServices/ProxyServices/v1.0/GetCustomerLists/XQ/sjConsultaListaPEPIn"/>
                                        <expr:param name="password">
                                            <expr:path>fn:data($request.inputParameters/get:PASSWORD)</expr:path>
                                        </expr:param>
                                        <expr:param name="legalId">
                                            <expr:path>fn:data($request.inputParameters/get:CUSTOMER_LEGAL_ID)</expr:path>
                                        </expr:param>
                                        <expr:param name="username">
                                            <expr:path>fn:data($request.inputParameters/get:USERNAME)</expr:path>
                                        </expr:param>
                                    </expr:xqueryTransform>
                                </trf:expr>
                            </trf:assign>
                        </bpel:extensionAssignOperation>
                        <bpel:extensionAssignOperation>
                            <trf:assign varName="bodyReqLog.InputParameters">
                                <trf:expr>
                                    <expr:xqueryTransform>
                                        <expr:resource ref="CommonResources/MiddlewareDB/ProviderServices/XQ/Tx_Msg_To_SetLogInfo"/>
                                        <expr:param name="codigoAplicacion">
                                            <expr:path>1</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoServicio">
                                            <expr:path>6</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="contenido">
                                            <expr:path>fn-bea:serialize($REQConListaPEP.parameters/WSFICOPEPDETType)</expr:path>
                                        </expr:param>
                                        <expr:param name="estado">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoSistema">
                                            <expr:path>2</expr:path>
                                        </expr:param>
                                        <expr:param name="nombreFlujoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaHora">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="parametros">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="uuid">
                                            <expr:path>fn:data($request.inputParameters/get:UUID)</expr:path>
                                        </expr:param>
                                        <expr:param name="version">
                                            <expr:path>'1'</expr:path>
                                        </expr:param>
                                        <expr:param name="operacionServicio">
                                            <expr:path>'ConsultaListaPEP'</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoDestino">
                                            <expr:path>fn:data($request.inputParameters/get:DESTINATION_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="endpoint">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoOrigen">
                                            <expr:path>fn:data($request.inputParameters/get:SOURCE_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaTX">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="usuario">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="descripcionError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="tipoMensaje">
                                            <expr:path>'Request'</expr:path>
                                        </expr:param>
                                        <expr:param name="metodo">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                    </expr:xqueryTransform>
                                </trf:expr>
                            </trf:assign>
                        </bpel:extensionAssignOperation>
                    </bpel:assign>
                    <bpel:invoke partnerLink="SetLogInfoService_BS" operation="SetLogInfoService_BS" inputVariable="bodyReqLog" outputVariable="bodyRspLog">
                        <rescon:invokeInfo>
                            <rescon:service ref="CommonResources/MiddlewareDB/ProviderServices/BusinessServices/SetLogInfoService/v1.0/SetLogInfoService_BS" xsi:type="ns0:BusinessServiceRef"/>
                        </rescon:invokeInfo>
                    </bpel:invoke>
                    <bpel:invoke inputVariable="REQConListaPEP" operation="ConsultadelistaPEP" partnerLink="GetCustomersLists_BS" outputVariable="RSPConListaPEP">
                        <rescon:invokeInfo>
                            <rescon:service xsi:type="ns0:BusinessServiceRef" ref="CoreBankingHN/ProviderServices/BusinessServices/GetCustomerLists/v1.0/GetCustomersLists_BS"/>
                        </rescon:invokeInfo>
                    </bpel:invoke>
                    <bpel:assign>
                        <bpel:extensionAssignOperation>
                            <trf:assign varName="bodyReqLog.InputParameters">
                                <trf:expr>
                                    <expr:xqueryTransform>
                                        <expr:resource ref="CommonResources/MiddlewareDB/ProviderServices/XQ/Tx_Msg_To_SetLogInfo"/>
                                        <expr:param name="codigoAplicacion">
                                            <expr:path>1</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoServicio">
                                            <expr:path>6</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="contenido">
                                            <expr:path>fn-bea:serialize($RSPConListaPEP.parameters)</expr:path>
                                        </expr:param>
                                        <expr:param name="estado">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoSistema">
                                            <expr:path>2</expr:path>
                                        </expr:param>
                                        <expr:param name="nombreFlujoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaHora">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="parametros">
                                            <expr:path>fn-bea:serialize($RSPConListaPEP.parameters)</expr:path>
                                        </expr:param>
                                        <expr:param name="uuid">
                                            <expr:path>fn:data($request.inputParameters/get:UUID)</expr:path>
                                        </expr:param>
                                        <expr:param name="version">
                                            <expr:path>'1'</expr:path>
                                        </expr:param>
                                        <expr:param name="operacionServicio">
                                            <expr:path>'ConsultaListaPEP'</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoDestino">
                                            <expr:path>fn:data($request.inputParameters/get:DESTINATION_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="endpoint">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoOrigen">
                                            <expr:path>fn:data($request.inputParameters/get:SOURCE_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaTX">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="usuario">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="descripcionError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="tipoMensaje">
                                            <expr:path>'Response'</expr:path>
                                        </expr:param>
                                        <expr:param name="metodo">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                    </expr:xqueryTransform>
                                </trf:expr>
                            </trf:assign>
                        </bpel:extensionAssignOperation>
                    </bpel:assign>
                    <bpel:invoke partnerLink="SetLogInfoService_BS" operation="SetLogInfoService_BS" inputVariable="bodyReqLog" outputVariable="bodyRspLog">
                        <rescon:invokeInfo>
                            <rescon:service ref="CommonResources/MiddlewareDB/ProviderServices/BusinessServices/SetLogInfoService/v1.0/SetLogInfoService_BS" xsi:type="ns0:BusinessServiceRef"/>
                        </rescon:invokeInfo>
                    </bpel:invoke>
                </bpel:sequence>
            </bpel:scope>
            <bpel:scope bea:name="ConsultaListaGris">
                <bpel:sequence>
                    <bpel:assign>
                        <bpel:extensionAssignOperation>
                            <trf:assign varName="REQConListaGris.parameters">
                                <trf:expr>
                                    <expr:xqueryTransform>
                                        <expr:resource ref="CoreBankingHN/RequestorServices/ProxyServices/v1.0/GetCustomerLists/XQ/sjConsultaListaGrisIn"/>
                                        <expr:param name="password">
                                            <expr:path>fn:data($request.inputParameters/get:PASSWORD)</expr:path>
                                        </expr:param>
                                        <expr:param name="legalId">
                                            <expr:path>fn:data($request.inputParameters/get:CUSTOMER_LEGAL_ID)</expr:path>
                                        </expr:param>
                                        <expr:param name="username">
                                            <expr:path>fn:data($request.inputParameters/get:USERNAME)</expr:path>
                                        </expr:param>
                                    </expr:xqueryTransform>
                                </trf:expr>
                            </trf:assign>
                        </bpel:extensionAssignOperation>
                        <bpel:extensionAssignOperation>
                            <trf:assign varName="bodyReqLog.InputParameters">
                                <trf:expr>
                                    <expr:xqueryTransform>
                                        <expr:resource ref="CommonResources/MiddlewareDB/ProviderServices/XQ/Tx_Msg_To_SetLogInfo"/>
                                        <expr:param name="codigoAplicacion">
                                            <expr:path>1</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoServicio">
                                            <expr:path>6</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="contenido">
                                            <expr:path>fn-bea:serialize($REQConListaGris.parameters/WSFICOBUSCARGRAYLISTType)</expr:path>
                                        </expr:param>
                                        <expr:param name="estado">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoSistema">
                                            <expr:path>2</expr:path>
                                        </expr:param>
                                        <expr:param name="nombreFlujoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaHora">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="parametros">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="uuid">
                                            <expr:path>fn:data($request.inputParameters/get:UUID)</expr:path>
                                        </expr:param>
                                        <expr:param name="version">
                                            <expr:path>'1'</expr:path>
                                        </expr:param>
                                        <expr:param name="operacionServicio">
                                            <expr:path>'ConsultaListaGris'</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoDestino">
                                            <expr:path>fn:data($request.inputParameters/get:DESTINATION_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="endpoint">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoOrigen">
                                            <expr:path>fn:data($request.inputParameters/get:SOURCE_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaTX">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="usuario">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="descripcionError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="tipoMensaje">
                                            <expr:path>'Request'</expr:path>
                                        </expr:param>
                                        <expr:param name="metodo">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                    </expr:xqueryTransform>
                                </trf:expr>
                            </trf:assign>
                        </bpel:extensionAssignOperation>
                    </bpel:assign>
                    <bpel:invoke partnerLink="SetLogInfoService_BS" operation="SetLogInfoService_BS" inputVariable="bodyReqLog" outputVariable="bodyRspLog">
                        <rescon:invokeInfo>
                            <rescon:service ref="CommonResources/MiddlewareDB/ProviderServices/BusinessServices/SetLogInfoService/v1.0/SetLogInfoService_BS" xsi:type="ns0:BusinessServiceRef"/>
                        </rescon:invokeInfo>
                    </bpel:invoke>
                    <bpel:invoke partnerLink="GetCustomersLists_BS" portType="ns1:T24WebServicesImpl" operation="ConsultaListaGris" inputVariable="REQConListaGris" outputVariable="RSPConListaGris">
                        <rescon:invokeInfo>
                            <rescon:service ref="CoreBankingHN/ProviderServices/BusinessServices/GetCustomerLists/v1.0/GetCustomersLists_BS" xsi:type="ns0:BusinessServiceRef"/>
                        </rescon:invokeInfo>
                    </bpel:invoke>
                    <bpel:assign>
                        <bpel:extensionAssignOperation>
                            <trf:assign varName="bodyReqLog.InputParameters">
                                <trf:expr>
                                    <expr:xqueryTransform>
                                        <expr:resource ref="CommonResources/MiddlewareDB/ProviderServices/XQ/Tx_Msg_To_SetLogInfo"/>
                                        <expr:param name="codigoAplicacion">
                                            <expr:path>1</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoServicio">
                                            <expr:path>6</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="contenido">
                                            <expr:path>fn-bea:serialize($RSPConListaGris.parameters)</expr:path>
                                        </expr:param>
                                        <expr:param name="estado">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoSistema">
                                            <expr:path>2</expr:path>
                                        </expr:param>
                                        <expr:param name="nombreFlujoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaHora">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="parametros">
                                            <expr:path>fn-bea:serialize($RSPConListaGris.parameters)</expr:path>
                                        </expr:param>
                                        <expr:param name="uuid">
                                            <expr:path>fn:data($request.inputParameters/get:UUID)</expr:path>
                                        </expr:param>
                                        <expr:param name="version">
                                            <expr:path>'1'</expr:path>
                                        </expr:param>
                                        <expr:param name="operacionServicio">
                                            <expr:path>'ConsultaListaGris'</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoDestino">
                                            <expr:path>fn:data($request.inputParameters/get:DESTINATION_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="endpoint">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoOrigen">
                                            <expr:path>fn:data($request.inputParameters/get:SOURCE_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaTX">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="usuario">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="descripcionError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="tipoMensaje">
                                            <expr:path>'Response'</expr:path>
                                        </expr:param>
                                        <expr:param name="metodo">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                    </expr:xqueryTransform>
                                </trf:expr>
                            </trf:assign>
                        </bpel:extensionAssignOperation>
                    </bpel:assign>
                    <bpel:invoke partnerLink="SetLogInfoService_BS" operation="SetLogInfoService_BS" inputVariable="bodyReqLog" outputVariable="bodyRspLog">
                        <rescon:invokeInfo>
                            <rescon:service ref="CommonResources/MiddlewareDB/ProviderServices/BusinessServices/SetLogInfoService/v1.0/SetLogInfoService_BS" xsi:type="ns0:BusinessServiceRef"/>
                        </rescon:invokeInfo>
                    </bpel:invoke>
                </bpel:sequence>
            </bpel:scope>
            <bpel:scope bea:name="ConsultaListaFatca">
                <bpel:sequence>
                    <bpel:assign>
                        <bpel:extensionAssignOperation>
                            <trf:assign varName="REQConListaFacta.InputParameters">
                                <trf:expr>
                                    <expr:xqueryTransform>
                                        <expr:resource ref="CoreBankingHN/RequestorServices/ProxyServices/v1.0/GetCustomerLists/XQ/sjConsultaListaFatcaIn"/>
                                        <expr:param name="sjConsultaListasClienteRequest">
                                            <expr:path>$request.inputParameters</expr:path>
                                        </expr:param>
                                    </expr:xqueryTransform>
                                </trf:expr>
                            </trf:assign>
                        </bpel:extensionAssignOperation>
                        <bpel:extensionAssignOperation>
                            <trf:assign varName="bodyReqLog.InputParameters">
                                <trf:expr>
                                    <expr:xqueryTransform>
                                        <expr:resource ref="CommonResources/MiddlewareDB/ProviderServices/XQ/Tx_Msg_To_SetLogInfo"/>
                                        <expr:param name="codigoAplicacion">
                                            <expr:path>1</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoServicio">
                                            <expr:path>6</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="contenido">
                                            <expr:path>fn-bea:serialize($REQConListaFacta.InputParameters)</expr:path>
                                        </expr:param>
                                        <expr:param name="estado">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoSistema">
                                            <expr:path>3</expr:path>
                                        </expr:param>
                                        <expr:param name="nombreFlujoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaHora">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="parametros">
                                            <expr:path>fn-bea:serialize($REQConListaFacta.InputParameters)</expr:path>
                                        </expr:param>
                                        <expr:param name="uuid">
                                            <expr:path>fn:data($request.inputParameters/get:UUID)</expr:path>
                                        </expr:param>
                                        <expr:param name="version">
                                            <expr:path>'1'</expr:path>
                                        </expr:param>
                                        <expr:param name="operacionServicio">
                                            <expr:path>'ConsultaListaFatca'</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoDestino">
                                            <expr:path>fn:data($request.inputParameters/get:DESTINATION_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="endpoint">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoOrigen">
                                            <expr:path>fn:data($request.inputParameters/get:SOURCE_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaTX">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="usuario">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="descripcionError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="tipoMensaje">
                                            <expr:path>'Request'</expr:path>
                                        </expr:param>
                                        <expr:param name="metodo">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                    </expr:xqueryTransform>
                                </trf:expr>
                            </trf:assign>
                        </bpel:extensionAssignOperation>
                    </bpel:assign>
                    <bpel:invoke partnerLink="SetLogInfoService_BS" operation="SetLogInfoService_BS" inputVariable="bodyReqLog" outputVariable="bodyRspLog">
                        <rescon:invokeInfo>
                            <rescon:service ref="CommonResources/MiddlewareDB/ProviderServices/BusinessServices/SetLogInfoService/v1.0/SetLogInfoService_BS" xsi:type="ns0:BusinessServiceRef"/>
                        </rescon:invokeInfo>
                    </bpel:invoke>
                    <bpel:invoke partnerLink="ConsultarListaFatca_db" operation="consultarListaFatca" inputVariable="REQConListaFacta" outputVariable="RSPConListaFacta">
                        <rescon:invokeInfo>
                            <rescon:service ref="CoreBankingHN/ProviderServices/BusinessServices/ConsultarListaFatca/v1.0/ConsultarListaFatca_db" xsi:type="ns0:BusinessServiceRef"/>
                        </rescon:invokeInfo>
                    </bpel:invoke>
                    <bpel:assign>
                        <bpel:extensionAssignOperation>
                            <trf:assign varName="bodyReqLog.InputParameters">
                                <trf:expr>
                                    <expr:xqueryTransform>
                                        <expr:resource ref="CommonResources/MiddlewareDB/ProviderServices/XQ/Tx_Msg_To_SetLogInfo"/>
                                        <expr:param name="codigoAplicacion">
                                            <expr:path>1</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoServicio">
                                            <expr:path>6</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="contenido">
                                            <expr:path>fn-bea:serialize($RSPConListaFacta.OutputParameters)</expr:path>
                                        </expr:param>
                                        <expr:param name="estado">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoSistema">
                                            <expr:path>3</expr:path>
                                        </expr:param>
                                        <expr:param name="nombreFlujoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaHora">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="parametros">
                                            <expr:path>fn-bea:serialize($RSPConListaFacta.OutputParameters)</expr:path>
                                        </expr:param>
                                        <expr:param name="uuid">
                                            <expr:path>fn:data($request.inputParameters/get:UUID)</expr:path>
                                        </expr:param>
                                        <expr:param name="version">
                                            <expr:path>'1'</expr:path>
                                        </expr:param>
                                        <expr:param name="operacionServicio">
                                            <expr:path>'ConsultaListaFatca'</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoDestino">
                                            <expr:path>fn:data($request.inputParameters/get:DESTINATION_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="endpoint">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoOrigen">
                                            <expr:path>fn:data($request.inputParameters/get:SOURCE_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaTX">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="usuario">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="descripcionError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="tipoMensaje">
                                            <expr:path>'Response'</expr:path>
                                        </expr:param>
                                        <expr:param name="metodo">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                    </expr:xqueryTransform>
                                </trf:expr>
                            </trf:assign>
                        </bpel:extensionAssignOperation>
                    </bpel:assign>
                    <bpel:invoke partnerLink="SetLogInfoService_BS" operation="SetLogInfoService_BS" inputVariable="bodyReqLog" outputVariable="bodyRspLog">
                        <rescon:invokeInfo>
                            <rescon:service ref="CommonResources/MiddlewareDB/ProviderServices/BusinessServices/SetLogInfoService/v1.0/SetLogInfoService_BS" xsi:type="ns0:BusinessServiceRef"/>
                        </rescon:invokeInfo>
                    </bpel:invoke>
                </bpel:sequence>
            </bpel:scope>
            <bpel:scope bea:name="ConsultaListaOFAC">
                <bpel:variables>
                    <bpel:variable name="levenshteinParam" type="xsd:string"/>
                </bpel:variables>
                <bpel:sequence>
                    <bpel:assign>
                        <bpel:extensionAssignOperation>
                            <trf:assign varName="levenshteinParam">
                                <trf:expr>
                                    <expr:xqueryText>90</expr:xqueryText>
                                </trf:expr>
                            </trf:assign>
                        </bpel:extensionAssignOperation>
                    </bpel:assign>
                    <bpel:if>
                        <bpel:condition>$levenshteinParam != 'Error'</bpel:condition>
                        <bpel:sequence>
                            <bpel:empty/>
                            <bpel:assign>
                                <bpel:extensionAssignOperation>
                                    <trf:assign varName="REQConListaOFAC.InputParameters">
                                        <trf:expr>
                                            <expr:xqueryTransform>
                                                <expr:resource ref="CoreBankingHN/RequestorServices/ProxyServices/v1.0/GetCustomerLists/XQ/sjConsultaListaOFACIn"/>
                                                <expr:param name="levenshtein">
                                                    <expr:path>$levenshteinParam</expr:path>
                                                </expr:param>
                                                <expr:param name="customerLegalId">
                                                    <expr:path>fn:data($request.inputParameters/get:CUSTOMER_LEGAL_ID)</expr:path>
                                                </expr:param>
                                                <expr:param name="customerName">
                                                    <expr:path>''</expr:path>
                                                </expr:param>
                                            </expr:xqueryTransform>
                                        </trf:expr>
                                    </trf:assign>
                                </bpel:extensionAssignOperation>
                                <bpel:extensionAssignOperation>
                                    <trf:assign varName="bodyReqLog.InputParameters">
                                        <trf:expr>
                                            <expr:xqueryTransform>
                                                <expr:resource ref="CommonResources/MiddlewareDB/ProviderServices/XQ/Tx_Msg_To_SetLogInfo"/>
                                                <expr:param name="codigoAplicacion">
                                                    <expr:path>1</expr:path>
                                                </expr:param>
                                                <expr:param name="codigoServicio">
                                                    <expr:path>6</expr:path>
                                                </expr:param>
                                                <expr:param name="codigoError">
                                                    <expr:path>''</expr:path>
                                                </expr:param>
                                                <expr:param name="contenido">
                                                    <expr:path>fn-bea:serialize($REQConListaOFAC.InputParameters)</expr:path>
                                                </expr:param>
                                                <expr:param name="estado">
                                                    <expr:path>''</expr:path>
                                                </expr:param>
                                                <expr:param name="codigoSistema">
                                                    <expr:path>9</expr:path>
                                                </expr:param>
                                                <expr:param name="nombreFlujoError">
                                                    <expr:path>''</expr:path>
                                                </expr:param>
                                                <expr:param name="fechaHora">
                                                    <expr:path>fn:current-dateTime()</expr:path>
                                                </expr:param>
                                                <expr:param name="parametros">
                                                    <expr:path>fn-bea:serialize($REQConListaOFAC.InputParameters)</expr:path>
                                                </expr:param>
                                                <expr:param name="uuid">
                                                    <expr:path>fn:data($request.inputParameters/get:UUID)</expr:path>
                                                </expr:param>
                                                <expr:param name="version">
                                                    <expr:path>'1'</expr:path>
                                                </expr:param>
                                                <expr:param name="operacionServicio">
                                                    <expr:path>'ConsultaListaOFAC'</expr:path>
                                                </expr:param>
                                                <expr:param name="bancoDestino">
                                                    <expr:path>fn:data($request.inputParameters/get:DESTINATION_BANK)</expr:path>
                                                </expr:param>
                                                <expr:param name="endpoint">
                                                    <expr:path>''</expr:path>
                                                </expr:param>
                                                <expr:param name="bancoOrigen">
                                                    <expr:path>fn:data($request.inputParameters/get:SOURCE_BANK)</expr:path>
                                                </expr:param>
                                                <expr:param name="fechaTX">
                                                    <expr:path>fn:current-dateTime()</expr:path>
                                                </expr:param>
                                                <expr:param name="usuario">
                                                    <expr:path>''</expr:path>
                                                </expr:param>
                                                <expr:param name="descripcionError">
                                                    <expr:path>''</expr:path>
                                                </expr:param>
                                                <expr:param name="tipoMensaje">
                                                    <expr:path>'Request'</expr:path>
                                                </expr:param>
                                                <expr:param name="metodo">
                                                    <expr:path>''</expr:path>
                                                </expr:param>
                                            </expr:xqueryTransform>
                                        </trf:expr>
                                    </trf:assign>
                                </bpel:extensionAssignOperation>
                            </bpel:assign>
                            <bpel:invoke partnerLink="SetLogInfoService_BS" operation="SetLogInfoService_BS" inputVariable="bodyReqLog" outputVariable="bodyRspLog">
                                <rescon:invokeInfo>
                                    <rescon:service ref="CommonResources/MiddlewareDB/ProviderServices/BusinessServices/SetLogInfoService/v1.0/SetLogInfoService_BS" xsi:type="ns0:BusinessServiceRef"/>
                                </rescon:invokeInfo>
                            </bpel:invoke>
                            <bpel:invoke inputVariable="REQConListaOFAC" operation="consultaListaOFAC" partnerLink="consultaListaOFAC_db" outputVariable="RSPConListaOFAC">
                                <rescon:invokeInfo>
                                    <rescon:service xsi:type="ns0:BusinessServiceRef" ref="CoreBankingHN/ProviderServices/BusinessServices/ConsultaListaOFAC/consultaListaOFAC_db"/>
                                </rescon:invokeInfo>
                            </bpel:invoke>
                            <bpel:assign>
                                <bpel:extensionAssignOperation>
                                    <trf:assign varName="bodyReqLog.InputParameters">
                                        <trf:expr>
                                            <expr:xqueryTransform>
                                                <expr:resource ref="CommonResources/MiddlewareDB/ProviderServices/XQ/Tx_Msg_To_SetLogInfo"/>
                                                <expr:param name="codigoAplicacion">
                                                    <expr:path>1</expr:path>
                                                </expr:param>
                                                <expr:param name="codigoServicio">
                                                    <expr:path>6</expr:path>
                                                </expr:param>
                                                <expr:param name="codigoError">
                                                    <expr:path>''</expr:path>
                                                </expr:param>
                                                <expr:param name="contenido">
                                                    <expr:path>fn-bea:serialize($RSPConListaOFAC.OutputParameters)</expr:path>
                                                </expr:param>
                                                <expr:param name="estado">
                                                    <expr:path>''</expr:path>
                                                </expr:param>
                                                <expr:param name="codigoSistema">
                                                    <expr:path>9</expr:path>
                                                </expr:param>
                                                <expr:param name="nombreFlujoError">
                                                    <expr:path>''</expr:path>
                                                </expr:param>
                                                <expr:param name="fechaHora">
                                                    <expr:path>fn:current-dateTime()</expr:path>
                                                </expr:param>
                                                <expr:param name="parametros">
                                                    <expr:path>fn-bea:serialize($RSPConListaOFAC.OutputParameters)</expr:path>
                                                </expr:param>
                                                <expr:param name="uuid">
                                                    <expr:path>fn:data($request.inputParameters/get:UUID)</expr:path>
                                                </expr:param>
                                                <expr:param name="version">
                                                    <expr:path>'1'</expr:path>
                                                </expr:param>
                                                <expr:param name="operacionServicio">
                                                    <expr:path>'ConsultaListaOFAC'</expr:path>
                                                </expr:param>
                                                <expr:param name="bancoDestino">
                                                    <expr:path>fn:data($request.inputParameters/get:DESTINATION_BANK)</expr:path>
                                                </expr:param>
                                                <expr:param name="endpoint">
                                                    <expr:path>''</expr:path>
                                                </expr:param>
                                                <expr:param name="bancoOrigen">
                                                    <expr:path>fn:data($request.inputParameters/get:SOURCE_BANK)</expr:path>
                                                </expr:param>
                                                <expr:param name="fechaTX">
                                                    <expr:path>fn:current-dateTime()</expr:path>
                                                </expr:param>
                                                <expr:param name="usuario">
                                                    <expr:path>''</expr:path>
                                                </expr:param>
                                                <expr:param name="descripcionError">
                                                    <expr:path>''</expr:path>
                                                </expr:param>
                                                <expr:param name="tipoMensaje">
                                                    <expr:path>'Response'</expr:path>
                                                </expr:param>
                                                <expr:param name="metodo">
                                                    <expr:path>''</expr:path>
                                                </expr:param>
                                            </expr:xqueryTransform>
                                        </trf:expr>
                                    </trf:assign>
                                </bpel:extensionAssignOperation>
                            </bpel:assign>
                            <bpel:invoke partnerLink="SetLogInfoService_BS" operation="SetLogInfoService_BS" inputVariable="bodyReqLog" outputVariable="bodyRspLog">
                                <rescon:invokeInfo>
                                    <rescon:service ref="CommonResources/MiddlewareDB/ProviderServices/BusinessServices/SetLogInfoService/v1.0/SetLogInfoService_BS" xsi:type="ns0:BusinessServiceRef"/>
                                </rescon:invokeInfo>
                            </bpel:invoke>
                        </bpel:sequence>
                    </bpel:if>
                </bpel:sequence>
            </bpel:scope>
            <bpel:scope bea:name="ConsultaListaNOFatca">
                <bpel:sequence>
                    <bpel:assign>
                        <bpel:extensionAssignOperation>
                            <trf:assign varName="ConsultaListaNoFatca.parameters">
                                <trf:expr>
                                    <expr:xqueryTransform>
                                        <expr:resource ref="CoreBankingHN/RequestorServices/ProxyServices/v1.0/GetCustomerLists/XQ/sjconsultaListaNoFatcaIn"/>
                                        <expr:param name="getCustomerListsHN_SJRequest">
                                            <expr:path>$request.inputParameters</expr:path>
                                        </expr:param>
                                    </expr:xqueryTransform>
                                </trf:expr>
                            </trf:assign>
                        </bpel:extensionAssignOperation>
                        <bpel:extensionAssignOperation>
                            <trf:assign varName="bodyReqLog.InputParameters">
                                <trf:expr>
                                    <expr:xqueryTransform>
                                        <expr:resource ref="CommonResources/MiddlewareDB/ProviderServices/XQ/Tx_Msg_To_SetLogInfo"/>
                                        <expr:param name="codigoAplicacion">
                                            <expr:path>1</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoServicio">
                                            <expr:path>6</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="contenido">
                                            <expr:path>fn-bea:serialize($ConsultaListaNoFatca.parameters/sjc:CUSTOMER_LEGAL_ID)</expr:path>
                                        </expr:param>
                                        <expr:param name="estado">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoSistema">
                                            <expr:path>2</expr:path>
                                        </expr:param>
                                        <expr:param name="nombreFlujoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaHora">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="parametros">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="uuid">
                                            <expr:path>fn:data($request.inputParameters/get:UUID)</expr:path>
                                        </expr:param>
                                        <expr:param name="version">
                                            <expr:path>'1'</expr:path>
                                        </expr:param>
                                        <expr:param name="operacionServicio">
                                            <expr:path>'ConsultaListaNOFatca'</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoDestino">
                                            <expr:path>fn:data($request.inputParameters/get:DESTINATION_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="endpoint">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoOrigen">
                                            <expr:path>fn:data($request.inputParameters/get:SOURCE_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaTX">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="usuario">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="descripcionError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="tipoMensaje">
                                            <expr:path>'Request'</expr:path>
                                        </expr:param>
                                        <expr:param name="metodo">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                    </expr:xqueryTransform>
                                </trf:expr>
                            </trf:assign>
                        </bpel:extensionAssignOperation>
                    </bpel:assign>
                    <bpel:invoke partnerLink="SetLogInfoService_BS" operation="SetLogInfoService_BS" inputVariable="bodyReqLog" outputVariable="bodyRspLog">
                        <rescon:invokeInfo>
                            <rescon:service ref="CommonResources/MiddlewareDB/ProviderServices/BusinessServices/SetLogInfoService/v1.0/SetLogInfoService_BS" xsi:type="ns0:BusinessServiceRef"/>
                        </rescon:invokeInfo>
                    </bpel:invoke>
                    <bpel:invoke partnerLink="ConsultaClienteNoFatca_PS" operation="ConsultadelistaclientesNoFATCA" inputVariable="ConsultaListaNoFatca" outputVariable="ConsultaListaNoFatcaRSP">
                        <rescon:invokeInfo>
                            <rescon:service ref="CoreBankingHN/ProviderServices/ProxyServices/ConsultaClienteNoFatca_PS" xsi:type="ns0:ProxyRef"/>
                        </rescon:invokeInfo>
                    </bpel:invoke>
                    <bpel:assign>
                        <bpel:extensionAssignOperation>
                            <trf:assign varName="bodyReqLog.InputParameters">
                                <trf:expr>
                                    <expr:xqueryTransform>
                                        <expr:resource ref="CommonResources/MiddlewareDB/ProviderServices/XQ/Tx_Msg_To_SetLogInfo"/>
                                        <expr:param name="codigoAplicacion">
                                            <expr:path>1</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoServicio">
                                            <expr:path>6</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="contenido">
                                            <expr:path>fn-bea:serialize($ConsultaListaNoFatcaRSP.result)</expr:path>
                                        </expr:param>
                                        <expr:param name="estado">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoSistema">
                                            <expr:path>2</expr:path>
                                        </expr:param>
                                        <expr:param name="nombreFlujoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaHora">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="parametros">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="uuid">
                                            <expr:path>fn:data($request.inputParameters/get:UUID)</expr:path>
                                        </expr:param>
                                        <expr:param name="version">
                                            <expr:path>'1'</expr:path>
                                        </expr:param>
                                        <expr:param name="operacionServicio">
                                            <expr:path>'ConsultaListaNOFatca'</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoDestino">
                                            <expr:path>fn:data($request.inputParameters/get:DESTINATION_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="endpoint">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoOrigen">
                                            <expr:path>fn:data($request.inputParameters/get:SOURCE_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaTX">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="usuario">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="descripcionError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="tipoMensaje">
                                            <expr:path>'Response'</expr:path>
                                        </expr:param>
                                        <expr:param name="metodo">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                    </expr:xqueryTransform>
                                </trf:expr>
                            </trf:assign>
                        </bpel:extensionAssignOperation>
                    </bpel:assign>
                    <bpel:invoke partnerLink="SetLogInfoService_BS" operation="SetLogInfoService_BS" inputVariable="bodyReqLog" outputVariable="bodyRspLog">
                        <rescon:invokeInfo>
                            <rescon:service ref="CommonResources/MiddlewareDB/ProviderServices/BusinessServices/SetLogInfoService/v1.0/SetLogInfoService_BS" xsi:type="ns0:BusinessServiceRef"/>
                        </rescon:invokeInfo>
                    </bpel:invoke>
                </bpel:sequence>
            </bpel:scope>
            <bpel:scope bea:name="ConsultaListaContratistasDelEstado">
                <bpel:sequence>
                    <bpel:assign>
                        <bpel:extensionAssignOperation>
                            <trf:assign varName="ConsultaListaContratistaDelEstado.parameters">
                                <trf:expr>
                                    <expr:xqueryTransform>
                                        <expr:resource ref="CoreBankingHN/RequestorServices/ProxyServices/v1.0/GetCustomerLists/XQ/sjConsultaListaContratistaDelEstadoIn"/>
                                        <expr:param name="getCustomerListsHN_SJRequest">
                                            <expr:path>$request.inputParameters</expr:path>
                                        </expr:param>
                                    </expr:xqueryTransform>
                                </trf:expr>
                            </trf:assign>
                        </bpel:extensionAssignOperation>
                        <bpel:extensionAssignOperation>
                            <trf:assign varName="bodyReqLog.InputParameters">
                                <trf:expr>
                                    <expr:xqueryTransform>
                                        <expr:resource ref="CommonResources/MiddlewareDB/ProviderServices/XQ/Tx_Msg_To_SetLogInfo"/>
                                        <expr:param name="codigoAplicacion">
                                            <expr:path>1</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoServicio">
                                            <expr:path>6</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="contenido">
                                            <expr:path>fn-bea:serialize($ConsultaListaContratistaDelEstado.parameters/sjc:CUSTOMER_LEGAL_ID)</expr:path>
                                        </expr:param>
                                        <expr:param name="estado">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoSistema">
                                            <expr:path>2</expr:path>
                                        </expr:param>
                                        <expr:param name="nombreFlujoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaHora">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="parametros">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="uuid">
                                            <expr:path>fn:data($request.inputParameters/get:UUID)</expr:path>
                                        </expr:param>
                                        <expr:param name="version">
                                            <expr:path>'1'</expr:path>
                                        </expr:param>
                                        <expr:param name="operacionServicio">
                                            <expr:path>'ConsultaListaContratistaDelEstado'</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoDestino">
                                            <expr:path>fn:data($request.inputParameters/get:DESTINATION_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="endpoint">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoOrigen">
                                            <expr:path>fn:data($request.inputParameters/get:SOURCE_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaTX">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="usuario">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="descripcionError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="tipoMensaje">
                                            <expr:path>'Request'</expr:path>
                                        </expr:param>
                                        <expr:param name="metodo">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                    </expr:xqueryTransform>
                                </trf:expr>
                            </trf:assign>
                        </bpel:extensionAssignOperation>
                    </bpel:assign>
                    <bpel:invoke partnerLink="SetLogInfoService_BS" portType="ns5:SetLogInfoService_BS_ptt" operation="SetLogInfoService_BS" inputVariable="bodyReqLog" outputVariable="bodyRspLog">
                        <rescon:invokeInfo>
                            <rescon:service ref="CommonResources/MiddlewareDB/ProviderServices/BusinessServices/SetLogInfoService/v1.0/SetLogInfoService_BS" xsi:type="ns0:BusinessServiceRef"/>
                        </rescon:invokeInfo>
                    </bpel:invoke>
                    <bpel:invoke partnerLink="ConsultaListaContratistaDelEstado_PS"
                                 operation="ConsultaListaContratistaDelEstado"
                                 inputVariable="ConsultaListaContratistaDelEstado"
                                 outputVariable="ConsultaListaContratistaDelEstadoRSP">
                        <rescon:invokeInfo>
                            <rescon:service ref="CoreBankingHN/ProviderServices/ProxyServices/ConsultaListaContratistaDelEstado_PS"
                                            xsi:type="ns0:ProxyRef"/>
                        </rescon:invokeInfo>
                    </bpel:invoke>
                    <bpel:assign>
                        <bpel:extensionAssignOperation>
                            <trf:assign varName="bodyReqLog.InputParameters">
                                <trf:expr>
                                    <expr:xqueryTransform>
                                        <expr:resource ref="CommonResources/MiddlewareDB/ProviderServices/XQ/Tx_Msg_To_SetLogInfo"/>
                                        <expr:param name="codigoAplicacion">
                                            <expr:path>1</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoServicio">
                                            <expr:path>6</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="contenido">
                                            <expr:path>fn-bea:serialize($ConsultaListaContratistaDelEstadoRSP.result)</expr:path>
                                        </expr:param>
                                        <expr:param name="estado">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoSistema">
                                            <expr:path>2</expr:path>
                                        </expr:param>
                                        <expr:param name="nombreFlujoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaHora">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="parametros">
                                            <expr:path>fn-bea:serialize($ConsultaListaContratistaDelEstadoRSP.result)</expr:path>
                                        </expr:param>
                                        <expr:param name="uuid">
                                            <expr:path>fn:data($request.inputParameters/get:UUID)</expr:path>
                                        </expr:param>
                                        <expr:param name="version">
                                            <expr:path>'1'</expr:path>
                                        </expr:param>
                                        <expr:param name="operacionServicio">
                                            <expr:path>'ConsultaListaContratistaDelEstado'</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoDestino">
                                            <expr:path>fn:data($request.inputParameters/get:DESTINATION_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="endpoint">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoOrigen">
                                            <expr:path>fn:data($request.inputParameters/get:SOURCE_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaTX">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="usuario">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="descripcionError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="tipoMensaje">
                                            <expr:path>'Response'</expr:path>
                                        </expr:param>
                                        <expr:param name="metodo">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                    </expr:xqueryTransform>
                                </trf:expr>
                            </trf:assign>
                        </bpel:extensionAssignOperation>
                    </bpel:assign>
                    <bpel:invoke partnerLink="SetLogInfoService_BS" portType="ns5:SetLogInfoService_BS_ptt" operation="SetLogInfoService_BS" inputVariable="bodyReqLog" outputVariable="bodyRspLog">
                        <rescon:invokeInfo>
                            <rescon:service ref="CommonResources/MiddlewareDB/ProviderServices/BusinessServices/SetLogInfoService/v1.0/SetLogInfoService_BS" xsi:type="ns0:BusinessServiceRef"/>
                        </rescon:invokeInfo>
                    </bpel:invoke>
                </bpel:sequence>
            </bpel:scope>
            <bpel:scope bea:name="ConsultaListasRelacionadas">
                <bpel:sequence>
                    <bpel:assign>
                        <bpel:extensionAssignOperation>
                            <trf:assign varName="REQConListaRelacionadas.InputParameters">
                                <trf:expr>
                                    <expr:xqueryTransform>
                                        <expr:resource ref="CoreBankingHN/RequestorServices/ProxyServices/v1.0/GetCustomerLists/XQ/sjConsultaListaRelacionadasIn"/>
                                        <expr:param name="getCustomerListsHN_SJRequest">
                                            <expr:path>$request.inputParameters</expr:path>
                                        </expr:param>
                                    </expr:xqueryTransform>
                                </trf:expr>
                            </trf:assign>
                        </bpel:extensionAssignOperation>
                        <bpel:extensionAssignOperation>
                            <trf:assign varName="bodyReqLog.InputParameters">
                                <trf:expr>
                                    <expr:xqueryTransform>
                                        <expr:resource ref="CommonResources/MiddlewareDB/ProviderServices/XQ/Tx_Msg_To_SetLogInfo"/>
                                        <expr:param name="codigoAplicacion">
                                            <expr:path>1</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoServicio">
                                            <expr:path>6</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="contenido">
                                            <expr:path>fn-bea:serialize($REQConListaRelacionadas.InputParameters/get1:PV_INDETIDAD)</expr:path>
                                        </expr:param>
                                        <expr:param name="estado">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoSistema">
                                            <expr:path>2</expr:path>
                                        </expr:param>
                                        <expr:param name="nombreFlujoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaHora">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="parametros">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="uuid">
                                            <expr:path>fn:data($request.inputParameters/get:UUID)</expr:path>
                                        </expr:param>
                                        <expr:param name="version">
                                            <expr:path>'1'</expr:path>
                                        </expr:param>
                                        <expr:param name="operacionServicio">
                                            <expr:path>'ConsultaListaContratistaDelEstado'</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoDestino">
                                            <expr:path>fn:data($request.inputParameters/get:DESTINATION_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="endpoint">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoOrigen">
                                            <expr:path>fn:data($request.inputParameters/get:SOURCE_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaTX">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="usuario">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="descripcionError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="tipoMensaje">
                                            <expr:path>'Request'</expr:path>
                                        </expr:param>
                                        <expr:param name="metodo">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                    </expr:xqueryTransform>
                                </trf:expr>
                            </trf:assign>
                        </bpel:extensionAssignOperation>
                    </bpel:assign>
                    <bpel:invoke partnerLink="SetLogInfoService_BS" portType="ns5:SetLogInfoService_BS_ptt"
                                 operation="SetLogInfoService_BS" outputVariable="bodyRspLog"
                                 inputVariable="bodyReqLog">
                        <rescon:invokeInfo>
                            <rescon:service xsi:type="ns0:BusinessServiceRef"
                                            ref="CommonResources/MiddlewareDB/ProviderServices/BusinessServices/SetLogInfoService/v1.0/SetLogInfoService_BS"/>
                        </rescon:invokeInfo>
                    </bpel:invoke>
                    <bpel:invoke partnerLink="GetCustomerRelatedList" operation="GetCustomerRelatedList"
                                 inputVariable="REQConListaRelacionadas" outputVariable="RSPConListaRelacionadas">
                        <rescon:invokeInfo>
                            <rescon:service ref="CoreBankingHN/ProviderServices/BusinessServices/GetCustomerRelatedList/GetCustomerRelatedList"
                                            xsi:type="ns0:BusinessServiceRef"/>
                        </rescon:invokeInfo>
                    </bpel:invoke>
                    <bpel:assign>
                        <bpel:extensionAssignOperation>
                            <trf:assign varName="bodyReqLog.InputParameters">
                                <trf:expr>
                                    <expr:xqueryTransform>
                                        <expr:resource ref="CommonResources/MiddlewareDB/ProviderServices/XQ/Tx_Msg_To_SetLogInfo"/>
                                        <expr:param name="codigoAplicacion">
                                            <expr:path>1</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoServicio">
                                            <expr:path>6</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="contenido">
                                            <expr:path>fn-bea:serialize($RSPConListaRelacionadas.OutputParameters)</expr:path>
                                        </expr:param>
                                        <expr:param name="estado">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoSistema">
                                            <expr:path>2</expr:path>
                                        </expr:param>
                                        <expr:param name="nombreFlujoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaHora">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="parametros">
                                            <expr:path>fn-bea:serialize($RSPConListaRelacionadas.OutputParameters)</expr:path>
                                        </expr:param>
                                        <expr:param name="uuid">
                                            <expr:path>fn:data($request.inputParameters/get:UUID)</expr:path>
                                        </expr:param>
                                        <expr:param name="version">
                                            <expr:path>'1'</expr:path>
                                        </expr:param>
                                        <expr:param name="operacionServicio">
                                            <expr:path>'ConsultaListaRealacionadas'</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoDestino">
                                            <expr:path>fn:data($request.inputParameters/get:DESTINATION_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="endpoint">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoOrigen">
                                            <expr:path>fn:data($request.inputParameters/get:SOURCE_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaTX">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="usuario">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="descripcionError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="tipoMensaje">
                                            <expr:path>'Response'</expr:path>
                                        </expr:param>
                                        <expr:param name="metodo">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                    </expr:xqueryTransform>
                                </trf:expr>
                            </trf:assign>
                        </bpel:extensionAssignOperation>
                    </bpel:assign>
                    <bpel:invoke partnerLink="SetLogInfoService_BS" portType="ns5:SetLogInfoService_BS_ptt"
                                 operation="SetLogInfoService_BS" outputVariable="bodyRspLog"
                                 inputVariable="bodyReqLog">
                        <rescon:invokeInfo>
                            <rescon:service xsi:type="ns0:BusinessServiceRef"
                                            ref="CommonResources/MiddlewareDB/ProviderServices/BusinessServices/SetLogInfoService/v1.0/SetLogInfoService_BS"/>
                        </rescon:invokeInfo>
                    </bpel:invoke>
                </bpel:sequence>
            </bpel:scope>
        </bpel:flow>
        <bpel:assign>
            <bpel:extensionAssignOperation>
                <trf:assign varName="response.outputParameters">
                    <trf:expr>
                        <expr:xqueryTransform>
                            <expr:resource ref="CoreBankingHN/RequestorServices/ProxyServices/v1.0/GetCustomerLists/XQ/sjConsultaListasClienteOut"/>
                            <expr:param name="consultaListaOFACResponse">
                                <expr:path>$RSPConListaOFAC.OutputParameters</expr:path>
                            </expr:param>
                            <expr:param name="consultaListaFatcaResponse">
                                <expr:path>$RSPConListaFacta.OutputParameters</expr:path>
                            </expr:param>
                            <expr:param name="consultaListaRelacionadas">
                                <expr:path>$RSPConListaRelacionadas.OutputParameters</expr:path>
                            </expr:param>
                            <expr:param name="consultadelistaPEPResponse">
                                <expr:path>$RSPConListaPEP.parameters</expr:path>
                            </expr:param>
                            <expr:param name="consultaListaContratistaDelEstado">
                                <expr:path>$ConsultaListaContratistaDelEstadoRSP.result</expr:path>
                            </expr:param>
                            <expr:param name="consultadelistanegraResponse">
                                <expr:path>$RSPConListaNegra.parameters</expr:path>
                            </expr:param>
                            <expr:param name="consultadelistagrisResponse">
                                <expr:path>$RSPConListaGris.parameters</expr:path>
                            </expr:param>
                            <expr:param name="consultaListaNoFatcaResponse">
                                <expr:path>$ConsultaListaNoFatcaRSP.result</expr:path>
                            </expr:param>
                        </expr:xqueryTransform>
                    </trf:expr>
                </trf:assign>
            </bpel:extensionAssignOperation>
        </bpel:assign>
        <bpel:reply partnerLink="GetCustomerListsHN_SJ" operation="consultaListasCliente" variable="response"/>
    </bpel:sequence>
</bpel:process>