<bpel:process name="ConsultaActivosCliente_SJ" targetNamespace="http://xmlns.oracle.com/DynamoMigrate/CoreBankingHN/" bea:name="ConsultaActivosCliente_SJ" rescon:snippetVersion="1.0" xmlns:tns="http://xmlns.oracle.com/DynamoMigrate/CoreBankingHN/" xmlns:bpel="http://docs.oasis-open.org/wsbpel/2.0/process/executable" xmlns:rescon="http://www.bea.com/alsb/flow/resources/config" xmlns:bea="http://www.bea.com/bpel/ui/extensions" xmlns:ext="http://www.bea.com/bpel/extensions" xmlns:expr="http://www.bea.com/wli/sb/stages/config" xmlns:trf="http://www.bea.com/wli/sb/stages/transform/config" xmlns:bind="http://www.ficohsa.com.hn/middleware.services/sjConsultaActivosClientePS" xmlns:ns0="http://www.bea.com/wli/sb/reference" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ns1="T24WebServicesImpl" xmlns:sjc="http://www.ficohsa.com.hn/middleware.services/sjConsultaActivosCliente" xmlns:ns2="http://xmlns.oracle.com/pcbpel/adapter/db/MiddlewareSOAApplication/ConsultaFondoPensiones/consultaFondoPensiones" xmlns:ns3="http://xmlns.oracle.com/pcbpel/adapter/db/MigrationDynamo/CommonResources/SetLogInfoService_BS" xmlns:ns4="http://www.ficohsa.com.hn/middleware.services/GetCustomerAssetsHN_SJ" xmlns:ns5="http://www.bea.com/wli/sb/pipeline/config" xmlns:ns6="http://www.ficohsa.com.hn/middleware.services/GetCustomerSavingsHN_SJPS"
              xmlns:ns7="http://xmlns.oracle.com/SBHN_Pension/SBHN_Pension_Commons/CloudCodeRestBS">
    <rescon:importInfo>
        <rescon:wsdl-import ref="CoreBankingHN/RequestorServices/ProxyServices/v1.0/GetCustomerAssets/WSDL/GetcustomerAssetsHN_SJ"/>
        <rescon:wsdl-import ref="SBHN_Pension_Commons/Resources/CloudCodeRestBS"/>
    </rescon:importInfo>
    <bpel:partnerLinks>
        <bpel:partnerLink name="ConsultaActivosCliente_SJ" partnerLinkType="tns:ConsultaActivosCliente_SJ" myRole="ConsultaActivosCliente_SJ">
	       </bpel:partnerLink>
        <bpel:partnerLink name="GetCustomerAssets_BS" partnerLinkType="tns:GetCustomerAssets_BS" partnerRole="GetCustomerAssets_BS"/>
        <bpel:partnerLink name="SetLogInfoService_BS" partnerLinkType="tns:SetLogInfoService_BS" partnerRole="SetLogInfoService_BS"/>
        <bpel:partnerLink name="GetCustomerSavingsHN_PP" partnerLinkType="tns:GetCustomerSavingsHN_PP" partnerRole="GetCustomerSavingsHN_PP"/>
        <bpel:partnerLink name="GetCustomerCurrentsHN_PP" partnerLinkType="tns:GetCustomerCurrentsHN_PP"
                          partnerRole="GetCustomerCurrentsHN_PP"/>
    </bpel:partnerLinks>

	   <bpel:variables>
        <bpel:variable name="request" messageType="bind:sjConsultaActivosClienteRequest">
	       </bpel:variable>
	       <bpel:variable name="response" messageType="bind:sjConsultaActivosClienteResponse">
	       </bpel:variable>
        <bpel:variable name="ConsultaCuentasAhorroREQ" messageType="bind:sjConsultaActivosClienteRequest"/>
        <bpel:variable name="ConsultaCuentasAhorroRSP" messageType="bind:sjConsultaActivosClienteResponse"/>
        <bpel:variable name="ConsultaDepositosREQ" messageType="ns1:Consultadecertifdepporcliente"/>
        <bpel:variable name="ConsultaDepositosRSP" messageType="ns1:ConsultadecertifdepporclienteResponse"/>
        <bpel:variable name="varLogReq" messageType="ns3:args_in_msg"/>
        <bpel:variable name="varLogRsp" messageType="ns3:args_out_msg"/>
        <bpel:variable name="ConsultaCuentasCorrienteREQ" messageType="bind:sjConsultaActivosClienteRequest"/>
        <bpel:variable name="ConsultaCuentasCorrienteRSP" messageType="bind:sjConsultaActivosClienteResponse"/>
    </bpel:variables>

    <bpel:sequence>
        <bpel:receive partnerLink="ConsultaActivosCliente_SJ" operation="consultaActivosCliente" variable="request" createInstance="yes">
	           <rescon:receiveInfo>
                <rescon:wsdl ref="CoreBankingHN/RequestorServices/ProxyServices/v1.0/GetCustomerAssets/WSDL/sjConsultaActivosCliente" binding="bind:sjConsultaActivosClientePSSOAP"/>
            </rescon:receiveInfo>
        </bpel:receive>
        <bpel:flow>
            <bpel:scope bea:name="Savings">
                <bpel:sequence>
                    <bpel:assign>
                        <bpel:extensionAssignOperation>
                            <trf:assign varName="ConsultaCuentasAhorroREQ.inputParameters">
                                <trf:expr>
                                    <expr:xqueryTransform>
                                        <expr:resource ref="CoreBankingHN/RequestorServices/ProxyServices/v1.0/GetCustomerAssets/XQ/GetCustomerSavingsHNIn"/>
                                        <expr:param name="password">
                                            <expr:path>fn:data($request.inputParameters/sjc:PASSWORD)</expr:path>
                                        </expr:param>
                                        <expr:param name="customerId">
                                            <expr:path>fn:data($request.inputParameters/sjc:CUSTOMER_ID)</expr:path>
                                        </expr:param>
                                        <expr:param name="username">
                                            <expr:path>fn:data($request.inputParameters/sjc:USERNAME)</expr:path>
                                        </expr:param>
                                    </expr:xqueryTransform>
                                </trf:expr>
                            </trf:assign>
                        </bpel:extensionAssignOperation>
                        <bpel:extensionAssignOperation>
                            <trf:assign varName="varLogReq.InputParameters">
                                <trf:expr>
                                    <expr:xqueryTransform>
                                        <expr:resource ref="CommonResources/MiddlewareDB/ProviderServices/XQ/Tx_Msg_To_SetLogInfo"/>
                                        <expr:param name="codigoAplicacion">
                                            <expr:path>1</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoServicio">
                                            <expr:path>1</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="contenido">
                                            <expr:path>fn-bea:serialize($ConsultaCuentasAhorroREQ.inputParameters/WSFICOLINKSAVINGSACCTType)</expr:path>
                                        </expr:param>
                                        <expr:param name="estado">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoSistema">
                                            <expr:path>2</expr:path>
                                        </expr:param>
                                        <expr:param name="nombreFlujoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaHora">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="parametros">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="uuid">
                                            <expr:path>fn:data($request.inputParameters/sjc:UUID)</expr:path>
                                        </expr:param>
                                        <expr:param name="version">
                                            <expr:path>'1'</expr:path>
                                        </expr:param>
                                        <expr:param name="operacionServicio">
                                            <expr:path>'Savings'</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoDestino">
                                            <expr:path>fn:data($request.inputParameters/sjc:DESTINATION_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="endpoint">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoOrigen">
                                            <expr:path>fn:data($request.inputParameters/sjc:SOURCE_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaTX">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="usuario">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="descripcionError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="tipoMensaje">
                                            <expr:path>'Request'</expr:path>
                                        </expr:param>
                                        <expr:param name="metodo">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                    </expr:xqueryTransform>
                                </trf:expr>
                            </trf:assign>
                        </bpel:extensionAssignOperation>
                    </bpel:assign>
                    <bpel:invoke partnerLink="SetLogInfoService_BS" operation="SetLogInfoService_BS" inputVariable="varLogReq" outputVariable="varLogRsp">
                        <rescon:invokeInfo>
                            <rescon:service ref="CommonResources/MiddlewareDB/ProviderServices/BusinessServices/SetLogInfoService/v1.0/SetLogInfoService_BS" xsi:type="ns0:BusinessServiceRef"/>
                        </rescon:invokeInfo>
                    </bpel:invoke>
                    <bpel:invoke partnerLink="GetCustomerSavingsHN_PP" operation="consultaActivosCliente" inputVariable="ConsultaCuentasAhorroREQ" outputVariable="ConsultaCuentasAhorroRSP">
                        <rescon:invokeInfo>
                            <rescon:service ref="CoreBankingHN/RequestorServices/ProxyServices/v1.0/GetCustomerAssets/Pipelines/GetCustomerSavingsHN_PP" xsi:type="ns5:PipelineRef"/>
                        </rescon:invokeInfo>
                    </bpel:invoke>
                    <bpel:assign>
                        <bpel:extensionAssignOperation>
                            <trf:assign varName="varLogReq.InputParameters">
                                <trf:expr>
                                    <expr:xqueryTransform>
                                        <expr:resource ref="CommonResources/MiddlewareDB/ProviderServices/XQ/Tx_Msg_To_SetLogInfo"/>
                                        <expr:param name="codigoAplicacion">
                                            <expr:path>1</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoServicio">
                                            <expr:path>1</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="contenido">
                                            <expr:path>fn-bea:serialize($ConsultaCuentasAhorroRSP.outputParameters)</expr:path>
                                        </expr:param>
                                        <expr:param name="estado">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoSistema">
                                            <expr:path>2</expr:path>
                                        </expr:param>
                                        <expr:param name="nombreFlujoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaHora">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="parametros">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="uuid">
                                            <expr:path>fn:data($request.inputParameters/sjc:UUID)</expr:path>
                                        </expr:param>
                                        <expr:param name="version">
                                            <expr:path>'1'</expr:path>
                                        </expr:param>
                                        <expr:param name="operacionServicio">
                                            <expr:path>'Savings'</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoDestino">
                                            <expr:path>fn:data($request.inputParameters/sjc:DESTINATION_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="endpoint">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoOrigen">
                                            <expr:path>fn:data($request.inputParameters/sjc:SOURCE_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaTX">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="usuario">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="descripcionError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="tipoMensaje">
                                            <expr:path>'Response'</expr:path>
                                        </expr:param>
                                        <expr:param name="metodo">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                    </expr:xqueryTransform>
                                </trf:expr>
                            </trf:assign>
                        </bpel:extensionAssignOperation>
                    </bpel:assign>
                    <bpel:invoke partnerLink="SetLogInfoService_BS" operation="SetLogInfoService_BS" inputVariable="varLogReq" outputVariable="varLogRsp">
                        <rescon:invokeInfo>
                            <rescon:service ref="CommonResources/MiddlewareDB/ProviderServices/BusinessServices/SetLogInfoService/v1.0/SetLogInfoService_BS" xsi:type="ns0:BusinessServiceRef"/>
                        </rescon:invokeInfo>
                    </bpel:invoke>
                </bpel:sequence>
            </bpel:scope>
            <bpel:scope bea:name="Currents">
                <bpel:sequence>
                    <bpel:assign>
                        <bpel:extensionAssignOperation>
                            <trf:assign varName="ConsultaCuentasCorrienteREQ.inputParameters">
                                <trf:expr>
                                    <expr:xqueryTransform>
                                        <expr:resource ref="CoreBankingHN/RequestorServices/ProxyServices/v1.0/GetCustomerAssets/XQ/GetCustomerCurrentsHNIn"/>
                                        <expr:param name="password">
                                            <expr:path>fn:data($request.inputParameters/sjc:PASSWORD)</expr:path>
                                        </expr:param>
                                        <expr:param name="customerId">
                                            <expr:path>fn:data($request.inputParameters/sjc:CUSTOMER_ID)</expr:path>
                                        </expr:param>
                                        <expr:param name="username">
                                            <expr:path>fn:data($request.inputParameters/sjc:USERNAME)</expr:path>
                                        </expr:param>
                                    </expr:xqueryTransform>
                                </trf:expr>
                            </trf:assign>
                        </bpel:extensionAssignOperation>
                        <bpel:extensionAssignOperation>
                            <trf:assign varName="varLogReq.InputParameters">
                                <trf:expr>
                                    <expr:xqueryTransform>
                                        <expr:resource ref="CommonResources/MiddlewareDB/ProviderServices/XQ/Tx_Msg_To_SetLogInfo"/>
                                        <expr:param name="codigoAplicacion">
                                            <expr:path>1</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoServicio">
                                            <expr:path>1</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="contenido">
                                            <expr:path>fn-bea:serialize($ConsultaCuentasCorrienteREQ.inputParameters/WSDYNFICOLINKCURRENTACCTType)</expr:path>
                                        </expr:param>
                                        <expr:param name="estado">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoSistema">
                                            <expr:path>2</expr:path>
                                        </expr:param>
                                        <expr:param name="nombreFlujoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaHora">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="parametros">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="uuid">
                                            <expr:path>fn:data($request.inputParameters/sjc:UUID)</expr:path>
                                        </expr:param>
                                        <expr:param name="version">
                                            <expr:path>'1'</expr:path>
                                        </expr:param>
                                        <expr:param name="operacionServicio">
                                            <expr:path>'Currents'</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoDestino">
                                            <expr:path>fn:data($request.inputParameters/sjc:DESTINATION_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="endpoint">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoOrigen">
                                            <expr:path>fn:data($request.inputParameters/sjc:SOURCE_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaTX">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="usuario">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="descripcionError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="tipoMensaje">
                                            <expr:path>'Request'</expr:path>
                                        </expr:param>
                                        <expr:param name="metodo">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                    </expr:xqueryTransform>
                                </trf:expr>
                            </trf:assign>
                        </bpel:extensionAssignOperation>
                    </bpel:assign>
                    <bpel:invoke partnerLink="SetLogInfoService_BS" operation="SetLogInfoService_BS" inputVariable="varLogReq" outputVariable="varLogRsp">
                        <rescon:invokeInfo>
                            <rescon:service ref="CommonResources/MiddlewareDB/ProviderServices/BusinessServices/SetLogInfoService/v1.0/SetLogInfoService_BS" xsi:type="ns0:BusinessServiceRef"/>
                        </rescon:invokeInfo>
                    </bpel:invoke>
                    <bpel:invoke partnerLink="GetCustomerCurrentsHN_PP" operation="consultaActivosCliente"
                                 inputVariable="ConsultaCuentasCorrienteREQ"
                                 outputVariable="ConsultaCuentasCorrienteRSP">
                        <rescon:invokeInfo>
                            <rescon:service ref="CoreBankingHN/RequestorServices/ProxyServices/v1.0/GetCustomerAssets/Pipelines/GetCustomerCurrentsHN_PP"
                                            xsi:type="ns5:PipelineRef"/>
                        </rescon:invokeInfo>
                    </bpel:invoke>
                    <bpel:assign>
                        <bpel:extensionAssignOperation>
                            <trf:assign varName="varLogReq.InputParameters">
                                <trf:expr>
                                    <expr:xqueryTransform>
                                        <expr:resource ref="CommonResources/MiddlewareDB/ProviderServices/XQ/Tx_Msg_To_SetLogInfo"/>
                                        <expr:param name="codigoAplicacion">
                                            <expr:path>1</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoServicio">
                                            <expr:path>1</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="contenido">
                                            <expr:path>fn-bea:serialize($ConsultaCuentasCorrienteRSP.outputParameters)</expr:path>
                                        </expr:param>
                                        <expr:param name="estado">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoSistema">
                                            <expr:path>2</expr:path>
                                        </expr:param>
                                        <expr:param name="nombreFlujoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaHora">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="parametros">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="uuid">
                                            <expr:path>fn:data($request.inputParameters/sjc:UUID)</expr:path>
                                        </expr:param>
                                        <expr:param name="version">
                                            <expr:path>'1'</expr:path>
                                        </expr:param>
                                        <expr:param name="operacionServicio">
                                            <expr:path>'Currents'</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoDestino">
                                            <expr:path>fn:data($request.inputParameters/sjc:DESTINATION_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="endpoint">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoOrigen">
                                            <expr:path>fn:data($request.inputParameters/sjc:SOURCE_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaTX">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="usuario">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="descripcionError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="tipoMensaje">
                                            <expr:path>'Response'</expr:path>
                                        </expr:param>
                                        <expr:param name="metodo">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                    </expr:xqueryTransform>
                                </trf:expr>
                            </trf:assign>
                        </bpel:extensionAssignOperation>
                    </bpel:assign>
                    <bpel:invoke partnerLink="SetLogInfoService_BS" operation="SetLogInfoService_BS" inputVariable="varLogReq" outputVariable="varLogRsp">
                        <rescon:invokeInfo>
                            <rescon:service ref="CommonResources/MiddlewareDB/ProviderServices/BusinessServices/SetLogInfoService/v1.0/SetLogInfoService_BS" xsi:type="ns0:BusinessServiceRef"/>
                        </rescon:invokeInfo>
                    </bpel:invoke>
                </bpel:sequence>
            </bpel:scope>
            <bpel:scope bea:name="TermDeposits">
                <bpel:sequence>
                    <bpel:assign>
                        <bpel:extensionAssignOperation>
                            <trf:assign varName="ConsultaDepositosREQ.parameters">
                                <trf:expr>
                                    <expr:xqueryTransform>
                                        <expr:resource ref="CoreBankingHN/RequestorServices/ProxyServices/v1.0/GetCustomerAssets/XQ/ConsultaCertifDepIn"/>
                                        <expr:param name="password">
                                            <expr:path>fn:data($request.inputParameters/sjc:PASSWORD)</expr:path>
                                        </expr:param>
                                        <expr:param name="customerId">
                                            <expr:path>fn:data($request.inputParameters/sjc:CUSTOMER_ID)</expr:path>
                                        </expr:param>
                                        <expr:param name="username">
                                            <expr:path>fn:data($request.inputParameters/sjc:USERNAME)</expr:path>
                                        </expr:param>
                                    </expr:xqueryTransform>
                                </trf:expr>
                            </trf:assign>
                        </bpel:extensionAssignOperation>
                        <bpel:extensionAssignOperation>
                            <trf:assign varName="varLogReq.InputParameters">
                                <trf:expr>
                                    <expr:xqueryTransform>
                                        <expr:resource ref="CommonResources/MiddlewareDB/ProviderServices/XQ/Tx_Msg_To_SetLogInfo"/>
                                        <expr:param name="codigoAplicacion">
                                            <expr:path>1</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoServicio">
                                            <expr:path>1</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="contenido">
                                            <expr:path>fn-bea:serialize($ConsultaDepositosREQ.parameters/WSFICOTERMDEPOSITType)</expr:path>
                                        </expr:param>
                                        <expr:param name="estado">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoSistema">
                                            <expr:path>2</expr:path>
                                        </expr:param>
                                        <expr:param name="nombreFlujoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaHora">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="parametros">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="uuid">
                                            <expr:path>fn:data($request.inputParameters/sjc:UUID)</expr:path>
                                        </expr:param>
                                        <expr:param name="version">
                                            <expr:path>'1'</expr:path>
                                        </expr:param>
                                        <expr:param name="operacionServicio">
                                            <expr:path>'TermDeposits'</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoDestino">
                                            <expr:path>fn:data($request.inputParameters/sjc:DESTINATION_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="endpoint">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoOrigen">
                                            <expr:path>fn:data($request.inputParameters/sjc:SOURCE_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaTX">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="usuario">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="descripcionError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="tipoMensaje">
                                            <expr:path>'Request'</expr:path>
                                        </expr:param>
                                        <expr:param name="metodo">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                    </expr:xqueryTransform>
                                </trf:expr>
                            </trf:assign>
                        </bpel:extensionAssignOperation>
                    </bpel:assign>
                    <bpel:invoke partnerLink="SetLogInfoService_BS" operation="SetLogInfoService_BS" inputVariable="varLogReq" outputVariable="varLogRsp">
                        <rescon:invokeInfo>
                            <rescon:service ref="CommonResources/MiddlewareDB/ProviderServices/BusinessServices/SetLogInfoService/v1.0/SetLogInfoService_BS" xsi:type="ns0:BusinessServiceRef"/>
                        </rescon:invokeInfo>
                    </bpel:invoke>
                    <bpel:invoke partnerLink="GetCustomerAssets_BS" outputVariable="ConsultaDepositosRSP" portType="ns1:T24WebServicesImpl" operation="Consultadecertifdepporcliente" inputVariable="ConsultaDepositosREQ">
                        <rescon:invokeInfo>
                            <rescon:service ref="CoreBankingHN/ProviderServices/BusinessServices/GetCustomerAssets/v1.0/GetCustomerAssets_BS" xsi:type="ns0:BusinessServiceRef"/>
                        </rescon:invokeInfo>
                    </bpel:invoke>
                    <bpel:assign>
                        <bpel:extensionAssignOperation>
                            <trf:assign varName="varLogReq.InputParameters">
                                <trf:expr>
                                    <expr:xqueryTransform>
                                        <expr:resource ref="CommonResources/MiddlewareDB/ProviderServices/XQ/Tx_Msg_To_SetLogInfo"/>
                                        <expr:param name="codigoAplicacion">
                                            <expr:path>1</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoServicio">
                                            <expr:path>1</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="contenido">
                                            <expr:path>fn-bea:serialize($ConsultaDepositosRSP.parameters)</expr:path>
                                        </expr:param>
                                        <expr:param name="estado">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="codigoSistema">
                                            <expr:path>2</expr:path>
                                        </expr:param>
                                        <expr:param name="nombreFlujoError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaHora">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="parametros">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="uuid">
                                            <expr:path>fn:data($request.inputParameters/sjc:UUID)</expr:path>
                                        </expr:param>
                                        <expr:param name="version">
                                            <expr:path>'1'</expr:path>
                                        </expr:param>
                                        <expr:param name="operacionServicio">
                                            <expr:path>'TermDeposits'</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoDestino">
                                            <expr:path>fn:data($request.inputParameters/sjc:DESTINATION_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="endpoint">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="bancoOrigen">
                                            <expr:path>fn:data($request.inputParameters/sjc:SOURCE_BANK)</expr:path>
                                        </expr:param>
                                        <expr:param name="fechaTX">
                                            <expr:path>fn:current-dateTime()</expr:path>
                                        </expr:param>
                                        <expr:param name="usuario">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="descripcionError">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                        <expr:param name="tipoMensaje">
                                            <expr:path>'Response'</expr:path>
                                        </expr:param>
                                        <expr:param name="metodo">
                                            <expr:path>''</expr:path>
                                        </expr:param>
                                    </expr:xqueryTransform>
                                </trf:expr>
                            </trf:assign>
                        </bpel:extensionAssignOperation>
                    </bpel:assign>
                    <bpel:invoke partnerLink="SetLogInfoService_BS" operation="SetLogInfoService_BS" inputVariable="varLogReq" outputVariable="varLogRsp">
                        <rescon:invokeInfo>
                            <rescon:service ref="CommonResources/MiddlewareDB/ProviderServices/BusinessServices/SetLogInfoService/v1.0/SetLogInfoService_BS" xsi:type="ns0:BusinessServiceRef"/>
                        </rescon:invokeInfo>
                    </bpel:invoke>
                </bpel:sequence>
            </bpel:scope>
        </bpel:flow>
        <bpel:assign>
            <bpel:extensionAssignOperation>
                <trf:assign varName="response.outputParameters">
                    <trf:expr>
                        <expr:xqueryTransform>
                            <expr:resource ref="CoreBankingHN/RequestorServices/ProxyServices/v1.0/GetCustomerAssets/XQ/ConsultaActivosClienteSJOut"/>
                            <expr:param name="ConsultadecertifdepporclienteResponse">
                                <expr:path>$ConsultaDepositosRSP.parameters</expr:path>
                            </expr:param>
                            <expr:param name="ConsultadectasahorroporclienteResponse">
                                <expr:path>$ConsultaCuentasAhorroRSP.outputParameters</expr:path>
                            </expr:param>
                            <expr:param name="ConsultactascorrienteporclienteResponse">
                                <expr:path>$ConsultaCuentasCorrienteRSP.outputParameters</expr:path>
                            </expr:param>
                            <expr:param name="assetType">
                                <expr:path>fn:string($request.inputParameters/sjc:ASSET_TYPE/text())</expr:path>
                            </expr:param>
                        </expr:xqueryTransform>
                    </trf:expr>
                </trf:assign>
            </bpel:extensionAssignOperation>
        </bpel:assign>
        <bpel:reply partnerLink="ConsultaActivosCliente_SJ" operation="consultaActivosCliente" variable="response"/>
    </bpel:sequence>
</bpel:process>