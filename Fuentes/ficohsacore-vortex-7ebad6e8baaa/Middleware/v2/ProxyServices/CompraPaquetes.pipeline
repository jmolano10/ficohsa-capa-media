<?xml version="1.0" encoding="UTF-8"?>
<con:pipelineEntry xmlns:con="http://www.bea.com/wli/sb/pipeline/config" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:oper="http://xmlns.oracle.com/servicebus/pipeline/operations">
    <con:coreEntry>
        <con:binding type="SOAP" isSoap12="false" xsi:type="con:SoapBindingType">
            <con:wsdl ref="Middleware/v2/Resources/CompraPaquete/wsdl/compraPaquetePS"/>
            <con:binding>
                <con:name>compraPaquetePSSOAP</con:name>
                <con:namespace>http://www.ficohsa.com.hn/middleware.services/compraPaquete/</con:namespace>
            </con:binding>
        </con:binding>
        <oper:operations>
            <oper:monitoring enabled="true" aggregationInterval="360" level="action"/>
            <oper:tracingEnabled>false</oper:tracingEnabled>
            <oper:reporting>true</oper:reporting>
            <oper:logging enabled="true" level="debug"/>
            <oper:sla-alerting enabled="true" level="normal"/>
            <oper:pipeline-alerting enabled="true" level="normal"/>
        </oper:operations>
    </con:coreEntry>
    <con:router errorHandler="_onErrorHandler-8227885015690214939-6c56e388.16b2456afa6.-7e11" xmlns:ser="http://www.bea.com/wli/sb/services" xmlns:tran="http://www.bea.com/wli/sb/transports" xmlns:env="http://www.bea.com/wli/config/env" xmlns:http="http://www.bea.com/wli/sb/transports/http" xmlns:con1="http://www.bea.com/wli/sb/stages/config" xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con3="http://www.bea.com/wli/sb/stages/publish/config" xmlns:con4="http://www.bea.com/wli/sb/services/security/config">
        <con:pipeline type="error" name="_onErrorHandler-7569024615484913906-4062b495.16fe784af14.-6cb6">
            <con:stage name="ManejoErrorOperadorTelefonico">
                <con:context>
                    <con1:userNsDecl namespace="http://www.bea.com/wli/sb/stages/transform/config" prefix="con1"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/compraPaqueteTypes" prefix="com"/>
                </con:context>
                <con:actions>
                    <con2:assign varName="successIndicator">
                        <con1:id>_ActionId-7800940371823383108-1b2f955e.181073af7cf.-7f84</con1:id>
                        <con2:expr>
                            <con1:xqueryText>let $faultCode := string($fault/ctx:details/con1:ReceivedFaultDetail/con1:faultcode/text())
return
	if($faultCode != "") then (
		$faultCode
	) else (
		string($fault/ctx:errorCode/text())
	)</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con2:assign varName="validationMessage">
                        <con1:id>_ActionId-7800940371823383108-1b2f955e.181073af7cf.-7f82</con1:id>
                        <con2:expr>
                            <con1:xqueryText>let $faultString := string($fault/ctx:details/con1:ReceivedFaultDetail/con1:faultstring/text())
return
	if($faultString != "") then (
		$faultString
	) else (
		string($fault/ctx:reason/text())
	)</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con2:assign varName="faultException">
                        <con1:id>_ActionId-7800940371823383108-1b2f955e.181073af7cf.-7f4c</con1:id>
                        <con2:expr>
                            <con1:xqueryText>$fault</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con3:route>
                        <con1:id>_ActionId-7800940371823383108-1b2f955e.181073af7cf.-7f87</con1:id>
                        <con3:service ref="Middleware/v2/BusinessServices/Terceros/biz/registraBitacoraTerceroDetalle_db" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>registraBitacoraTerceroDetalle</con3:operation>
                        <con3:outboundTransform>
                            <con2:replace varName="body" contents-only="true">
                                <con1:id>_ActionId-7800940371823383108-1b2f955e.181073af7cf.-7f86</con1:id>
                                <con2:expr>
                                    <con1:xqueryTransform>
                                        <con1:resource ref="Middleware/v2/Resources/CompraPaquete/xq/compraPaqMovRegBitacoraDet"/>
                                        <con1:param name="target">
                                            <con1:path>fn:string($body/com:compraPaquete/PHONE_CARRIER/text())</con1:path>
                                        </con1:param>
                                        <con1:param name="operationCode">
                                            <con1:path>"2"</con1:path>
                                        </con1:param>
                                        <con1:param name="uuid">
                                            <con1:path>$uuid</con1:path>
                                        </con1:param>
                                        <con1:param name="response">
                                            <con1:path>$faultException</con1:path>
                                        </con1:param>
                                        <con1:param name="primaryKey">
                                            <con1:path>fn:string($body/com:compraPaquete/PHONE_NUMBER/text())</con1:path>
                                        </con1:param>
                                        <con1:param name="message">
                                            <con1:path>$validationMessage</con1:path>
                                        </con1:param>
                                        <con1:param name="serviceId">
                                            <con1:path>"FICBCO0337"</con1:path>
                                        </con1:param>
                                        <con1:param name="successIndicator">
                                            <con1:path>$successIndicator</con1:path>
                                        </con1:param>
                                        <con1:param name="request">
                                            <con1:path>if($phoneCarrier = 'PHOCARRIER01') then ($REQPaquetesMovilesClaro) else ($REQPaquetesTigo)</con1:path>
                                        </con1:param>
                                    </con1:xqueryTransform>
                                </con2:expr>
                            </con2:replace>
                        </con3:outboundTransform>
                    </con3:route>
                    <con1:resume>
                        <con1:id>_ActionId-7569024615484913906-4062b495.16fe784af14.-6c3f</con1:id>
                    </con1:resume>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="request" name="ValidacionesGenerales_request">
            <con:stage name="ValidacionXSD" xmlns:con3="http://www.bea.com/wli/sb/services/security/config">
                <con:context>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/compraRecargaTypes" prefix="com"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/compraPaqueteTypes" prefix="com1"/>
                </con:context>
                <con:actions>
                    <con2:validate>
                        <con1:id>_ActionId-1800766225244534157--15f02c65.16c6d5c5764.-7f0d</con1:id>
                        <con2:schema ref="Middleware/v2/Resources/CompraPaquete/xsd/compraPaqueteTypes"/>
                        <con2:schemaElement xmlns:com="http://www.ficohsa.com.hn/middleware.services/compraRecargaTypes" xmlns:com1="http://www.ficohsa.com.hn/middleware.services/compraPaqueteTypes">com1:compraPaquete</con2:schemaElement>
                        <con2:varName>body</con2:varName>
                        <con2:location>
                            <con1:xpathText>./com1:compraPaquete</con1:xpathText>
                        </con2:location>
                    </con2:validate>
                </con:actions>
            </con:stage>
            <con:stage name="ValidacionServicioRegional" xmlns:con3="http://www.bea.com/wli/sb/services/security/config">
                <con:context>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/compraRecargaTypes" prefix="com"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/autType" prefix="aut"/>
                    <con1:varNsDecl namespace="http://xmlns.oracle.com/pcbpel/adapter/db/sp/ValidaServicioRegional" prefix="val"/>
                </con:context>
                <con:actions>
                    <con2:wsCallout>
                        <con1:id>_ActionId-1800766225244534157--15f02c65.16c6d5c5764.-7f05</con1:id>
                        <con2:service xsi:type="ref:BusinessServiceRef" ref="Middleware/v2/BusinessServices/ValidaServicioRegional/biz/ValidaServicioRegional_db" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con2:operation>ValidaServicioRegional</con2:operation>
                        <con2:request>
                            <con2:body>reqValidaServicioRegional</con2:body>
                        </con2:request>
                        <con2:response>
                            <con2:body>respValidaServicioRegional</con2:body>
                        </con2:response>
                        <con2:requestTransform>
                            <con2:assign varName="reqValidaServicioRegional">
                                <con1:id>_ActionId-1800766225244534157--15f02c65.16c6d5c5764.-7f0c</con1:id>
                                <con2:expr>
                                    <con1:xqueryTransform>
                                        <con1:resource ref="Middleware/v2/Resources/Generales/xq/validaServicioRegionalIn"/>
                                        <con1:param name="requestHeader1">
                                            <con1:path>$header/aut:RequestHeader</con1:path>
                                        </con1:param>
                                        <con1:param name="serviceId">
                                            <con1:path>"FICBCO0337"</con1:path>
                                        </con1:param>
                                    </con1:xqueryTransform>
                                </con2:expr>
                            </con2:assign>
                        </con2:requestTransform>
                        <con2:responseTransform>
                            <con2:ifThenElse>
                                <con1:id>_ActionId-1800766225244534157--15f02c65.16c6d5c5764.-7f0b</con1:id>
                                <con2:case>
                                    <con2:condition>
                                        <con1:xqueryText>fn:string($respValidaServicioRegional/val:PV_CODIGO_ERROR/text()) != 'SUCCESS'</con1:xqueryText>
                                    </con2:condition>
                                    <con2:actions>
                                        <con2:replace contents-only="true" varName="header">
                                            <con1:id>_ActionId-1800766225244534157--15f02c65.16c6d5c5764.-7f0a</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText><![CDATA[<aut:ResponseHeader>
      <successIndicator>ERROR</successIndicator>
      <messages>{fn:string($respValidaServicioRegional/val:PV_MENSAJE_ERROR/text())}</messages>
</aut:ResponseHeader>]]></con1:xqueryText>
                                            </con2:expr>
                                        </con2:replace>
                                        <con2:replace contents-only="true" varName="body">
                                            <con1:id>_ActionId-1800766225244534157--15f02c65.16c6d5c5764.-7f09</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText>&lt;com:compraRecargaResponse/></con1:xqueryText>
                                            </con2:expr>
                                        </con2:replace>
                                        <con1:reply>
                                            <con1:id>_ActionId-1800766225244534157--15f02c65.16c6d5c5764.-7f08</con1:id>
                                        </con1:reply>
                                    </con2:actions>
                                </con2:case>
                                <con2:default>
                                    <con2:replace contents-only="true" varName="header">
                                        <con1:id>_ActionId-1800766225244534157--15f02c65.16c6d5c5764.-7f07</con1:id>
                                        <con2:expr>
                                            <con1:xqueryTransform>
                                                <con1:resource ref="Middleware/v2/Resources/Generales/xq/aplicarValoresPorDefectoRegion"/>
                                                <con1:param name="requestHeader">
                                                    <con1:path>$header/aut:RequestHeader</con1:path>
                                                </con1:param>
                                            </con1:xqueryTransform>
                                        </con2:expr>
                                    </con2:replace>
                                    <con2:assign varName="areSameSourceAndDestination">
                                        <con1:id>_ActionId-1800766225244534157--15f02c65.16c6d5c5764.-7f06</con1:id>
                                        <con2:expr>
                                            <con1:xqueryTransform>
                                                <con1:resource ref="Middleware/v2/Resources/Generales/xq/validarCrucePaisEmpresa"/>
                                                <con1:param name="requestHeader">
                                                    <con1:path>$header/aut:RequestHeader</con1:path>
                                                </con1:param>
                                            </con1:xqueryTransform>
                                        </con2:expr>
                                    </con2:assign>
                                </con2:default>
                            </con2:ifThenElse>
                        </con2:responseTransform>
                    </con2:wsCallout>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="response" name="CompraPaquetes_response">
            <con:stage name="Response">
                <con:context>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/autType" prefix="aut"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/compraPaqueteTypes" prefix="com"/>
                </con:context>
                <con:actions>
                    <con2:ifThenElse>
                        <con1:id>_ActionId-9124541888682138008--355a5d1c.16c73b3130d.-6dc5</con1:id>
                        <con2:case>
                            <con2:condition>
                                <con1:xqueryText>$validationMessage = ""</con1:xqueryText>
                            </con2:condition>
                            <con2:actions>
                                <con2:replace varName="header" contents-only="true">
                                    <con1:id>_ActionId-9124541888682138008--355a5d1c.16c73b3130d.-6a02</con1:id>
                                    <con2:location>
                                        <con1:xpathText>.</con1:xpathText>
                                    </con2:location>
                                    <con2:expr>
                                        <con1:xqueryTransform>
                                            <con1:resource ref="Middleware/v2/Resources/CompraPaquete/xq/compraPaqueteMovilHdrOut"/>
                                            <con1:param name="pagoDePaquetesMovilesFTResponse">
                                                <con1:path>$RSPPagoPaqueteT24</con1:path>
                                            </con1:param>
                                        </con1:xqueryTransform>
                                    </con2:expr>
                                </con2:replace>
                                <con2:replace contents-only="true" varName="body">
                                    <con1:id>_ActionId-5296419917846190249-73e015ec.16ccaa7f36e.-7f03</con1:id>
                                    <con2:expr>
                                        <con1:xqueryTransform>
                                            <con1:resource ref="Middleware/v2/Resources/CompraPaquete/xq/compraPaqueteMovilOut"/>
                                            <con1:param name="pagoDePaquetesMovilesFTResponse">
                                                <con1:path>$RSPPagoPaqueteT24</con1:path>
                                            </con1:param>
                                        </con1:xqueryTransform>
                                    </con2:expr>
                                </con2:replace>
                            </con2:actions>
                        </con2:case>
                        <con2:default>
                            <con2:replace varName="header" contents-only="true">
                                <con1:id>_ActionId-9124541888682138008--355a5d1c.16c73b3130d.-6b16</con1:id>
                                <con2:location>
                                    <con1:xpathText>.</con1:xpathText>
                                </con2:location>
                                <con2:expr>
                                    <con1:xqueryText><![CDATA[<aut:ResponseHeader>
      <successIndicator>ERROR</successIndicator>
      <messages>{fn:string($validationMessage)}</messages>
</aut:ResponseHeader>]]></con1:xqueryText>
                                </con2:expr>
                            </con2:replace>
                            <con2:replace varName="body" contents-only="true">
                                <con1:id>_ActionId-9124541888682138008--355a5d1c.16c73b3130d.-6ac1</con1:id>
                                <con2:location>
                                    <con1:xpathText>.</con1:xpathText>
                                </con2:location>
                                <con2:expr>
                                    <con1:xqueryText>&lt;com:compraPaqueteResponse/></con1:xqueryText>
                                </con2:expr>
                            </con2:replace>
                        </con2:default>
                    </con2:ifThenElse>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="response" name="ValidacionesGenerales_response">
            <con:stage name="MapeoError">
                <con4:context xmlns:con3="http://www.bea.com/wli/sb/services/security/config" xmlns:con4="http://www.bea.com/wli/sb/pipeline/config">
                    <con5:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/autType" prefix="aut" xmlns:con5="http://www.bea.com/wli/sb/stages/config"/>
                    <con5:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/pagosMasivosTypes" prefix="pag" xmlns:con5="http://www.bea.com/wli/sb/stages/config"/>
                </con4:context>
                <con4:actions xmlns:con3="http://www.bea.com/wli/sb/services/security/config" xmlns:con4="http://www.bea.com/wli/sb/pipeline/config">
                    <con5:ifThenElse xmlns:con5="http://www.bea.com/wli/sb/stages/transform/config">
                        <con1:id>_ActionId-8794017692992136879-536ca0b9.16cd512e1d5.-7f8a</con1:id>
                        <con5:case>
                            <con5:condition>
                                <con5:xqueryText xmlns:con5="http://www.bea.com/wli/sb/stages/config">fn:upper-case(fn:string($header/aut:ResponseHeader/successIndicator/text())) != "SUCCESS"</con5:xqueryText>
                            </con5:condition>
                            <con5:actions>
                                <con5:wsCallout>
                                    <con1:id>_ActionId-8794017692992136879-536ca0b9.16cd512e1d5.-7f87</con1:id>
                                    <con5:service xsi:type="ref:ProxyRef" ref="Middleware/v2/ProxyServices/MapeoErrores" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                    <con5:operation>mapeoErrores</con5:operation>
                                    <con5:request>
                                        <con5:body>REQMapeoErrores</con5:body>
                                    </con5:request>
                                    <con5:response>
                                        <con5:body>RSPMapeoErrores</con5:body>
                                    </con5:response>
                                    <con5:requestTransform>
                                        <con5:assign varName="REQMapeoErrores">
                                            <con1:id>_ActionId-8794017692992136879-536ca0b9.16cd512e1d5.-7f89</con1:id>
                                            <con5:expr>
                                                <con5:xqueryTransform xmlns:con5="http://www.bea.com/wli/sb/stages/config">
                                                    <con5:resource ref="Middleware/v2/Resources/MapeoErrores/xq/mapeoErroresUsageIn"/>
                                                    <con5:param name="CODIGO_ERROR">
                                                        <con5:path>fn:upper-case(fn:string($header/aut:ResponseHeader/successIndicator/text()))</con5:path>
                                                    </con5:param>
                                                    <con5:param name="MENSAJE_ERROR">
                                                        <con5:path>fn:concat("FICBCO0337","$#$",fn:string-join($header/aut:ResponseHeader/messages, '||'))</con5:path>
                                                    </con5:param>
                                                </con5:xqueryTransform>
                                            </con5:expr>
                                        </con5:assign>
                                    </con5:requestTransform>
                                    <con5:responseTransform>
                                        <con5:replace varName="header" contents-only="true">
                                            <con1:id>_ActionId-8794017692992136879-536ca0b9.16cd512e1d5.-7f88</con1:id>
                                            <con5:expr>
                                                <con5:xqueryTransform xmlns:con5="http://www.bea.com/wli/sb/stages/config">
                                                    <con5:resource ref="Middleware/v2/Resources/MapeoErrores/xq/mapeoErroresUsageOut"/>
                                                    <con5:param name="mapeoErroresResponse1">
                                                        <con5:path>$RSPMapeoErrores</con5:path>
                                                    </con5:param>
                                                    <con5:param name="successIndicator">
                                                        <con5:path>fn:string($header/aut:ResponseHeader/successIndicator/text())</con5:path>
                                                    </con5:param>
                                                </con5:xqueryTransform>
                                            </con5:expr>
                                        </con5:replace>
                                    </con5:responseTransform>
                                </con5:wsCallout>
                            </con5:actions>
                        </con5:case>
                        <con5:default/>
                    </con5:ifThenElse>
                </con4:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="request" name="CompraPaquetes_request">
            <con:stage name="Parametrizacion">
                <con3:context xmlns:con4="http://www.bea.com/wli/sb/stages/publish/config" xmlns:con5="http://www.bea.com/wli/sb/stages/logging/config" xmlns:con2="http://www.bea.com/wli/sb/services/security/config" xmlns:con3="http://www.bea.com/wli/sb/pipeline/config">
                    <con1:userNsDecl namespace="http://xmlns.oracle.com/pcbpel/adapter/db/ORA_BANK/OSB_GET_CONFIG/" prefix="osb"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/autType" prefix="aut"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/compraPaqueteTypes" prefix="com"/>
                </con3:context>
                <con3:actions xmlns:con4="http://www.bea.com/wli/sb/stages/publish/config" xmlns:con5="http://www.bea.com/wli/sb/stages/logging/config" xmlns:con2="http://www.bea.com/wli/sb/services/security/config" xmlns:con3="http://www.bea.com/wli/sb/pipeline/config">
                    <con6:assign varName="transIdFT" xmlns:con6="http://www.bea.com/wli/sb/stages/transform/config">
                        <con1:id>_ActionId-6976163127853947835-70849a7d.16db6631545.-7f07</con1:id>
                        <con6:expr>
                            <con1:xqueryText>""</con1:xqueryText>
                        </con6:expr>
                    </con6:assign>
                    <con6:assign varName="operatorReference" xmlns:con6="http://www.bea.com/wli/sb/stages/transform/config">
                        <con1:id>_ActionId-6976163127853947835-70849a7d.16db6631545.-7f3f</con1:id>
                        <con6:expr>
                            <con1:xqueryText>""</con1:xqueryText>
                        </con6:expr>
                    </con6:assign>
                    <con6:assign varName="validationMessage" xmlns:con6="http://www.bea.com/wli/sb/stages/transform/config">
                        <con1:id>_ActionId-8794017692992136879-536ca0b9.16cd512e1d5.-7556</con1:id>
                        <con6:expr>
                            <con1:xqueryText>""</con1:xqueryText>
                        </con6:expr>
                    </con6:assign>
                    <con6:assign varName="extnwcodeParam" xmlns:con6="http://www.bea.com/wli/sb/stages/transform/config">
                        <con1:id>_ActionId-8794017692992136879-536ca0b9.16cd512e1d5.-743e</con1:id>
                        <con6:expr>
                            <con1:xqueryText>fn:concat("FICBCO0337",".",
			data($header/aut:RequestHeader/Region/SourceBank/text()),".",
			"EXTNWCODE", ".",
			data($body/com:compraPaquete/PHONE_CARRIER/text()))</con1:xqueryText>
                        </con6:expr>
                    </con6:assign>
                    <con2:assign varName="typeParam" xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config">
                        <con1:id>_ActionId-8794017692992136879-536ca0b9.16cd512e1d5.-755a</con1:id>
                        <con2:expr>
                            <con1:xqueryText>fn:concat("FICBCO0337",".",
			data($header/aut:RequestHeader/Region/SourceBank/text()),".",
			"TYPE", ".",
			data($body/com:compraPaquete/PHONE_CARRIER/text()))</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con2:assign varName="msidnParam" xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config">
                        <con1:id>_ActionId-8794017692992136879-536ca0b9.16cd512e1d5.-7559</con1:id>
                        <con2:expr>
                            <con1:xqueryText>fn:concat("FICBCO0337",".",
			data($header/aut:RequestHeader/Region/SourceBank/text()),".",
			"MSISDN", ".",
			data($body/com:compraPaquete/PHONE_CARRIER/text()))</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con2:assign varName="extCodeParam" xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config">
                        <con1:id>_ActionId-8794017692992136879-536ca0b9.16cd512e1d5.-7558</con1:id>
                        <con2:expr>
                            <con1:xqueryText>fn:concat("FICBCO0337",".",
			data($header/aut:RequestHeader/Region/SourceBank/text()),".",
			"EXTCODE", ".",
			data($body/com:compraPaquete/PHONE_CARRIER/text()))</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con6:assign varName="phoneCarrierParam" xmlns:con6="http://www.bea.com/wli/sb/stages/transform/config">
                        <con1:id>_ActionId-9124541888682138008--355a5d1c.16c73b3130d.-73d3</con1:id>
                        <con6:expr>
                            <con1:xqueryText>fn:concat("FICBCO0337",".",
			data($header/aut:RequestHeader/Region/SourceBank/text()),".",
			"PHONE.CARRIER", ".",
			data($body/com:compraPaquete/PHONE_CARRIER/text()))</con1:xqueryText>
                        </con6:expr>
                    </con6:assign>
                    <con6:assign varName="serviceAccountParam" xmlns:con6="http://www.bea.com/wli/sb/stages/transform/config">
                        <con1:id>_ActionId-9124541888682138008--355a5d1c.16c73b3130d.-7396</con1:id>
                        <con6:expr>
                            <con1:xqueryText>fn:concat("FICBCO0337",".",
			data($header/aut:RequestHeader/Region/SourceBank/text()),".",
			"SERVICE.ACCOUNT", ".",
			data($body/com:compraPaquete/PHONE_CARRIER/text()))</con1:xqueryText>
                        </con6:expr>
                    </con6:assign>
                    <con6:assign varName="contractIdParam" xmlns:con6="http://www.bea.com/wli/sb/stages/transform/config">
                        <con1:id>_ActionId-9124541888682138008--355a5d1c.16c73b3130d.-696b</con1:id>
                        <con6:expr>
                            <con1:xqueryText>fn:concat("FICBCO0337",".",
			data($header/aut:RequestHeader/Region/SourceBank/text()),".",
			"CONTRACT.ID", ".",
			data($body/com:compraPaquete/PHONE_CARRIER/text()))</con1:xqueryText>
                        </con6:expr>
                    </con6:assign>
                    <con6:assign varName="distCategoryParam" xmlns:con6="http://www.bea.com/wli/sb/stages/transform/config">
                        <con1:id>_ActionId-7668225397137611759--593b0ef0.16eadf70751.-74ec</con1:id>
                        <con6:expr>
                            <con1:xqueryText>fn:concat("FICBCO0337",".",
			data($header/aut:RequestHeader/Region/SourceBank/text()),".",
			"DIST.CATEGORY", ".",
			data($body/com:compraPaquete/PHONE_CARRIER/text()))</con1:xqueryText>
                        </con6:expr>
                    </con6:assign>
                    <con6:wsCallout xmlns:con6="http://www.bea.com/wli/sb/stages/transform/config">
                        <con1:id>_ActionId-9124541888682138008--355a5d1c.16c73b3130d.-73d0</con1:id>
                        <con6:service xsi:type="ref:BusinessServiceRef" ref="Middleware/Business_Resources/general/Resources/ObtenerParametrizacion/ObtenerParametrizacion" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con6:operation>obtenerParametrizacion</con6:operation>
                        <con6:request>
                            <con6:body>REQObtenerParams</con6:body>
                        </con6:request>
                        <con6:response>
                            <con6:body>RSPObtenerParams</con6:body>
                        </con6:response>
                        <con6:requestTransform>
                            <con6:assign varName="REQObtenerParams">
                                <con1:id>_ActionId-9124541888682138008--355a5d1c.16c73b3130d.-73d2</con1:id>
                                <con6:expr>
                                    <con1:xqueryTransform>
                                        <con1:resource ref="Middleware/Business_Resources/general/Parametrizacion/obtenerParametrizacionIn"/>
                                        <con1:param name="nombreParametros">
                                            <con1:path>fn:concat($phoneCarrierParam, "||",
$serviceAccountParam, "||",
$contractIdParam, "||",
$typeParam, "||",
$extCodeParam, "||",
$msidnParam, "||",
$extnwcodeParam, "||",
$distCategoryParam)</con1:path>
                                        </con1:param>
                                    </con1:xqueryTransform>
                                </con6:expr>
                            </con6:assign>
                        </con6:requestTransform>
                        <con6:responseTransform>
                            <con6:assign varName="successIndicator">
                                <con1:id>_ActionId-8794017692992136879-536ca0b9.16cd512e1d5.-7495</con1:id>
                                <con6:expr>
                                    <con1:xqueryText>fn:string($RSPObtenerParams/osb:ERROR_CODE/text())</con1:xqueryText>
                                </con6:expr>
                            </con6:assign>
                            <con6:assign varName="extnwcode">
                                <con1:id>_ActionId-8794017692992136879-536ca0b9.16cd512e1d5.-7421</con1:id>
                                <con6:expr>
                                    <con1:xqueryText>let $extnwcode := fn:string($RSPObtenerParams/osb:CONFIGURACIONES/osb:CONFIGURACIONES_ITEM[osb:NAME=$extnwcodeParam]/osb:VALUE/text())
return
	if ($extnwcode != "") then (
		$extnwcode
	) else (
		"NO_RECORD"
	)</con1:xqueryText>
                                </con6:expr>
                            </con6:assign>
                            <con6:assign varName="type">
                                <con1:id>_ActionId-8794017692992136879-536ca0b9.16cd512e1d5.-7497</con1:id>
                                <con6:expr>
                                    <con1:xqueryText>let $type := fn:string($RSPObtenerParams/osb:CONFIGURACIONES/osb:CONFIGURACIONES_ITEM[osb:NAME=$typeParam]/osb:VALUE/text())
return
	if ($type != "") then (
		$type
	) else (
		"NO_RECORD"
	)</con1:xqueryText>
                                </con6:expr>
                            </con6:assign>
                            <con6:assign varName="msidn">
                                <con1:id>_ActionId-8794017692992136879-536ca0b9.16cd512e1d5.-7478</con1:id>
                                <con6:expr>
                                    <con1:xqueryText>let $msidn := fn:string($RSPObtenerParams/osb:CONFIGURACIONES/osb:CONFIGURACIONES_ITEM[osb:NAME=$msidnParam]/osb:VALUE/text())
return
	if ($msidn != "") then (
		$msidn
	) else (
		"NO_RECORD"
	)</con1:xqueryText>
                                </con6:expr>
                            </con6:assign>
                            <con6:assign varName="extCode">
                                <con1:id>_ActionId-8794017692992136879-536ca0b9.16cd512e1d5.-745b</con1:id>
                                <con6:expr>
                                    <con1:xqueryText>let $extCode := fn:string($RSPObtenerParams/osb:CONFIGURACIONES/osb:CONFIGURACIONES_ITEM[osb:NAME=$extCodeParam]/osb:VALUE/text())
return
	if ($extCode != "") then (
		$extCode
	) else (
		"NO_RECORD"
	)</con1:xqueryText>
                                </con6:expr>
                            </con6:assign>
                            <con6:assign varName="phoneCarrier">
                                <con1:id>_ActionId-9124541888682138008--355a5d1c.16c73b3130d.-73d1</con1:id>
                                <con6:expr>
                                    <con1:xqueryText>let $phoneCarrier := fn:string($RSPObtenerParams/osb:CONFIGURACIONES/osb:CONFIGURACIONES_ITEM[osb:NAME=$phoneCarrierParam]/osb:VALUE/text())
return
	if ($phoneCarrier != "") then (
		$phoneCarrier
	) else (
		"NO_RECORD"
	)</con1:xqueryText>
                                </con6:expr>
                            </con6:assign>
                            <con6:assign varName="serviceAccount">
                                <con1:id>_ActionId-9124541888682138008--355a5d1c.16c73b3130d.-7379</con1:id>
                                <con6:expr>
                                    <con1:xqueryText>let $serviceAccount := fn:string($RSPObtenerParams/osb:CONFIGURACIONES/osb:CONFIGURACIONES_ITEM[osb:NAME=$serviceAccountParam]/osb:VALUE/text())
return
	if ($serviceAccount != "") then (
		$serviceAccount
	) else (
		"NO_RECORD"
	)</con1:xqueryText>
                                </con6:expr>
                            </con6:assign>
                            <con6:assign varName="contractId">
                                <con1:id>_ActionId-9124541888682138008--355a5d1c.16c73b3130d.-6931</con1:id>
                                <con6:expr>
                                    <con1:xqueryText>let $contractId := fn:string($RSPObtenerParams/osb:CONFIGURACIONES/osb:CONFIGURACIONES_ITEM[osb:NAME=$contractIdParam]/osb:VALUE/text())
return
	if ($contractId != "") then (
		$contractId
	) else (
		"NO_RECORD"
	)</con1:xqueryText>
                                </con6:expr>
                            </con6:assign>
                            <con6:assign varName="distCategory">
                                <con1:id>_ActionId-7668225397137611759--593b0ef0.16eadf70751.-74b3</con1:id>
                                <con6:expr>
                                    <con1:xqueryText>let $distCategory := fn:string($RSPObtenerParams/osb:CONFIGURACIONES/osb:CONFIGURACIONES_ITEM[osb:NAME=$distCategoryParam]/osb:VALUE/text())
return
	if ($distCategory != "") then (
		$distCategory
	) else (
		"NO_RECORD"
	)</con1:xqueryText>
                                </con6:expr>
                            </con6:assign>
                        </con6:responseTransform>
                    </con6:wsCallout>
                    <con6:ifThenElse xmlns:con6="http://www.bea.com/wli/sb/stages/transform/config">
                        <con1:id>_ActionId-5296419917846190249-73e015ec.16ccaa7f36e.-7ec3</con1:id>
                        <con6:case>
                            <con6:condition>
                                <con1:xqueryText>$phoneCarrier = "NO_RECORD" or $serviceAccount = "NO_RECORD"</con1:xqueryText>
                            </con6:condition>
                            <con6:actions>
                                <con6:assign varName="validationMessage">
                                    <con1:id>_ActionId-5296419917846190249-73e015ec.16ccaa7f36e.-7e8b</con1:id>
                                    <con6:expr>
                                        <con1:xqueryText>fn:string($RSPObtenerParams/osb:ERROR_MESSAGE/text())</con1:xqueryText>
                                    </con6:expr>
                                </con6:assign>
                            </con6:actions>
                        </con6:case>
                        <con6:default>
                            <con6:assign varName="uuid">
                                <con1:id>_ActionId-8794017692992136879-536ca0b9.16cd512e1d5.-72b8</con1:id>
                                <con6:expr>
                                    <con1:xqueryTransform>
                                        <con1:resource ref="Middleware/Business_Resources/general/UUID/obtenerUUID"/>
                                    </con1:xqueryTransform>
                                </con6:expr>
                            </con6:assign>
                        </con6:default>
                    </con6:ifThenElse>
                </con3:actions>
            </con:stage>
            <con:stage name="TransaccionesT24">
                <con:context>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/autType" prefix="aut"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/compraPaqueteTypes" prefix="com"/>
                </con:context>
                <con:actions>
                    <con2:ifThenElse>
                        <con1:id>_ActionId-9124541888682138008--355a5d1c.16c73b3130d.-6f6f</con1:id>
                        <con2:case>
                            <con2:condition>
                                <con1:xqueryText>$validationMessage = ""</con1:xqueryText>
                            </con2:condition>
                            <con2:actions>
                                <con2:wsCallout>
                                    <con1:id>_ActionId-9124541888682138008--355a5d1c.16c73b3130d.-6cff</con1:id>
                                    <con2:service xsi:type="ref:BusinessServiceRef" ref="Middleware/v2/BusinessServices/T24/PaquetesMoviles/biz/PaquetesMoviles" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                    <con2:operation>PagoDePaquetesMovilesFT</con2:operation>
                                    <con2:request>
                                        <con2:body>REQPagoPaqueteT24</con2:body>
                                    </con2:request>
                                    <con2:response>
                                        <con2:body>RSPPagoPaqueteT24</con2:body>
                                    </con2:response>
                                    <con2:requestTransform>
                                        <con2:assign varName="REQPagoPaqueteT24">
                                            <con1:id>_ActionId-9124541888682138008--355a5d1c.16c73b3130d.-6d00</con1:id>
                                            <con2:expr>
                                                <con1:xqueryTransform>
                                                    <con1:resource ref="Middleware/v2/Resources/CompraPaquete/xq/pagoPaquetesMovileIn"/>
                                                    <con1:param name="requestHeader">
                                                        <con1:path>$header/aut:RequestHeader</con1:path>
                                                    </con1:param>
                                                    <con1:param name="compraPaquete">
                                                        <con1:path>$body/com:compraPaquete</con1:path>
                                                    </con1:param>
                                                    <con1:param name="contractId">
                                                        <con1:path>$contractId</con1:path>
                                                    </con1:param>
                                                </con1:xqueryTransform>
                                            </con2:expr>
                                        </con2:assign>
                                    </con2:requestTransform>
                                    <con2:responseTransform>
                                        <con2:assign varName="successIndicator">
                                            <con1:id>_ActionId-9124541888682138008--355a5d1c.16c73b3130d.-6c88</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText>fn:string($RSPPagoPaqueteT24/Status/successIndicator/text())</con1:xqueryText>
                                            </con2:expr>
                                        </con2:assign>
                                        <con2:ifThenElse>
                                            <con1:id>_ActionId-9124541888682138008--355a5d1c.16c73b3130d.-6c8a</con1:id>
                                            <con2:case>
                                                <con2:condition>
                                                    <con1:xqueryText>fn:upper-case($successIndicator) != "SUCCESS"</con1:xqueryText>
                                                </con2:condition>
                                                <con2:actions>
                                                    <con2:assign varName="validationMessage">
                                                        <con1:id>_ActionId-5296419917846190249-73e015ec.16ccaa7f36e.-7eff</con1:id>
                                                        <con2:expr>
                                                            <con1:xqueryText>for $d in $RSPPagoPaqueteT24/Status/messages
let $e := fn:concat($e, "|", $d)
return $e</con1:xqueryText>
                                                        </con2:expr>
                                                    </con2:assign>
                                                    <con2:assign varName="transIdFT">
                                                        <con1:id>_ActionId-8551071218074353105-7964eedc.16cce773444.-7d50</con1:id>
                                                        <con2:expr>
                                                            <con1:xqueryText>""</con1:xqueryText>
                                                        </con2:expr>
                                                    </con2:assign>
                                                </con2:actions>
                                            </con2:case>
                                            <con2:default>
                                                <con2:assign varName="transIdFT">
                                                    <con1:id>_ActionId-5296419917846190249-73e015ec.16ccaa7f36e.-7efd</con1:id>
                                                    <con2:expr>
                                                        <con1:xqueryText>fn:string($RSPPagoPaqueteT24/Status/transactionId/text())</con1:xqueryText>
                                                    </con2:expr>
                                                </con2:assign>
                                            </con2:default>
                                        </con2:ifThenElse>
                                        <con3:route>
                                            <con1:id>_ActionId-3425834284592039776--2ec6755c.16d3aeef42e.-7ee6</con1:id>
                                            <con3:service ref="Middleware/v2/BusinessServices/Terceros/biz/registraBitacoraTerceroEncabezado_db" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                            <con3:operation>registraBitacoraTerceroEncabezado</con3:operation>
                                            <con3:outboundTransform>
                                                <con2:replace varName="body" contents-only="true">
                                                    <con1:id>_ActionId-3425834284592039776--2ec6755c.16d3aeef42e.-7e76</con1:id>
                                                    <con2:expr>
                                                        <con1:xqueryTransform>
                                                            <con1:resource ref="Middleware/v2/Resources/CompraPaquete/xq/compraPaqMovRegBitacoraHdr"/>
                                                            <con1:param name="user">
                                                                <con1:path>fn:string($REQPagoPaqueteT24/WebRequestCommon/userName/text())</con1:path>
                                                            </con1:param>
                                                            <con1:param name="operationCode">
                                                                <con1:path>"2"</con1:path>
                                                            </con1:param>
                                                            <con1:param name="uuid">
                                                                <con1:path>$uuid</con1:path>
                                                            </con1:param>
                                                            <con1:param name="primaryKey">
                                                                <con1:path>fn:string($body/com:compraPaquete/PHONE_NUMBER/text())</con1:path>
                                                            </con1:param>
                                                            <con1:param name="amount">
                                                                <con1:path>fn:string($body/com:compraPaquete/AMOUNT/text())</con1:path>
                                                            </con1:param>
                                                            <con1:param name="channel">
                                                                <con1:path>fn:string($REQPagoPaqueteT24/WebRequestCommon/userName/text())</con1:path>
                                                            </con1:param>
                                                            <con1:param name="contractId">
                                                                <con1:path>$contractId</con1:path>
                                                            </con1:param>
                                                            <con1:param name="currency">
                                                                <con1:path>"HNL"</con1:path>
                                                            </con1:param>
                                                            <con1:param name="transactionId">
                                                                <con1:path>$transIdFT</con1:path>
                                                            </con1:param>
                                                        </con1:xqueryTransform>
                                                    </con2:expr>
                                                </con2:replace>
                                            </con3:outboundTransform>
                                        </con3:route>
                                        <con3:route>
                                            <con1:id>_ActionId-3425834284592039776--2ec6755c.16d3aeef42e.-7de0</con1:id>
                                            <con3:service ref="Middleware/v2/BusinessServices/Terceros/biz/registraBitacoraTerceroDetalle_db" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                            <con3:operation>registraBitacoraTerceroDetalle</con3:operation>
                                            <con3:outboundTransform>
                                                <con2:replace varName="body" contents-only="true">
                                                    <con1:id>_ActionId-3425834284592039776--2ec6755c.16d3aeef42e.-7d8d</con1:id>
                                                    <con2:expr>
                                                        <con1:xqueryTransform>
                                                            <con1:resource ref="Middleware/v2/Resources/CompraPaquete/xq/compraPaqMovRegBitacoraDet"/>
                                                            <con1:param name="target">
                                                                <con1:path>"T24"</con1:path>
                                                            </con1:param>
                                                            <con1:param name="operationCode">
                                                                <con1:path>"2"</con1:path>
                                                            </con1:param>
                                                            <con1:param name="uuid">
                                                                <con1:path>$uuid</con1:path>
                                                            </con1:param>
                                                            <con1:param name="response">
                                                                <con1:path>$RSPPagoPaqueteT24</con1:path>
                                                            </con1:param>
                                                            <con1:param name="primaryKey">
                                                                <con1:path>fn:string($body/com:compraPaquete/PHONE_NUMBER/text())</con1:path>
                                                            </con1:param>
                                                            <con1:param name="message">
                                                                <con1:path>fn:string($RSPPagoPaqueteT24/Status/messages/text())</con1:path>
                                                            </con1:param>
                                                            <con1:param name="serviceId">
                                                                <con1:path>"FICBCO0337"</con1:path>
                                                            </con1:param>
                                                            <con1:param name="successIndicator">
                                                                <con1:path>$successIndicator</con1:path>
                                                            </con1:param>
                                                            <con1:param name="request">
                                                                <con1:path>$REQPagoPaqueteT24</con1:path>
                                                            </con1:param>
                                                        </con1:xqueryTransform>
                                                    </con2:expr>
                                                </con2:replace>
                                            </con3:outboundTransform>
                                        </con3:route>
                                    </con2:responseTransform>
                                </con2:wsCallout>
                            </con2:actions>
                        </con2:case>
                        <con2:default/>
                    </con2:ifThenElse>
                </con:actions>
            </con:stage>
            <con:stage name="OperadorTelefonico" errorHandler="_onErrorHandler-7569024615484913906-4062b495.16fe784af14.-6cb6">
                <con:context>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/compraPaqueteTypes" prefix="com"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/autType" prefix="aut"/>
                </con:context>
                <con:actions>
                    <con2:ifThenElse>
                        <con1:id>_ActionId-9124541888682138008--355a5d1c.16c73b3130d.-75a8</con1:id>
                        <con2:case>
                            <con2:condition>
                                <con1:xqueryText>$validationMessage = ""</con1:xqueryText>
                            </con2:condition>
                            <con2:actions>
                                <con2:ifThenElse>
                                    <con1:id>_ActionId-9124541888682138008--355a5d1c.16c73b3130d.-69aa</con1:id>
                                    <con2:case>
                                        <con2:condition>
                                            <con1:xqueryText>$phoneCarrier = 'PHOCARRIER01'</con1:xqueryText>
                                        </con2:condition>
                                        <con2:actions>
                                            <con2:wsCallout>
                                                <con1:id>_ActionId-634557398132833548--5445a12.17f4147e686.-3898</con1:id>
                                                <con2:service xsi:type="ref:BusinessServiceRef" ref="Middleware/v2/BusinessServices/Claro/Paquetes/biz/PaquetesMovilesClaro" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                <con2:operation>validateOperation</con2:operation>
                                                <con2:request>
                                                    <con2:body>REQPaquetesMovilesClaro</con2:body>
                                                </con2:request>
                                                <con2:response>
                                                    <con2:body>RSPPaquetesMovilesClaro</con2:body>
                                                </con2:response>
                                                <con2:requestTransform>
                                                    <con2:assign varName="REQPaquetesMovilesClaro">
                                                        <con1:id>_ActionId-634557398132833548--5445a12.17f4147e686.-381c</con1:id>
                                                        <con2:expr>
                                                            <con1:xqueryTransform>
                                                                <con1:resource ref="Middleware/v2/Resources/CompraPaquete/xq/compraPaquetesMovilClaroIn"/>
                                                                <con1:param name="trasnId">
                                                                    <con1:path>$transIdFT</con1:path>
                                                                </con1:param>
                                                                <con1:param name="compraPaquete">
                                                                    <con1:path>$body/com:compraPaquete</con1:path>
                                                                </con1:param>
                                                                <con1:param name="distCategory">
                                                                    <con1:path>$distCategory</con1:path>
                                                                </con1:param>
                                                                <con1:param name="serviceAccount">
                                                                    <con1:path>$serviceAccount</con1:path>
                                                                </con1:param>
                                                            </con1:xqueryTransform>
                                                        </con2:expr>
                                                    </con2:assign>
                                                </con2:requestTransform>
                                                <con2:responseTransform>
                                                    <con2:assign varName="successIndicator">
                                                        <con1:id>_ActionId-634557398132833548--5445a12.17f4147e686.-3896</con1:id>
                                                        <con2:expr>
                                                            <con1:xqueryText>data($RSPPaquetesMovilesClaro/result/responseCode/text())</con1:xqueryText>
                                                        </con2:expr>
                                                    </con2:assign>
                                                    <con2:ifThenElse>
                                                        <con1:id>_ActionId-634557398132833548--5445a12.17f4147e686.-3892</con1:id>
                                                        <con2:case>
                                                            <con2:condition>
                                                                <con1:xqueryText>$successIndicator != "0"</con1:xqueryText>
                                                            </con2:condition>
                                                            <con2:actions>
                                                                <con2:assign varName="validationMessage">
                                                                    <con1:id>_ActionId-634557398132833548--5445a12.17f4147e686.-3891</con1:id>
                                                                    <con2:expr>
                                                                        <con1:xqueryText>data($RSPPaquetesMovilesClaro/result/responseCode/text())</con1:xqueryText>
                                                                    </con2:expr>
                                                                </con2:assign>
                                                            </con2:actions>
                                                        </con2:case>
                                                        <con2:default>
                                                            <con2:assign varName="operatorReference">
                                                                <con1:id>_ActionId-634557398132833548--5445a12.17f4147e686.-3890</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryText>data($RSPPaquetesMovilesClaro/result/idTrans/text())</con1:xqueryText>
                                                                </con2:expr>
                                                            </con2:assign>
                                                            <con3:route>
                                                                <con1:id>_ActionId-634557398132833548--5445a12.17f4147e686.-388d</con1:id>
                                                                <con3:service ref="Middleware/v2/BusinessServices/Terceros/biz/registraBitacoraTerceroDetalle_db" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                                <con3:operation>registraBitacoraTerceroDetalle</con3:operation>
                                                                <con3:outboundTransform>
                                                                    <con2:replace varName="body" contents-only="true">
                                                                        <con1:id>_ActionId-634557398132833548--5445a12.17f4147e686.-388c</con1:id>
                                                                        <con2:expr>
                                                                            <con1:xqueryTransform>
                                                                                <con1:resource ref="Middleware/v2/Resources/CompraPaquete/xq/compraPaqMovRegBitacoraDet"/>
                                                                                <con1:param name="target">
                                                                                    <con1:path>fn:string($body/com:compraPaquete/PHONE_CARRIER/text())</con1:path>
                                                                                </con1:param>
                                                                                <con1:param name="operationCode">
                                                                                    <con1:path>"2"</con1:path>
                                                                                </con1:param>
                                                                                <con1:param name="uuid">
                                                                                    <con1:path>$uuid</con1:path>
                                                                                </con1:param>
                                                                                <con1:param name="response">
                                                                                    <con1:path>$RSPPaquetesMovilesClaro</con1:path>
                                                                                </con1:param>
                                                                                <con1:param name="primaryKey">
                                                                                    <con1:path>fn:string($body/com:compraPaquete/PHONE_NUMBER/text())</con1:path>
                                                                                </con1:param>
                                                                                <con1:param name="message">
                                                                                    <con1:path>$validationMessage</con1:path>
                                                                                </con1:param>
                                                                                <con1:param name="serviceId">
                                                                                    <con1:path>"FICBCO0337"</con1:path>
                                                                                </con1:param>
                                                                                <con1:param name="successIndicator">
                                                                                    <con1:path>$successIndicator</con1:path>
                                                                                </con1:param>
                                                                                <con1:param name="request">
                                                                                    <con1:path>$REQPaquetesMovilesClaro</con1:path>
                                                                                </con1:param>
                                                                            </con1:xqueryTransform>
                                                                        </con2:expr>
                                                                    </con2:replace>
                                                                </con3:outboundTransform>
                                                            </con3:route>
                                                        </con2:default>
                                                    </con2:ifThenElse>
                                                </con2:responseTransform>
                                            </con2:wsCallout>
                                        </con2:actions>
                                    </con2:case>
                                    <con2:default>
                                        <con2:ifThenElse>
                                            <con1:id>_ActionId-8551071218074353105-7964eedc.16cce773444.-7e6a</con1:id>
                                            <con2:case>
                                                <con2:condition>
                                                    <con1:xqueryText>$phoneCarrier = 'PHOCARRIER02'</con1:xqueryText>
                                                </con2:condition>
                                                <con2:actions>
                                                    <con2:wsCallout>
                                                        <con1:id>_ActionId-8794017692992136879-536ca0b9.16cd512e1d5.-7c1c</con1:id>
                                                        <con2:service xsi:type="ref:BusinessServiceRef" ref="Middleware/v2/BusinessServices/Tigo/Paquetes/biz/paquetesTigo" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con2:operation>paqueteTigo</con2:operation>
                                                        <con2:request>
                                                            <con2:body wrapped="false">REQPaquetesTigo</con2:body>
                                                            <con2:header/>
                                                        </con2:request>
                                                        <con2:response>
                                                            <con2:body wrapped="false">RSPPaquetesTigo</con2:body>
                                                            <con2:header/>
                                                        </con2:response>
                                                        <con2:requestTransform>
                                                            <con2:assign varName="REQPaquetesTigo">
                                                                <con1:id>_ActionId-8794017692992136879-536ca0b9.16cd512e1d5.-7be4</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryTransform>
                                                                        <con1:resource ref="Middleware/v2/Resources/CompraPaquete/xq/compraPaquetesMovilTigoIn"/>
                                                                        <con1:param name="EXTCODE">
                                                                            <con1:path>$extCode</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="TransactionID">
                                                                            <con1:path>$transIdFT</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="MSISDN">
                                                                            <con1:path>$msidn</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="compraPaquete">
                                                                            <con1:path>$body/com:compraPaquete</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="TYPE">
                                                                            <con1:path>$type</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="EXTNWCODE">
                                                                            <con1:path>$extnwcode</con1:path>
                                                                        </con1:param>
                                                                    </con1:xqueryTransform>
                                                                </con2:expr>
                                                            </con2:assign>
                                                        </con2:requestTransform>
                                                        <con2:responseTransform>
                                                            <con2:assign varName="successIndicator">
                                                                <con1:id>_ActionId-8794017692992136879-536ca0b9.16cd512e1d5.-7baa</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryText>fn:string($RSPPaquetesTigo/COMMAND/TXNSTATUS/text())</con1:xqueryText>
                                                                </con2:expr>
                                                            </con2:assign>
                                                            <con2:ifThenElse>
                                                                <con1:id>_ActionId-8794017692992136879-536ca0b9.16cd512e1d5.-7b35</con1:id>
                                                                <con2:case>
                                                                    <con2:condition>
                                                                        <con1:xqueryText>$successIndicator != "200"</con1:xqueryText>
                                                                    </con2:condition>
                                                                    <con2:actions>
                                                                        <con2:assign varName="validationMessage">
                                                                            <con1:id>_ActionId-8794017692992136879-536ca0b9.16cd512e1d5.-7b34</con1:id>
                                                                            <con2:expr>
                                                                                <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">if (exists($RSPPaquetesTigo/COMMAND/MESSAGE) = true())
then xs:string($RSPPaquetesTigo/COMMAND/MESSAGE/text())
else data("Tigo no envio mensaje de error")</con:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:assign>
                                                                    </con2:actions>
                                                                </con2:case>
                                                                <con2:default>
                                                                    <con2:assign varName="operatorReference">
                                                                        <con1:id>_ActionId-6564462136311902200--25eec8b8.16db0e691a3.-7d93</con1:id>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>fn:string($RSPPaquetesTigo/COMMAND/TXNID/text())</con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:assign>
                                                                </con2:default>
                                                            </con2:ifThenElse>
                                                            <con3:route>
                                                                <con1:id>_ActionId-3425834284592039776--2ec6755c.16d3aeef42e.-7c9e</con1:id>
                                                                <con3:service ref="Middleware/v2/BusinessServices/Terceros/biz/registraBitacoraTerceroDetalle_db" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                                <con3:operation>registraBitacoraTerceroDetalle</con3:operation>
                                                                <con3:outboundTransform>
                                                                    <con2:replace varName="body" contents-only="true">
                                                                        <con1:id>_ActionId-3425834284592039776--2ec6755c.16d3aeef42e.-7bbf</con1:id>
                                                                        <con2:expr>
                                                                            <con1:xqueryTransform>
                                                                                <con1:resource ref="Middleware/v2/Resources/CompraPaquete/xq/compraPaqMovRegBitacoraDet"/>
                                                                                <con1:param name="target">
                                                                                    <con1:path>fn:string($body/com:compraPaquete/PHONE_CARRIER/text())</con1:path>
                                                                                </con1:param>
                                                                                <con1:param name="operationCode">
                                                                                    <con1:path>"2"</con1:path>
                                                                                </con1:param>
                                                                                <con1:param name="uuid">
                                                                                    <con1:path>$uuid</con1:path>
                                                                                </con1:param>
                                                                                <con1:param name="response">
                                                                                    <con1:path>$RSPPaquetesTigo</con1:path>
                                                                                </con1:param>
                                                                                <con1:param name="primaryKey">
                                                                                    <con1:path>fn:string($body/com:compraPaquete/PHONE_NUMBER/text())</con1:path>
                                                                                </con1:param>
                                                                                <con1:param name="message">
                                                                                    <con1:path>$validationMessage</con1:path>
                                                                                </con1:param>
                                                                                <con1:param name="serviceId">
                                                                                    <con1:path>"FICBCO0337"</con1:path>
                                                                                </con1:param>
                                                                                <con1:param name="successIndicator">
                                                                                    <con1:path>$successIndicator</con1:path>
                                                                                </con1:param>
                                                                                <con1:param name="request">
                                                                                    <con1:path>$REQPaquetesTigo</con1:path>
                                                                                </con1:param>
                                                                            </con1:xqueryTransform>
                                                                        </con2:expr>
                                                                    </con2:replace>
                                                                </con3:outboundTransform>
                                                            </con3:route>
                                                        </con2:responseTransform>
                                                    </con2:wsCallout>
                                                </con2:actions>
                                            </con2:case>
                                            <con2:default>
                                                <con2:assign varName="validationMessage">
                                                    <con1:id>_ActionId-8551071218074353105-7964eedc.16cce773444.-7dfc</con1:id>
                                                    <con2:expr>
                                                        <con1:xqueryText>fn:string("Cdigo de Operador Telefonico no permitido")</con1:xqueryText>
                                                    </con2:expr>
                                                </con2:assign>
                                                <con1:skip>
                                                    <con1:id>_ActionId-8551071218074353105-7964eedc.16cce773444.-7dc2</con1:id>
                                                </con1:skip>
                                            </con2:default>
                                        </con2:ifThenElse>
                                    </con2:default>
                                </con2:ifThenElse>
                            </con2:actions>
                        </con2:case>
                        <con2:default/>
                    </con2:ifThenElse>
                </con:actions>
            </con:stage>
            <con:stage name="RegistrarReferenciaT24">
                <con:context>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/compraPaqueteTypes" prefix="com"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/autType" prefix="aut"/>
                </con:context>
                <con:actions>
                    <con2:ifThenElse>
                        <con1:id>_ActionId-6564462136311902200--25eec8b8.16db0e691a3.-7e0d</con1:id>
                        <con2:case>
                            <con2:condition>
                                <con1:xqueryText>$validationMessage = "" and $transIdFT != "" and $operatorReference != ""</con1:xqueryText>
                            </con2:condition>
                            <con2:actions>
                                <con3:route>
                                    <con1:id>_ActionId-6564462136311902200--25eec8b8.16db0e691a3.-7e0a</con1:id>
                                    <con3:service ref="Middleware/v2/BusinessServices/T24/PaquetesMoviles/biz/PaquetesMoviles" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                    <con3:operation>RegistraReferenciaPaqueteMovil</con3:operation>
                                    <con3:outboundTransform>
                                        <con2:replace varName="body" contents-only="true">
                                            <con1:id>_ActionId-6564462136311902200--25eec8b8.16db0e691a3.-7e09</con1:id>
                                            <con2:expr>
                                                <con1:xqueryTransform>
                                                    <con1:resource ref="Middleware/v2/Resources/CompraPaquete/xq/compraPaqMovRegRefT24In"/>
                                                    <con1:param name="T24Ref">
                                                        <con1:path>$transIdFT</con1:path>
                                                    </con1:param>
                                                    <con1:param name="PhoneOperatorRef">
                                                        <con1:path>$operatorReference</con1:path>
                                                    </con1:param>
                                                    <con1:param name="requestHeader">
                                                        <con1:path>$header/aut:RequestHeader</con1:path>
                                                    </con1:param>
                                                </con1:xqueryTransform>
                                            </con2:expr>
                                        </con2:replace>
                                    </con3:outboundTransform>
                                </con3:route>
                            </con2:actions>
                        </con2:case>
                        <con2:default/>
                    </con2:ifThenElse>
                </con:actions>
            </con:stage>
            <con:stage name="ReversionT24">
                <con:context>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/autType" prefix="aut"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/compraPaqueteTypes" prefix="com"/>
                </con:context>
                <con:actions>
                    <con2:ifThenElse>
                        <con1:id>_ActionId-9124541888682138008--355a5d1c.16c73b3130d.-7086</con1:id>
                        <con2:case>
                            <con2:condition>
                                <con1:xqueryText>$validationMessage != "" and $transIdFT != ""</con1:xqueryText>
                            </con2:condition>
                            <con2:actions>
                                <con2:wsCallout>
                                    <con1:id>_ActionId-8551071218074353105-7964eedc.16cce773444.-7edb</con1:id>
                                    <con2:service xsi:type="ref:BusinessServiceRef" ref="Middleware/v2/BusinessServices/T24/PaquetesMoviles/biz/PaquetesMoviles" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                    <con2:operation>ReversionDePaquetesMovilesFT</con2:operation>
                                    <con2:request>
                                        <con2:body>REQPaquetesMovilReversion</con2:body>
                                    </con2:request>
                                    <con2:response>
                                        <con2:body>RSPPaquetesMovilReversion</con2:body>
                                    </con2:response>
                                    <con2:requestTransform>
                                        <con2:assign varName="REQPaquetesMovilReversion">
                                            <con1:id>_ActionId-8551071218074353105-7964eedc.16cce773444.-7ea2</con1:id>
                                            <con2:expr>
                                                <con1:xqueryTransform>
                                                    <con1:resource ref="Middleware/v2/Resources/CompraPaquete/xq/reversionPaquetesMovilIn"/>
                                                    <con1:param name="requestHeader">
                                                        <con1:path>$header/aut:RequestHeader</con1:path>
                                                    </con1:param>
                                                    <con1:param name="pagoDePaquetesMovilesFTResponse">
                                                        <con1:path>$RSPPagoPaqueteT24</con1:path>
                                                    </con1:param>
                                                </con1:xqueryTransform>
                                            </con2:expr>
                                        </con2:assign>
                                    </con2:requestTransform>
                                    <con2:responseTransform>
                                        <con2:assign varName="successIndicatorRever">
                                            <con1:id>_ActionId-8968925316852221128--761e9146.16ddbf32820.-7f25</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText>fn:string($RSPPaquetesMovilReversion/Status/successIndicator/text())</con1:xqueryText>
                                            </con2:expr>
                                        </con2:assign>
                                        <con2:ifThenElse>
                                            <con1:id>_ActionId-6409235066813053309--4b4f867.16ddf6914b4.-7a72</con1:id>
                                            <con2:case>
                                                <con2:condition>
                                                    <con1:xqueryText>fn:upper-case($successIndicatorRever) != "SUCCESS"</con1:xqueryText>
                                                </con2:condition>
                                                <con2:actions>
                                                    <con2:assign varName="validationMessageRever">
                                                        <con1:id>_ActionId-6409235066813053309--4b4f867.16ddf6914b4.-7a70</con1:id>
                                                        <con2:expr>
                                                            <con1:xqueryText>for $d in $RSPPaquetesMovilReversion/Status/messages
let $e := fn:concat($e, "|", $d)
return $e</con1:xqueryText>
                                                        </con2:expr>
                                                    </con2:assign>
                                                </con2:actions>
                                            </con2:case>
                                            <con2:default>
                                                <con2:assign varName="validationMessageRever">
                                                    <con1:id>_ActionId-6409235066813053309--4b4f867.16ddf6914b4.-7a38</con1:id>
                                                    <con2:expr>
                                                        <con1:xqueryText>""</con1:xqueryText>
                                                    </con2:expr>
                                                </con2:assign>
                                            </con2:default>
                                        </con2:ifThenElse>
                                    </con2:responseTransform>
                                </con2:wsCallout>
                                <con3:route>
                                    <con1:id>_ActionId-3425834284592039776--2ec6755c.16d3aeef42e.-7b14</con1:id>
                                    <con3:service ref="Middleware/v2/BusinessServices/Terceros/biz/registraBitacoraTerceroDetalle_db" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                    <con3:operation>registraBitacoraTerceroDetalle</con3:operation>
                                    <con3:outboundTransform>
                                        <con2:replace varName="body" contents-only="true">
                                            <con1:id>_ActionId-6409235066813053309--4b4f867.16ddf6914b4.-7d46</con1:id>
                                            <con2:expr>
                                                <con1:xqueryTransform>
                                                    <con1:resource ref="Middleware/v2/Resources/CompraPaquete/xq/compraPaqMovRegBitacoraDet"/>
                                                    <con1:param name="target">
                                                        <con1:path>"T24"</con1:path>
                                                    </con1:param>
                                                    <con1:param name="operationCode">
                                                        <con1:path>"3"</con1:path>
                                                    </con1:param>
                                                    <con1:param name="uuid">
                                                        <con1:path>$uuid</con1:path>
                                                    </con1:param>
                                                    <con1:param name="response">
                                                        <con1:path>$RSPPaquetesMovilReversion</con1:path>
                                                    </con1:param>
                                                    <con1:param name="primaryKey">
                                                        <con1:path>fn:string($body/com:compraPaquete/PHONE_NUMBER/text())</con1:path>
                                                    </con1:param>
                                                    <con1:param name="message">
                                                        <con1:path>for $msg in $validationMessageRever
return
if($msg != "") then(
   $msg
)else("")</con1:path>
                                                    </con1:param>
                                                    <con1:param name="serviceId">
                                                        <con1:path>"FICBCO0337"</con1:path>
                                                    </con1:param>
                                                    <con1:param name="successIndicator">
                                                        <con1:path>$successIndicatorRever</con1:path>
                                                    </con1:param>
                                                    <con1:param name="request">
                                                        <con1:path>$REQPaquetesMovilReversion</con1:path>
                                                    </con1:param>
                                                </con1:xqueryTransform>
                                            </con2:expr>
                                        </con2:replace>
                                    </con3:outboundTransform>
                                </con3:route>
                            </con2:actions>
                        </con2:case>
                        <con2:default/>
                    </con2:ifThenElse>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="_onErrorHandler-8227885015690214939-6c56e388.16b2456afa6.-7e11">
            <con:stage name="MapeoError">
                <con:context xmlns:con6="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con4="http://www.bea.com/wli/sb/stages/publish/config" xmlns:con5="http://www.bea.com/wli/sb/services/security/config" xmlns:con3="http://www.bea.com/wli/sb/stages/logging/config">
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/autType" prefix="aut"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/pagoRecaudoTypes" prefix="pag"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/compraPaqueteTypes" prefix="com"/>
                </con:context>
                <con:actions xmlns:con6="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con4="http://www.bea.com/wli/sb/stages/publish/config" xmlns:con5="http://www.bea.com/wli/sb/services/security/config" xmlns:con3="http://www.bea.com/wli/sb/stages/logging/config">
                    <con3:assign varName="errorCode" xmlns:con1="http://www.bea.com/wli/sb/pipeline/config" xmlns:con="http://www.bea.com/wli/sb/services/security/config" xmlns:con2="http://www.bea.com/wli/sb/stages/config" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config">
                        <con2:id>_ActionId-8794017692992136879-536ca0b9.16cd512e1d5.-7f48</con2:id>
                        <con3:expr>
                            <con2:xqueryText>fn:string($fault/ctx:errorCode/text())</con2:xqueryText>
                        </con3:expr>
                    </con3:assign>
                    <con3:assign varName="errorMessage" xmlns:con1="http://www.bea.com/wli/sb/pipeline/config" xmlns:con="http://www.bea.com/wli/sb/services/security/config" xmlns:con2="http://www.bea.com/wli/sb/stages/config" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config">
                        <con2:id>_ActionId-8794017692992136879-536ca0b9.16cd512e1d5.-7f47</con2:id>
                        <con3:expr>
                            <con2:xqueryText>fn:string($fault/ctx:reason/text())</con2:xqueryText>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout xmlns:con5="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con1="http://www.bea.com/wli/sb/pipeline/config" xmlns:con="http://www.bea.com/wli/sb/services/security/config" xmlns:con2="http://www.bea.com/wli/sb/stages/config" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config">
                        <con2:id>_ActionId-8794017692992136879-536ca0b9.16cd512e1d5.-7d3e</con2:id>
                        <con3:service xsi:type="ref:ProxyRef" ref="Middleware/v2/ProxyServices/MapeoErrores" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>mapeoErrores</con3:operation>
                        <con3:request>
                            <con3:body>reqMapeoErrores</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body>respMapeoErrores</con3:body>
                        </con3:response>
                        <con3:requestTransform>
                            <con3:assign varName="reqMapeoErrores">
                                <con2:id>_ActionId-8794017692992136879-536ca0b9.16cd512e1d5.-7d40</con2:id>
                                <con3:expr>
                                    <con2:xqueryTransform>
                                        <con2:resource ref="Middleware/v2/Resources/MapeoErrores/xq/mapeoErroresUsageIn"/>
                                        <con2:param name="MENSAJE_ERROR">
                                            <con2:path>fn:concat("FICBCO0337", "$#$", $errorMessage)</con2:path>
                                        </con2:param>
                                        <con2:param name="CODIGO_ERROR">
                                            <con2:path>$errorCode</con2:path>
                                        </con2:param>
                                    </con2:xqueryTransform>
                                </con3:expr>
                            </con3:assign>
                        </con3:requestTransform>
                        <con3:responseTransform>
                            <con3:replace contents-only="true" varName="header">
                                <con2:id>_ActionId-8794017692992136879-536ca0b9.16cd512e1d5.-7d3f</con2:id>
                                <con3:expr>
                                    <con2:xqueryTransform>
                                        <con2:resource ref="Middleware/v2/Resources/MapeoErrores/xq/mapeoErroresUsageOut"/>
                                        <con2:param name="mapeoErroresResponse1">
                                            <con2:path>$respMapeoErrores</con2:path>
                                        </con2:param>
                                        <con2:param name="successIndicator">
                                            <con2:path>$errorCode</con2:path>
                                        </con2:param>
                                    </con2:xqueryTransform>
                                </con3:expr>
                            </con3:replace>
                        </con3:responseTransform>
                    </con3:wsCallout>
                    <con2:replace contents-only="true" varName="body">
                        <con1:id>_ActionId-8227885015690214939-6c56e388.16b2456afa6.-7dce</con1:id>
                        <con2:expr>
                            <con1:xqueryText>&lt;com:compraPaqueteResponse/></con1:xqueryText>
                        </con2:expr>
                    </con2:replace>
                    <con1:reply>
                        <con1:id>_ActionId-8227885015690214939-6c56e388.16b2456afa6.-7dc5</con1:id>
                    </con1:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:flow>
            <con:pipeline-node name="ValidacionesGenerales">
                <con:request>ValidacionesGenerales_request</con:request>
                <con:response>ValidacionesGenerales_response</con:response>
            </con:pipeline-node>
            <con:branch-node type="condition" name="RegionalizacionPaisEmpresa">
                <con:context>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/autType" prefix="aut"/>
                </con:context>
                <con:branch-table variable="header">
                    <con:xpath>
                        <con1:xpathText>./aut:RequestHeader/Region/SourceBank</con1:xpathText>
                    </con:xpath>
                    <con:branch name="HN01">
                        <con:operator>equals</con:operator>
                        <con:value>'HN01'</con:value>
                        <con:flow>
                            <con:pipeline-node name="CompraPaquetes">
                                <con:request>CompraPaquetes_request</con:request>
                                <con:response>CompraPaquetes_response</con:response>
                            </con:pipeline-node>
                        </con:flow>
                    </con:branch>
                    <con:default-branch>
                        <con:flow/>
                    </con:default-branch>
                </con:branch-table>
            </con:branch-node>
        </con:flow>
    </con:router>
</con:pipelineEntry>