<?xml version="1.0" encoding="UTF-8"?>
<con:pipelineEntry xmlns:con="http://www.bea.com/wli/sb/pipeline/config" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:oper="http://xmlns.oracle.com/servicebus/pipeline/operations">
    <con:coreEntry>
        <con:binding type="SOAP" isSoap12="false" xsi:type="con:SoapBindingType">
            <con:wsdl ref="Middleware/v2/Resources/SuscribeNotificacionPush/wsdl/SuscribeNotificacionPushPS"/>
            <con:binding>
                <con:name>SuscribeNotificacionPushPSSOAP</con:name>
                <con:namespace>http://www.ficohsa.com.hn/middleware.services/SuscribeNotificacionPushPS/</con:namespace>
            </con:binding>
        </con:binding>
        <oper:operations>
            <oper:monitoring enabled="false" aggregationInterval="10" level="pipeline"/>
            <oper:tracingEnabled>false</oper:tracingEnabled>
            <oper:reporting>true</oper:reporting>
            <oper:logging enabled="true" level="debug"/>
            <oper:sla-alerting enabled="true" level="normal"/>
            <oper:pipeline-alerting enabled="true" level="normal"/>
        </oper:operations>
    </con:coreEntry>
    <con:router errorHandler="_onErrorHandler-7846784430081719937-6301121.16e8409c8fe.-7b40" xmlns:ser="http://www.bea.com/wli/sb/services" xmlns:tran="http://www.bea.com/wli/sb/transports" xmlns:env="http://www.bea.com/wli/config/env" xmlns:http="http://www.bea.com/wli/sb/transports/http" xmlns:con1="http://www.bea.com/wli/sb/stages/config" xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con3="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con4="http://www.bea.com/wli/sb/services/security/config">
        <con:pipeline type="response" name="SuscripcionPushNI_response">
            <con:stage name="FlujoSalida">
                <con:context>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/notificacionTransaccionesTypes" prefix="not"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/autType" prefix="aut"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/reglasNotificacionesTypes" prefix="reg"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/SuscribeNotificacionPushTypes" prefix="sus"/>
                </con:context>
                <con:actions>
                    <con2:ifThenElse>
                        <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7969</con1:id>
                        <con2:case>
                            <con2:condition>
                                <con1:xqueryText>$validationMessage = ''</con1:xqueryText>
                            </con2:condition>
                            <con2:actions>
                                <con2:replace varName="header" contents-only="true">
                                    <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7968</con1:id>
                                    <con2:expr>
                                        <con1:xqueryText>&lt;aut:ResponseHeader>
	&lt;successIndicator>Success&lt;/successIndicator>
&lt;/aut:ResponseHeader></con1:xqueryText>
                                    </con2:expr>
                                </con2:replace>
                                <con2:replace varName="body" contents-only="true">
                                    <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7967</con1:id>
                                    <con2:expr>
                                        <con1:xqueryTransform>
                                            <con1:resource ref="Middleware/v2/Resources/SuscribeNotificacionPush/xq/SuscribeNotificacionesPushOUT"/>
                                            <con1:param name="suscribeNotificacionPush">
                                                <con1:path>$body/sus:SuscribeNotificacionPush</con1:path>
                                            </con1:param>
                                            <con1:param name="CustomerType">
                                                <con1:path>$CustomerResponse</con1:path>
                                            </con1:param>
                                        </con1:xqueryTransform>
                                    </con2:expr>
                                </con2:replace>
                            </con2:actions>
                        </con2:case>
                        <con2:default>
                            <con2:replace varName="header" contents-only="true">
                                <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7966</con1:id>
                                <con2:expr>
                                    <con1:xqueryText><![CDATA[<aut:ResponseHeader>
	<successIndicator>ERROR</successIndicator>
	<messages>{ $validationMessage }</messages>
</aut:ResponseHeader>]]></con1:xqueryText>
                                </con2:expr>
                            </con2:replace>
                            <con2:replace contents-only="true" varName="body">
                                <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7965</con1:id>
                                <con2:expr>
                                    <con1:xqueryText>&lt;sus:SuscribeNotificacionPushResponse/></con1:xqueryText>
                                </con2:expr>
                            </con2:replace>
                        </con2:default>
                    </con2:ifThenElse>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="response" name="Default_RegistraToken_response">
            <con:stage name="FlujoSalida">
                <con:context/>
                <con:actions>
                    <con2:Error>
                        <con1:id>_ActionId-2903352932353247619--23946ec2.16ec7fe5226.-7f81</con1:id>
                        <con2:errCode>MW-0008</con2:errCode>
                        <con2:message>SERVICE NOT IMPLEMENTED YET FOR THIS COUNTRY/COMPANY</con2:message>
                    </con2:Error>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="request" name="SuscripcionPushNI_request">
            <con:stage name="FlujoEntrada">
                <con:context>
                    <con1:userNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/consultaClientesTypes" prefix="con"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/SuscribeNotificacionPushTypes" prefix="sus"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/autType" prefix="aut"/>
                </con:context>
                <con:actions>
                    <con2:assign varName="Interaciones">
                        <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7723</con1:id>
                        <con2:expr>
                            <con1:xqueryText>$body/sus:SuscribeNotificacionPush/COSTUMERS</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con2:assign varName="CustomerResponse">
                        <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7722</con1:id>
                        <con2:expr>
                            <con1:xqueryText><![CDATA[<COSTUMER_DETAIL>
	<ID_RESPONSE/>
	<MESSAGE_ID_RESPONSE/>
	<SUCCESS_INDICATOR_RESPONSE/>
	<ERROR_MESSAGE_RESPONSE/>
</COSTUMER_DETAIL>]]></con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con2:foreach>
                        <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-76d3</con1:id>
                        <con2:variable>Interaciones</con2:variable>
                        <con2:expression>
                            <con1:xpathText>./COSTUMER_DETAIL</con1:xpathText>
                        </con2:expression>
                        <con2:value-variable>CustomerIteracion</con2:value-variable>
                        <con2:index-variable>index</con2:index-variable>
                        <con2:total-variable>count</con2:total-variable>
                        <con2:actions>
                            <con2:ifThenElse>
                                <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7721</con1:id>
                                <con2:case>
                                    <con2:condition>
                                        <con1:xqueryText>$CustomerIteracion/TYPE/text()='LEGAL_ID'</con1:xqueryText>
                                    </con2:condition>
                                    <con2:actions>
                                        <con2:wsCallout>
                                            <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7712</con1:id>
                                            <con2:service xsi:type="ref:ProxyRef" ref="Middleware/v3/ProxyServices/ConsultaCliente" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                            <con2:operation>consultaCliente</con2:operation>
                                            <con2:request>
                                                <con2:body>REQConsultaCliente</con2:body>
                                                <con2:header>REQConsultaClienteHeader</con2:header>
                                            </con2:request>
                                            <con2:response>
                                                <con2:body>RSPConsultaCliente</con2:body>
                                                <con2:header>RSPConsultaClienteHeader</con2:header>
                                            </con2:response>
                                            <con2:requestTransform>
                                                <con2:assign varName="SourceBank">
                                                    <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7720</con1:id>
                                                    <con2:expr>
                                                        <con1:xqueryText>$CustomerIteracion/REGION/text()</con1:xqueryText>
                                                    </con2:expr>
                                                </con2:assign>
                                                <con2:replace contents-only="true" varName="header">
                                                    <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-771f</con1:id>
                                                    <con2:location>
                                                        <con1:xpathText>./aut:RequestHeader/Region/SourceBank</con1:xpathText>
                                                    </con2:location>
                                                    <con2:expr>
                                                        <con1:xqueryText>$SourceBank</con1:xqueryText>
                                                    </con2:expr>
                                                </con2:replace>
                                                <con2:replace varName="header" contents-only="true">
                                                    <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-771e</con1:id>
                                                    <con2:location>
                                                        <con1:xpathText>./aut:RequestHeader/Region/DestinationBank</con1:xpathText>
                                                    </con2:location>
                                                    <con2:expr>
                                                        <con1:xqueryText>$SourceBank</con1:xqueryText>
                                                    </con2:expr>
                                                </con2:replace>
                                                <con2:assign varName="REQConsultaClienteHeader">
                                                    <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-771d</con1:id>
                                                    <con2:expr>
                                                        <con1:xqueryText>$header</con1:xqueryText>
                                                    </con2:expr>
                                                </con2:assign>
                                                <con2:assign varName="REQConsultaCliente">
                                                    <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-771c</con1:id>
                                                    <con2:expr>
                                                        <con1:xqueryTransform>
                                                            <con1:resource ref="Middleware/v2/Resources/SuscribeNotificacionPush/xq/consultaClienteIN"/>
                                                            <con1:param name="Value">
                                                                <con1:path>$CustomerIteracion/ID/text()</con1:path>
                                                            </con1:param>
                                                            <con1:param name="Type">
                                                                <con1:path>$CustomerIteracion/TYPE/text()</con1:path>
                                                            </con1:param>
                                                        </con1:xqueryTransform>
                                                    </con2:expr>
                                                </con2:assign>
                                            </con2:requestTransform>
                                            <con2:responseTransform>
                                                <con2:ifThenElse>
                                                    <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-771b</con1:id>
                                                    <con2:case>
                                                        <con2:condition>
                                                            <con1:xqueryText>upper-case($RSPConsultaClienteHeader/aut:ResponseHeader/successIndicator/text())='SUCCESS'</con1:xqueryText>
                                                        </con2:condition>
                                                        <con2:actions>
                                                            <con2:assign varName="CustomerID">
                                                                <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-771a</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryText>$RSPConsultaCliente/con:CUSTOMER_ID/text()</con1:xqueryText>
                                                                </con2:expr>
                                                            </con2:assign>
                                                            <con2:assign varName="ErrorCode">
                                                                <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7719</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryText>'Success'</con1:xqueryText>
                                                                </con2:expr>
                                                            </con2:assign>
                                                            <con2:assign varName="ValidationMessage">
                                                                <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7718</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryText>upper-case($RSPConsultaClienteHeader/aut:ResponseHeader/successIndicator/text())</con1:xqueryText>
                                                                </con2:expr>
                                                            </con2:assign>
                                                        </con2:actions>
                                                    </con2:case>
                                                    <con2:default>
                                                        <con2:assign varName="CustomerID">
                                                            <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7717</con1:id>
                                                            <con2:expr>
                                                                <con1:xqueryText>$CustomerIteracion/ID/text()</con1:xqueryText>
                                                            </con2:expr>
                                                        </con2:assign>
                                                        <con2:assign varName="ErrorCode">
                                                            <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7716</con1:id>
                                                            <con2:expr>
                                                                <con1:xqueryText>'ERROR'</con1:xqueryText>
                                                            </con2:expr>
                                                        </con2:assign>
                                                        <con2:assign varName="ErrorID">
                                                            <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7715</con1:id>
                                                            <con2:expr>
                                                                <con1:xqueryText>$RSPConsultaClienteHeader/aut:ResponseHeader/messageId/text()</con1:xqueryText>
                                                            </con2:expr>
                                                        </con2:assign>
                                                        <con2:assign varName="MessageError">
                                                            <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7714</con1:id>
                                                            <con2:expr>
                                                                <con1:xqueryText>$RSPConsultaClienteHeader/aut:ResponseHeader/messages/text()</con1:xqueryText>
                                                            </con2:expr>
                                                        </con2:assign>
                                                        <con2:assign varName="ValidationMessage">
                                                            <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7713</con1:id>
                                                            <con2:expr>
                                                                <con1:xqueryText>upper-case($RSPConsultaClienteHeader/aut:ResponseHeader/successIndicator/text())</con1:xqueryText>
                                                            </con2:expr>
                                                        </con2:assign>
                                                    </con2:default>
                                                </con2:ifThenElse>
                                            </con2:responseTransform>
                                        </con2:wsCallout>
                                    </con2:actions>
                                </con2:case>
                                <con2:default>
                                    <con2:assign varName="ValidationMessage">
                                        <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7711</con1:id>
                                        <con2:expr>
                                            <con1:xqueryText>'SUCCESS'</con1:xqueryText>
                                        </con2:expr>
                                    </con2:assign>
                                    <con2:assign varName="CustomerID">
                                        <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7710</con1:id>
                                        <con2:expr>
                                            <con1:xqueryText>$CustomerIteracion/ID/text()</con1:xqueryText>
                                        </con2:expr>
                                    </con2:assign>
                                </con2:default>
                            </con2:ifThenElse>
                            <con2:ifThenElse>
                                <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7360</con1:id>
                                <con2:case>
                                    <con2:condition>
                                        <con1:xqueryText>$ValidationMessage='SUCCESS'</con1:xqueryText>
                                    </con2:condition>
                                    <con2:actions>
                                        <con2:ifThenElse>
                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-735f</con1:id>
                                            <con2:case>
                                                <con2:condition>
                                                    <con1:xqueryText>$CustomerIteracion/REGION/text()='HN01'</con1:xqueryText>
                                                </con2:condition>
                                                <con2:actions>
                                                    <con2:assign varName="refCompany">
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-735e</con1:id>
                                                        <con2:expr>
                                                            <con1:xqueryText>$refCompanyParamHN</con1:xqueryText>
                                                        </con2:expr>
                                                    </con2:assign>
                                                </con2:actions>
                                            </con2:case>
                                            <con2:case>
                                                <con2:condition>
                                                    <con1:xqueryText>$CustomerIteracion/REGION/text()='PA01'</con1:xqueryText>
                                                </con2:condition>
                                                <con2:actions>
                                                    <con2:assign varName="refCompany">
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-735d</con1:id>
                                                        <con2:expr>
                                                            <con1:xqueryText>$refCompanyParamPA</con1:xqueryText>
                                                        </con2:expr>
                                                    </con2:assign>
                                                </con2:actions>
                                            </con2:case>
                                            <con2:case>
                                                <con2:condition>
                                                    <con1:xqueryText>$CustomerIteracion/REGION/text()='GT01'</con1:xqueryText>
                                                </con2:condition>
                                                <con2:actions>
                                                    <con2:assign varName="refCompany">
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-735c</con1:id>
                                                        <con2:expr>
                                                            <con1:xqueryText>$refCompanyParamGT</con1:xqueryText>
                                                        </con2:expr>
                                                    </con2:assign>
                                                </con2:actions>
                                            </con2:case>
                                            <con2:case>
                                                <con2:condition>
                                                    <con1:xqueryText>$CustomerIteracion/REGION/text()='NI01'</con1:xqueryText>
                                                </con2:condition>
                                                <con2:actions>
                                                    <con2:assign varName="refCompany">
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-735b</con1:id>
                                                        <con2:expr>
                                                            <con1:xqueryText>$refCompanyParamNI</con1:xqueryText>
                                                        </con2:expr>
                                                    </con2:assign>
                                                </con2:actions>
                                            </con2:case>
                                            <con2:default/>
                                        </con2:ifThenElse>
                                        <con2:assign varName="pushAction">
                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-735a</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText>$CustomerIteracion/ACTION/text()</con1:xqueryText>
                                            </con2:expr>
                                        </con2:assign>
                                        <con2:assign varName="deviceversion">
                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7359</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText>if (string-length($CustomerIteracion/DEVICE_OS_VERSION/text())=0)then(
'0')
else($CustomerIteracion/DEVICE_OS_VERSION/text())</con1:xqueryText>
                                            </con2:expr>
                                        </con2:assign>
                                        <con2:assign varName="deviceappversion">
                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7358</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText>if (string-length($CustomerIteracion/DEVICE_APP_VERSION/text())=0) then
('0')
else($CustomerIteracion/DEVICE_APP_VERSION/text())</con1:xqueryText>
                                            </con2:expr>
                                        </con2:assign>
                                        <con2:assign varName="devicetokenid">
                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7357</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText>if (string-length($CustomerIteracion/DEVICE_TOKEN/text())=0) then
('0') 
else($CustomerIteracion/DEVICE_TOKEN/text())</con1:xqueryText>
                                            </con2:expr>
                                        </con2:assign>
                                        <con2:assign varName="devicetype">
                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7356</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText>if (string-length($CustomerIteracion/DEVICE_OS_TYPE/text())=0) then
('0')
else($CustomerIteracion/DEVICE_OS_TYPE/text())</con1:xqueryText>
                                            </con2:expr>
                                        </con2:assign>
                                        <con2:assign varName="devicemodel">
                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7355</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText>if (string-length($CustomerIteracion/DEVICE_MODEL/text())=0) then
('0')
else($CustomerIteracion/DEVICE_MODEL/text())</con1:xqueryText>
                                            </con2:expr>
                                        </con2:assign>
                                        <con2:assign varName="deviceuuid">
                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7354</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText>if (string-length($CustomerIteracion/DEVICE_UUID/text())=0) then
('0')
else($CustomerIteracion/DEVICE_UUID/text())</con1:xqueryText>
                                            </con2:expr>
                                        </con2:assign>
                                        <con2:ifThenElse>
                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7353</con1:id>
                                            <con2:case>
                                                <con2:condition>
                                                    <con1:xqueryText>$pushAction = "ENABLE"</con1:xqueryText>
                                                </con2:condition>
                                                <con2:actions>
                                                    <con2:wsCallout>
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7351</con1:id>
                                                        <con2:service xsi:type="ref:BusinessServiceRef" ref="Middleware/v2/BusinessServices/LATINIA/provisionerUserService/biz/provisionerUserService" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con2:operation>addUserPropertyValue</con2:operation>
                                                        <con2:request>
                                                            <con2:body>REQaddPropertyPoseePush</con2:body>
                                                        </con2:request>
                                                        <con2:response>
                                                            <con2:body>RSPaddPropertyPoseePush</con2:body>
                                                        </con2:response>
                                                        <con2:requestTransform>
                                                            <con2:assign varName="REQaddPropertyPoseePush">
                                                                <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7352</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryTransform>
                                                                        <con1:resource ref="Middleware/v2/Resources/SuscribeNotificacionPush/xq/addUserPropertyValueIn"/>
                                                                        <con1:param name="propertyValue">
                                                                            <con1:path>'Y'</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="refCompany">
                                                                            <con1:path>$refCompany</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="propertyName">
                                                                            <con1:path>'poseePush'</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="validation">
                                                                            <con1:path>$validationParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="customerid">
                                                                            <con1:path>$CustomerID</con1:path>
                                                                        </con1:param>
                                                                    </con1:xqueryTransform>
                                                                </con2:expr>
                                                            </con2:assign>
                                                        </con2:requestTransform>
                                                        <con2:responseTransform/>
                                                    </con2:wsCallout>
                                                    <con2:wsCallout>
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-734f</con1:id>
                                                        <con2:service xsi:type="ref:BusinessServiceRef" ref="Middleware/v2/BusinessServices/LATINIA/provisionerUserService/biz/provisionerUserService" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con2:operation>addUserPropertyValue</con2:operation>
                                                        <con2:request>
                                                            <con2:body>REQaddPropertyChnPref</con2:body>
                                                        </con2:request>
                                                        <con2:response>
                                                            <con2:body>RSPaddPropertyChnPref</con2:body>
                                                        </con2:response>
                                                        <con2:requestTransform>
                                                            <con2:assign varName="REQaddPropertyChnPref">
                                                                <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7350</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryTransform>
                                                                        <con1:resource ref="Middleware/v2/Resources/SuscribeNotificacionPush/xq/addUserPropertyValueIn"/>
                                                                        <con1:param name="propertyValue">
                                                                            <con1:path>'PNS'</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="refCompany">
                                                                            <con1:path>$refCompany</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="propertyName">
                                                                            <con1:path>'chn_pref'</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="validation">
                                                                            <con1:path>$validationParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="customerid">
                                                                            <con1:path>$CustomerID</con1:path>
                                                                        </con1:param>
                                                                    </con1:xqueryTransform>
                                                                </con2:expr>
                                                            </con2:assign>
                                                        </con2:requestTransform>
                                                        <con2:responseTransform/>
                                                    </con2:wsCallout>
                                                    <con2:wsCallout>
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7342</con1:id>
                                                        <con2:service xsi:type="ref:BusinessServiceRef" ref="Middleware/v2/BusinessServices/LATINIA/provisionerUserService/biz/provisionerUserService" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con2:operation>registerUserAppDevice</con2:operation>
                                                        <con2:request>
                                                            <con2:body>REQregisterUserAppDevice</con2:body>
                                                        </con2:request>
                                                        <con2:response>
                                                            <con2:body>RSPregisterUserAppDevice</con2:body>
                                                        </con2:response>
                                                        <con2:requestTransform>
                                                            <con2:assign varName="REQregisterUserAppDevice">
                                                                <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-734e</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryTransform>
                                                                        <con1:resource ref="Middleware/v2/Resources/SuscribeNotificacionPush/xq/registerUserAppDeviceIn"/>
                                                                        <con1:param name="deviceversion">
                                                                            <con1:path>$deviceversion</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="refCompany">
                                                                            <con1:path>$refCompany</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="devicetoken">
                                                                            <con1:path>$tokenParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="deviceappversion">
                                                                            <con1:path>$deviceappversion</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="devicetokenid">
                                                                            <con1:path>$devicetokenid</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="validation">
                                                                            <con1:path>$validationParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="deviceostype">
                                                                            <con1:path>$devicetype</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="devicemodel">
                                                                            <con1:path>$devicemodel</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="application">
                                                                            <con1:path>$applicationParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="customerid">
                                                                            <con1:path>$CustomerID</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="deviceuuid">
                                                                            <con1:path>$deviceuuid</con1:path>
                                                                        </con1:param>
                                                                    </con1:xqueryTransform>
                                                                </con2:expr>
                                                            </con2:assign>
                                                        </con2:requestTransform>
                                                        <con2:responseTransform>
                                                            <con2:ifThenElse>
                                                                <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-734d</con1:id>
                                                                <con2:case>
                                                                    <con2:condition>
                                                                        <con1:xqueryText>data($RSPregisterUserAppDevice/return) = '1'</con1:xqueryText>
                                                                    </con2:condition>
                                                                    <con2:actions>
                                                                        <con2:assign varName="MessageError">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-734c</con1:id>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>''</con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:assign>
                                                                        <con2:insert varName="CustomerResponse">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-734b</con1:id>
                                                                            <con2:location>
                                                                                <con1:xpathText>./ID_RESPONSE</con1:xpathText>
                                                                            </con2:location>
                                                                            <con2:where>last-child</con2:where>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>&lt;ID>{ data($CustomerID) }&lt;/ID></con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:insert>
                                                                        <con2:insert varName="CustomerResponse">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-734a</con1:id>
                                                                            <con2:location>
                                                                                <con1:xpathText>./SUCCESS_INDICATOR_RESPONSE</con1:xpathText>
                                                                            </con2:location>
                                                                            <con2:where>last-child</con2:where>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>&lt;SUCCESS_INDICATOR>Success&lt;/SUCCESS_INDICATOR></con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:insert>
                                                                        <con2:insert varName="CustomerResponse">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7349</con1:id>
                                                                            <con2:location>
                                                                                <con1:xpathText>./MESSAGE_ID_RESPONSE</con1:xpathText>
                                                                            </con2:location>
                                                                            <con2:where>last-child</con2:where>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>&lt;MESSAGE_ID>0&lt;/MESSAGE_ID></con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:insert>
                                                                        <con2:insert varName="CustomerResponse">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7348</con1:id>
                                                                            <con2:location>
                                                                                <con1:xpathText>./ERROR_MESSAGE_RESPONSE</con1:xpathText>
                                                                            </con2:location>
                                                                            <con2:where>last-child</con2:where>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>&lt;ERROR_MESSAGE>{ data($MessageError) }&lt;/ERROR_MESSAGE></con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:insert>
                                                                    </con2:actions>
                                                                </con2:case>
                                                                <con2:default>
                                                                    <con2:assign varName="MessageError">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7347</con1:id>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>'Error en actualizaci√≥n del cliente.'</con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:assign>
                                                                    <con2:insert varName="CustomerResponse">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7346</con1:id>
                                                                        <con2:location>
                                                                            <con1:xpathText>./ID_RESPONSE</con1:xpathText>
                                                                        </con2:location>
                                                                        <con2:where>last-child</con2:where>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>&lt;ID>{ data($CustomerID) }&lt;/ID></con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:insert>
                                                                    <con2:insert varName="CustomerResponse">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7345</con1:id>
                                                                        <con2:location>
                                                                            <con1:xpathText>./SUCCESS_INDICATOR_RESPONSE</con1:xpathText>
                                                                        </con2:location>
                                                                        <con2:where>last-child</con2:where>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>&lt;SUCCESS_INDICATOR>ERROR&lt;/SUCCESS_INDICATOR></con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:insert>
                                                                    <con2:insert varName="CustomerResponse">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7344</con1:id>
                                                                        <con2:location>
                                                                            <con1:xpathText>./MESSAGE_ID_RESPONSE</con1:xpathText>
                                                                        </con2:location>
                                                                        <con2:where>last-child</con2:where>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>&lt;MESSAGE_ID>-1&lt;/MESSAGE_ID></con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:insert>
                                                                    <con2:insert varName="CustomerResponse">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7343</con1:id>
                                                                        <con2:location>
                                                                            <con1:xpathText>./ERROR_MESSAGE_RESPONSE</con1:xpathText>
                                                                        </con2:location>
                                                                        <con2:where>last-child</con2:where>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>&lt;ERROR_MESSAGE>{ data($MessageError) }&lt;/ERROR_MESSAGE></con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:insert>
                                                                </con2:default>
                                                            </con2:ifThenElse>
                                                        </con2:responseTransform>
                                                    </con2:wsCallout>
                                                </con2:actions>
                                            </con2:case>
                                            <con2:case>
                                                <con2:condition>
                                                    <con1:xqueryText>$pushAction = "DISABLE"</con1:xqueryText>
                                                </con2:condition>
                                                <con2:actions>
                                                    <con2:wsCallout>
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7340</con1:id>
                                                        <con2:service xsi:type="ref:BusinessServiceRef" ref="Middleware/v2/BusinessServices/LATINIA/provisionerUserService/biz/provisionerUserService" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con2:operation>removeUserProperty</con2:operation>
                                                        <con2:request>
                                                            <con2:body>REQremoveUserProperty</con2:body>
                                                        </con2:request>
                                                        <con2:response>
                                                            <con2:body>RSPremoveUserPropertyValue</con2:body>
                                                        </con2:response>
                                                        <con2:requestTransform>
                                                            <con2:assign varName="REQremoveUserProperty">
                                                                <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7341</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryTransform>
                                                                        <con1:resource ref="Middleware/v2/Resources/SuscribeNotificacionPush/xq/removeUserPropertyIn"/>
                                                                        <con1:param name="refCompany">
                                                                            <con1:path>$refCompany</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="validation">
                                                                            <con1:path>$validationParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="customerid">
                                                                            <con1:path>$CustomerID</con1:path>
                                                                        </con1:param>
                                                                    </con1:xqueryTransform>
                                                                </con2:expr>
                                                            </con2:assign>
                                                        </con2:requestTransform>
                                                        <con2:responseTransform/>
                                                    </con2:wsCallout>
                                                    <con2:wsCallout>
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-733e</con1:id>
                                                        <con2:service xsi:type="ref:BusinessServiceRef" ref="Middleware/v2/BusinessServices/LATINIA/provisionerUserService/biz/provisionerUserService" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con2:operation>removeUserPropertyValue</con2:operation>
                                                        <con2:request>
                                                            <con2:body>REQremoveUserPropertyValue</con2:body>
                                                        </con2:request>
                                                        <con2:response>
                                                            <con2:body>RSPremoveUserPropertyValue</con2:body>
                                                        </con2:response>
                                                        <con2:requestTransform>
                                                            <con2:assign varName="REQremoveUserPropertyValue">
                                                                <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-733f</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryTransform>
                                                                        <con1:resource ref="Middleware/v2/Resources/SuscribeNotificacionPush/xq/removeUserPropertyValueIn"/>
                                                                        <con1:param name="refCompany">
                                                                            <con1:path>$refCompany</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="validation">
                                                                            <con1:path>$validationParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="customerid">
                                                                            <con1:path>$CustomerID</con1:path>
                                                                        </con1:param>
                                                                    </con1:xqueryTransform>
                                                                </con2:expr>
                                                            </con2:assign>
                                                        </con2:requestTransform>
                                                        <con2:responseTransform/>
                                                    </con2:wsCallout>
                                                    <con2:wsCallout>
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7331</con1:id>
                                                        <con2:service xsi:type="ref:BusinessServiceRef" ref="Middleware/v2/BusinessServices/LATINIA/provisionerUserService/biz/provisionerUserService" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con2:operation>unregisterUserAppDevice</con2:operation>
                                                        <con2:request>
                                                            <con2:body>REQunregisterUserAppDevice</con2:body>
                                                        </con2:request>
                                                        <con2:response>
                                                            <con2:body>RSPunregisterUserAppDevice</con2:body>
                                                        </con2:response>
                                                        <con2:requestTransform>
                                                            <con2:assign varName="REQunregisterUserAppDevice">
                                                                <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-733d</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryTransform>
                                                                        <con1:resource ref="Middleware/v2/Resources/SuscribeNotificacionPush/xq/unregisterUserAppDeviceIn"/>
                                                                        <con1:param name="refCompany">
                                                                            <con1:path>$refCompany</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="validation">
                                                                            <con1:path>$validationParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="application">
                                                                            <con1:path>$applicationParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="customerid">
                                                                            <con1:path>$CustomerID</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="deviceuuid">
                                                                            <con1:path>$deviceuuid</con1:path>
                                                                        </con1:param>
                                                                    </con1:xqueryTransform>
                                                                </con2:expr>
                                                            </con2:assign>
                                                        </con2:requestTransform>
                                                        <con2:responseTransform>
                                                            <con2:ifThenElse>
                                                                <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-733c</con1:id>
                                                                <con2:case>
                                                                    <con2:condition>
                                                                        <con1:xqueryText>data($RSPunregisterUserAppDevice/return) = 'true'</con1:xqueryText>
                                                                    </con2:condition>
                                                                    <con2:actions>
                                                                        <con2:assign varName="MessageError">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-733b</con1:id>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>''</con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:assign>
                                                                        <con2:insert varName="CustomerResponse">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-733a</con1:id>
                                                                            <con2:location>
                                                                                <con1:xpathText>./ID_RESPONSE</con1:xpathText>
                                                                            </con2:location>
                                                                            <con2:where>last-child</con2:where>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>&lt;ID>{ data($CustomerID) }&lt;/ID></con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:insert>
                                                                        <con2:insert varName="CustomerResponse">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7339</con1:id>
                                                                            <con2:location>
                                                                                <con1:xpathText>./SUCCESS_INDICATOR_RESPONSE</con1:xpathText>
                                                                            </con2:location>
                                                                            <con2:where>last-child</con2:where>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>&lt;SUCCESS_INDICATOR>Success&lt;/SUCCESS_INDICATOR></con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:insert>
                                                                        <con2:insert varName="CustomerResponse">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7338</con1:id>
                                                                            <con2:location>
                                                                                <con1:xpathText>./MESSAGE_ID_RESPONSE</con1:xpathText>
                                                                            </con2:location>
                                                                            <con2:where>last-child</con2:where>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>&lt;MESSAGE_ID>0&lt;/MESSAGE_ID></con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:insert>
                                                                        <con2:insert varName="CustomerResponse">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7337</con1:id>
                                                                            <con2:location>
                                                                                <con1:xpathText>./ERROR_MESSAGE_RESPONSE</con1:xpathText>
                                                                            </con2:location>
                                                                            <con2:where>last-child</con2:where>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>&lt;ERROR_MESSAGE>{ data($MessageError) }&lt;/ERROR_MESSAGE></con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:insert>
                                                                    </con2:actions>
                                                                </con2:case>
                                                                <con2:default>
                                                                    <con2:assign varName="MessageError">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7336</con1:id>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>'Error en actualizaci√≥n del cliente.'</con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:assign>
                                                                    <con2:insert varName="CustomerResponse">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7335</con1:id>
                                                                        <con2:location>
                                                                            <con1:xpathText>./ID_RESPONSE</con1:xpathText>
                                                                        </con2:location>
                                                                        <con2:where>last-child</con2:where>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>&lt;ID>{ data($CustomerID) }&lt;/ID></con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:insert>
                                                                    <con2:insert varName="CustomerResponse">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7334</con1:id>
                                                                        <con2:location>
                                                                            <con1:xpathText>./SUCCESS_INDICATOR_RESPONSE</con1:xpathText>
                                                                        </con2:location>
                                                                        <con2:where>last-child</con2:where>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>&lt;SUCCESS_INDICATOR>ERROR&lt;/SUCCESS_INDICATOR></con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:insert>
                                                                    <con2:insert varName="CustomerResponse">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7333</con1:id>
                                                                        <con2:location>
                                                                            <con1:xpathText>./MESSAGE_ID_RESPONSE</con1:xpathText>
                                                                        </con2:location>
                                                                        <con2:where>last-child</con2:where>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>&lt;MESSAGE_ID>-1&lt;/MESSAGE_ID></con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:insert>
                                                                    <con2:insert varName="CustomerResponse">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7332</con1:id>
                                                                        <con2:location>
                                                                            <con1:xpathText>./ERROR_MESSAGE_RESPONSE</con1:xpathText>
                                                                        </con2:location>
                                                                        <con2:where>last-child</con2:where>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>&lt;ERROR_MESSAGE>{ data($MessageError) }&lt;/ERROR_MESSAGE></con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:insert>
                                                                </con2:default>
                                                            </con2:ifThenElse>
                                                        </con2:responseTransform>
                                                    </con2:wsCallout>
                                                </con2:actions>
                                            </con2:case>
                                            <con2:default>
                                                <con2:assign varName="MessageError">
                                                    <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7330</con1:id>
                                                    <con2:expr>
                                                        <con1:xqueryText>'Error en actualizaci√≥n del cliente.'</con1:xqueryText>
                                                    </con2:expr>
                                                </con2:assign>
                                                <con2:insert varName="CustomerResponse">
                                                    <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-732f</con1:id>
                                                    <con2:location>
                                                        <con1:xpathText>./ID_RESPONSE</con1:xpathText>
                                                    </con2:location>
                                                    <con2:where>last-child</con2:where>
                                                    <con2:expr>
                                                        <con1:xqueryText>&lt;ID>{ data($CustomerID) }&lt;/ID></con1:xqueryText>
                                                    </con2:expr>
                                                </con2:insert>
                                                <con2:insert varName="CustomerResponse">
                                                    <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-732e</con1:id>
                                                    <con2:location>
                                                        <con1:xpathText>./SUCCESS_INDICATOR_RESPONSE</con1:xpathText>
                                                    </con2:location>
                                                    <con2:where>last-child</con2:where>
                                                    <con2:expr>
                                                        <con1:xqueryText>&lt;SUCCESS_INDICATOR>ERROR&lt;/SUCCESS_INDICATOR></con1:xqueryText>
                                                    </con2:expr>
                                                </con2:insert>
                                                <con2:insert varName="CustomerResponse">
                                                    <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-732d</con1:id>
                                                    <con2:location>
                                                        <con1:xpathText>./MESSAGE_ID_RESPONSE</con1:xpathText>
                                                    </con2:location>
                                                    <con2:where>last-child</con2:where>
                                                    <con2:expr>
                                                        <con1:xqueryText>&lt;MESSAGE_ID>-1&lt;/MESSAGE_ID></con1:xqueryText>
                                                    </con2:expr>
                                                </con2:insert>
                                                <con2:insert varName="CustomerResponse">
                                                    <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-732c</con1:id>
                                                    <con2:location>
                                                        <con1:xpathText>./ERROR_MESSAGE_RESPONSE</con1:xpathText>
                                                    </con2:location>
                                                    <con2:where>last-child</con2:where>
                                                    <con2:expr>
                                                        <con1:xqueryText>&lt;ERROR_MESSAGE>{ data($MessageError) }&lt;/ERROR_MESSAGE></con1:xqueryText>
                                                    </con2:expr>
                                                </con2:insert>
                                            </con2:default>
                                        </con2:ifThenElse>
                                    </con2:actions>
                                </con2:case>
                                <con2:default>
                                    <con2:insert varName="CustomerResponse">
                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-732b</con1:id>
                                        <con2:location>
                                            <con1:xpathText>./ID_RESPONSE</con1:xpathText>
                                        </con2:location>
                                        <con2:where>last-child</con2:where>
                                        <con2:expr>
                                            <con1:xqueryText>&lt;ID>{ data($CustomerID) }&lt;/ID></con1:xqueryText>
                                        </con2:expr>
                                    </con2:insert>
                                    <con2:insert varName="CustomerResponse">
                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-732a</con1:id>
                                        <con2:location>
                                            <con1:xpathText>./SUCCESS_INDICATOR_RESPONSE</con1:xpathText>
                                        </con2:location>
                                        <con2:where>last-child</con2:where>
                                        <con2:expr>
                                            <con1:xqueryText>&lt;SUCCESS_INDICATOR>{ data($ErrorCode) }&lt;/SUCCESS_INDICATOR></con1:xqueryText>
                                        </con2:expr>
                                    </con2:insert>
                                    <con2:insert varName="CustomerResponse">
                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7329</con1:id>
                                        <con2:location>
                                            <con1:xpathText>./MESSAGE_ID_RESPONSE</con1:xpathText>
                                        </con2:location>
                                        <con2:where>last-child</con2:where>
                                        <con2:expr>
                                            <con1:xqueryText>&lt;MESSAGE_ID>{ data($ErrorID) }&lt;/MESSAGE_ID></con1:xqueryText>
                                        </con2:expr>
                                    </con2:insert>
                                    <con2:insert varName="CustomerResponse">
                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7328</con1:id>
                                        <con2:location>
                                            <con1:xpathText>./ERROR_MESSAGE_RESPONSE</con1:xpathText>
                                        </con2:location>
                                        <con2:where>last-child</con2:where>
                                        <con2:expr>
                                            <con1:xqueryText>&lt;ERROR_MESSAGE>{ data($MessageError) }&lt;/ERROR_MESSAGE></con1:xqueryText>
                                        </con2:expr>
                                    </con2:insert>
                                </con2:default>
                            </con2:ifThenElse>
                        </con2:actions>
                    </con2:foreach>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="request" name="ValidacionGeneral_request">
            <con:stage name="ValidacionXSD">
                <con:context>
                    <con1:userNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/SuscribeNotificacionPushTypes" prefix="snp"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/notificacionTransaccionesTypes" prefix="not"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/reglasNotificacionesTypes" prefix="reg"/>
                </con:context>
                <con:actions>
                    <con2:validate>
                        <con1:id>_ActionId-7846784430081719937-6301121.16e8409c8fe.-7b63</con1:id>
                        <con2:schema ref="Middleware/v2/Resources/SuscribeNotificacionPush/xsd/SuscribeNotificacionPushTypes"/>
                        <con2:schemaElement xmlns:not="http://www.ficohsa.com.hn/middleware.services/notificacionTransaccionesTypes" xmlns:reg="http://www.ficohsa.com.hn/middleware.services/reglasNotificacionesTypes" xmlns:sus="http://www.ficohsa.com.hn/middleware.services/SuscribeNotificacionPushTypes">sus:SuscribeNotificacionPush</con2:schemaElement>
                        <con2:varName>body</con2:varName>
                        <con2:location>
                            <con1:xpathText>./snp:SuscribeNotificacionPush</con1:xpathText>
                        </con2:location>
                    </con2:validate>
                </con:actions>
            </con:stage>
            <con:stage name="ValidacionServicioRegional">
                <con:context>
                    <con1:userNsDecl namespace="http://xmlns.oracle.com/pcbpel/adapter/db/sp/ValidaServicioRegional" prefix="val"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/autType" prefix="aut"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/reglasNotificacionesTypes" prefix="reg"/>
                </con:context>
                <con:actions>
                    <con2:wsCallout>
                        <con1:id>_ActionId-7846784430081719937-6301121.16e8409c8fe.-7b4e</con1:id>
                        <con2:service xsi:type="ref:BusinessServiceRef" ref="Middleware/v2/BusinessServices/ValidaServicioRegional/biz/ValidaServicioRegional_db" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con2:operation>ValidaServicioRegional</con2:operation>
                        <con2:request>
                            <con2:body>REQValidaServicioRegional</con2:body>
                        </con2:request>
                        <con2:response>
                            <con2:body>RSPValidaServicioRegional</con2:body>
                        </con2:response>
                        <con2:requestTransform>
                            <con2:assign varName="REQValidaServicioRegional">
                                <con1:id>_ActionId-7846784430081719937-6301121.16e8409c8fe.-7b41</con1:id>
                                <con2:expr>
                                    <con1:xqueryTransform>
                                        <con1:resource ref="Middleware/v2/Resources/Generales/xq/validaServicioRegionalIn"/>
                                        <con1:param name="requestHeader1">
                                            <con1:path>$header/aut:RequestHeader</con1:path>
                                        </con1:param>
                                        <con1:param name="serviceId">
                                            <con1:path>"FICBCO0455"</con1:path>
                                        </con1:param>
                                    </con1:xqueryTransform>
                                </con2:expr>
                            </con2:assign>
                        </con2:requestTransform>
                        <con2:responseTransform>
                            <con2:ifThenElse>
                                <con1:id>_ActionId-4411972432193529196-3cda1b9b.16f1abb4c49.-1976</con1:id>
                                <con2:case>
                                    <con2:condition>
                                        <con1:xqueryText>fn:string($RSPValidaServicioRegional/val:PV_CODIGO_ERROR/text()) != 'SUCCESS'</con1:xqueryText>
                                    </con2:condition>
                                    <con2:actions>
                                        <con2:replace contents-only="true" varName="header">
                                            <con1:id>_ActionId-4411972432193529196-3cda1b9b.16f1abb4c49.-193e</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText><![CDATA[<aut:ResponseHeader>
	<successIndicator>{ fn:string($RSPValidaServicioRegional/val:PV_CODIGO_ERROR/text()) }</successIndicator>
	<messages>{ fn:string($RSPValidaServicioRegional/val:PV_MENSAJE_ERROR/text()) }</messages>
</aut:ResponseHeader>]]></con1:xqueryText>
                                            </con2:expr>
                                        </con2:replace>
                                        <con2:replace contents-only="true" varName="body">
                                            <con1:id>_ActionId-4411972432193529196-3cda1b9b.16f1abb4c49.-1921</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText>&lt;reg:registraTokenResponse/></con1:xqueryText>
                                            </con2:expr>
                                        </con2:replace>
                                        <con1:reply>
                                            <con1:id>_ActionId-4411972432193529196-3cda1b9b.16f1abb4c49.-1904</con1:id>
                                        </con1:reply>
                                    </con2:actions>
                                </con2:case>
                                <con2:default>
                                    <con2:replace contents-only="true" varName="header">
                                        <con1:id>_ActionId-4411972432193529196-3cda1b9b.16f1abb4c49.-18cc</con1:id>
                                        <con2:expr>
                                            <con1:xqueryTransform>
                                                <con1:resource ref="Middleware/v2/Resources/Generales/xq/aplicarValoresPorDefectoRegion"/>
                                                <con1:param name="requestHeader">
                                                    <con1:path>$header/aut:RequestHeader</con1:path>
                                                </con1:param>
                                            </con1:xqueryTransform>
                                        </con2:expr>
                                    </con2:replace>
                                </con2:default>
                            </con2:ifThenElse>
                        </con2:responseTransform>
                    </con2:wsCallout>
                </con:actions>
            </con:stage>
            <con:stage name="ObtenerParametrizacion">
                <con:context>
                    <con1:userNsDecl namespace="http://xmlns.oracle.com/pcbpel/adapter/db/ORA_BANK/OSB_GET_CONFIG/" prefix="osb"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/notificacionTransaccionesTypes" prefix="not"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/autType" prefix="aut"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/SuscribeNotificacionPushTypes" prefix="sus"/>
                </con:context>
                <con:actions>
                    <con2:assign varName="validationParamName">
                        <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7e70</con1:id>
                        <con2:expr>
                            <con1:xqueryText>concat('FICBCO0455.', upper-case($header/aut:RequestHeader/Region/SourceBank/text()), '.VALIDATION')</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con2:assign varName="applicationParamName">
                        <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7e6f</con1:id>
                        <con2:expr>
                            <con1:xqueryText>concat('FICBCO0455.', upper-case($header/aut:RequestHeader/Region/SourceBank/text()), '.APPLICATION')</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con2:assign varName="tokenParamName">
                        <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7e6d</con1:id>
                        <con2:expr>
                            <con1:xqueryText>concat('FICBCO0455.', upper-case($header/aut:RequestHeader/Region/SourceBank/text()), '.TOKEN')</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con2:assign varName="refCompanyParamNameGT">
                        <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7e6c</con1:id>
                        <con2:expr>
                            <con1:xqueryText>'FICBCO0455.GT01.REFCOMPANY'</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con2:assign varName="refCompanyParamNameNI">
                        <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7e6b</con1:id>
                        <con2:expr>
                            <con1:xqueryText>'FICBCO0455.NI01.REFCOMPANY'</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con2:assign varName="refCompanyParamNameHN">
                        <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7e6a</con1:id>
                        <con2:expr>
                            <con1:xqueryText>'FICBCO0455.HN01.REFCOMPANY'</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con2:assign varName="refCompanyParamNamePA">
                        <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7e69</con1:id>
                        <con2:expr>
                            <con1:xqueryText>'FICBCO0455.PA01.REFCOMPANY'</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con2:wsCallout>
                        <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7e5d</con1:id>
                        <con2:service xsi:type="ref:BusinessServiceRef" ref="Middleware/Business_Resources/general/Resources/ObtenerParametrizacion/ObtenerParametrizacion" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con2:operation>obtenerParametrizacion</con2:operation>
                        <con2:request>
                            <con2:body wrapped="false">REQobtenerParametrizacion</con2:body>
                            <con2:header/>
                        </con2:request>
                        <con2:response>
                            <con2:body wrapped="false">RSPobtenerParametrizacion</con2:body>
                            <con2:header/>
                        </con2:response>
                        <con2:requestTransform>
                            <con2:assign varName="REQobtenerParametrizacion">
                                <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7e67</con1:id>
                                <con2:expr>
                                    <con:xqueryTransform xmlns:con="http://www.bea.com/wli/sb/stages/config">
                                        <con:resource ref="Middleware/Business_Resources/general/Parametrizacion/obtenerParametrizacionIn"/>
                                        <con:param name="nombreParametros">
                                            <con:path>fn:concat($validationParamName, "||",
$applicationParamName, "||",
$tokenParamName, "||",
$refCompanyParamNameHN,"||",
$refCompanyParamNameGT,"||",
$refCompanyParamNameNI,"||",
$refCompanyParamNamePA)</con:path>
                                        </con:param>
                                    </con:xqueryTransform>
                                </con2:expr>
                            </con2:assign>
                        </con2:requestTransform>
                        <con2:responseTransform>
                            <con2:assign varName="errorCode">
                                <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7e66</con1:id>
                                <con2:expr>
                                    <con1:xqueryText>fn:string($RSPobtenerParametrizacion/osb:ERROR_CODE/text())</con1:xqueryText>
                                </con2:expr>
                            </con2:assign>
                            <con2:assign varName="validationMessage">
                                <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7e65</con1:id>
                                <con2:expr>
                                    <con1:xqueryText>fn:string($RSPobtenerParametrizacion/osb:ERROR_MESSAGE/text())</con1:xqueryText>
                                </con2:expr>
                            </con2:assign>
                            <con2:assign varName="validationParam">
                                <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7e64</con1:id>
                                <con2:expr>
                                    <con1:xqueryText>string($RSPobtenerParametrizacion/osb:CONFIGURACIONES/osb:CONFIGURACIONES_ITEM[osb:NAME = $validationParamName]/osb:VALUE/text())</con1:xqueryText>
                                </con2:expr>
                            </con2:assign>
                            <con2:assign varName="applicationParam">
                                <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7e63</con1:id>
                                <con2:expr>
                                    <con1:xqueryText>string($RSPobtenerParametrizacion/osb:CONFIGURACIONES/osb:CONFIGURACIONES_ITEM[osb:NAME = $applicationParamName]/osb:VALUE/text())</con1:xqueryText>
                                </con2:expr>
                            </con2:assign>
                            <con2:assign varName="tokenParam">
                                <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7e62</con1:id>
                                <con2:expr>
                                    <con1:xqueryText>string($RSPobtenerParametrizacion/osb:CONFIGURACIONES/osb:CONFIGURACIONES_ITEM[osb:NAME = $tokenParamName]/osb:VALUE/text())</con1:xqueryText>
                                </con2:expr>
                            </con2:assign>
                            <con2:assign varName="refCompanyParamHN">
                                <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7e61</con1:id>
                                <con2:expr>
                                    <con1:xqueryText>string($RSPobtenerParametrizacion/osb:CONFIGURACIONES/osb:CONFIGURACIONES_ITEM[osb:NAME = $refCompanyParamNameHN]/osb:VALUE/text())</con1:xqueryText>
                                </con2:expr>
                            </con2:assign>
                            <con2:assign varName="refCompanyParamGT">
                                <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7e60</con1:id>
                                <con2:expr>
                                    <con1:xqueryText>string($RSPobtenerParametrizacion/osb:CONFIGURACIONES/osb:CONFIGURACIONES_ITEM[osb:NAME = $refCompanyParamNameGT]/osb:VALUE/text())</con1:xqueryText>
                                </con2:expr>
                            </con2:assign>
                            <con2:assign varName="refCompanyParamPA">
                                <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7e5f</con1:id>
                                <con2:expr>
                                    <con1:xqueryText>string($RSPobtenerParametrizacion/osb:CONFIGURACIONES/osb:CONFIGURACIONES_ITEM[osb:NAME = $refCompanyParamNamePA]/osb:VALUE/text())</con1:xqueryText>
                                </con2:expr>
                            </con2:assign>
                            <con2:assign varName="refCompanyParamNI">
                                <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7e5e</con1:id>
                                <con2:expr>
                                    <con1:xqueryText>string($RSPobtenerParametrizacion/osb:CONFIGURACIONES/osb:CONFIGURACIONES_ITEM[osb:NAME = $refCompanyParamNameNI]/osb:VALUE/text())</con1:xqueryText>
                                </con2:expr>
                            </con2:assign>
                        </con2:responseTransform>
                    </con2:wsCallout>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="request" name="SuscripcionPushGT_request">
            <con:stage name="FlujoEntrada">
                <con:context>
                    <con1:userNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/consultaClientesTypes" prefix="con"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/SuscribeNotificacionPushTypes" prefix="sus"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/autType" prefix="aut"/>
                </con:context>
                <con:actions>
                    <con2:assign varName="Interaciones">
                        <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-764b</con1:id>
                        <con2:expr>
                            <con1:xqueryText>$body/sus:SuscribeNotificacionPush/COSTUMERS</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con2:assign varName="CustomerResponse">
                        <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-764a</con1:id>
                        <con2:expr>
                            <con1:xqueryText><![CDATA[<COSTUMER_DETAIL>
	<ID_RESPONSE/>
	<MESSAGE_ID_RESPONSE/>
	<SUCCESS_INDICATOR_RESPONSE/>
	<ERROR_MESSAGE_RESPONSE/>
</COSTUMER_DETAIL>]]></con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con2:foreach>
                        <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-75fb</con1:id>
                        <con2:variable>Interaciones</con2:variable>
                        <con2:expression>
                            <con1:xpathText>./COSTUMER_DETAIL</con1:xpathText>
                        </con2:expression>
                        <con2:value-variable>CustomerIteracion</con2:value-variable>
                        <con2:index-variable>index</con2:index-variable>
                        <con2:total-variable>count</con2:total-variable>
                        <con2:actions>
                            <con2:ifThenElse>
                                <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7649</con1:id>
                                <con2:case>
                                    <con2:condition>
                                        <con1:xqueryText>$CustomerIteracion/TYPE/text()='LEGAL_ID'</con1:xqueryText>
                                    </con2:condition>
                                    <con2:actions>
                                        <con2:wsCallout>
                                            <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-763a</con1:id>
                                            <con2:service xsi:type="ref:ProxyRef" ref="Middleware/v3/ProxyServices/ConsultaCliente" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                            <con2:operation>consultaCliente</con2:operation>
                                            <con2:request>
                                                <con2:body>REQConsultaCliente</con2:body>
                                                <con2:header>REQConsultaClienteHeader</con2:header>
                                            </con2:request>
                                            <con2:response>
                                                <con2:body>RSPConsultaCliente</con2:body>
                                                <con2:header>RSPConsultaClienteHeader</con2:header>
                                            </con2:response>
                                            <con2:requestTransform>
                                                <con2:assign varName="SourceBank">
                                                    <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7648</con1:id>
                                                    <con2:expr>
                                                        <con1:xqueryText>$CustomerIteracion/REGION/text()</con1:xqueryText>
                                                    </con2:expr>
                                                </con2:assign>
                                                <con2:replace contents-only="true" varName="header">
                                                    <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7647</con1:id>
                                                    <con2:location>
                                                        <con1:xpathText>./aut:RequestHeader/Region/SourceBank</con1:xpathText>
                                                    </con2:location>
                                                    <con2:expr>
                                                        <con1:xqueryText>$SourceBank</con1:xqueryText>
                                                    </con2:expr>
                                                </con2:replace>
                                                <con2:replace varName="header" contents-only="true">
                                                    <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7646</con1:id>
                                                    <con2:location>
                                                        <con1:xpathText>./aut:RequestHeader/Region/DestinationBank</con1:xpathText>
                                                    </con2:location>
                                                    <con2:expr>
                                                        <con1:xqueryText>$SourceBank</con1:xqueryText>
                                                    </con2:expr>
                                                </con2:replace>
                                                <con2:assign varName="REQConsultaClienteHeader">
                                                    <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7645</con1:id>
                                                    <con2:expr>
                                                        <con1:xqueryText>$header</con1:xqueryText>
                                                    </con2:expr>
                                                </con2:assign>
                                                <con2:assign varName="REQConsultaCliente">
                                                    <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7644</con1:id>
                                                    <con2:expr>
                                                        <con1:xqueryTransform>
                                                            <con1:resource ref="Middleware/v2/Resources/SuscribeNotificacionPush/xq/consultaClienteIN"/>
                                                            <con1:param name="Value">
                                                                <con1:path>$CustomerIteracion/ID/text()</con1:path>
                                                            </con1:param>
                                                            <con1:param name="Type">
                                                                <con1:path>$CustomerIteracion/TYPE/text()</con1:path>
                                                            </con1:param>
                                                        </con1:xqueryTransform>
                                                    </con2:expr>
                                                </con2:assign>
                                            </con2:requestTransform>
                                            <con2:responseTransform>
                                                <con2:ifThenElse>
                                                    <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7643</con1:id>
                                                    <con2:case>
                                                        <con2:condition>
                                                            <con1:xqueryText>upper-case($RSPConsultaClienteHeader/aut:ResponseHeader/successIndicator/text())='SUCCESS'</con1:xqueryText>
                                                        </con2:condition>
                                                        <con2:actions>
                                                            <con2:assign varName="CustomerID">
                                                                <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7642</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryText>$RSPConsultaCliente/con:CUSTOMER_ID/text()</con1:xqueryText>
                                                                </con2:expr>
                                                            </con2:assign>
                                                            <con2:assign varName="ErrorCode">
                                                                <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7641</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryText>'Success'</con1:xqueryText>
                                                                </con2:expr>
                                                            </con2:assign>
                                                            <con2:assign varName="ValidationMessage">
                                                                <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7640</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryText>upper-case($RSPConsultaClienteHeader/aut:ResponseHeader/successIndicator/text())</con1:xqueryText>
                                                                </con2:expr>
                                                            </con2:assign>
                                                        </con2:actions>
                                                    </con2:case>
                                                    <con2:default>
                                                        <con2:assign varName="CustomerID">
                                                            <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-763f</con1:id>
                                                            <con2:expr>
                                                                <con1:xqueryText>$CustomerIteracion/ID/text()</con1:xqueryText>
                                                            </con2:expr>
                                                        </con2:assign>
                                                        <con2:assign varName="ErrorCode">
                                                            <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-763e</con1:id>
                                                            <con2:expr>
                                                                <con1:xqueryText>'ERROR'</con1:xqueryText>
                                                            </con2:expr>
                                                        </con2:assign>
                                                        <con2:assign varName="ErrorID">
                                                            <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-763d</con1:id>
                                                            <con2:expr>
                                                                <con1:xqueryText>$RSPConsultaClienteHeader/aut:ResponseHeader/messageId/text()</con1:xqueryText>
                                                            </con2:expr>
                                                        </con2:assign>
                                                        <con2:assign varName="MessageError">
                                                            <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-763c</con1:id>
                                                            <con2:expr>
                                                                <con1:xqueryText>$RSPConsultaClienteHeader/aut:ResponseHeader/messages/text()</con1:xqueryText>
                                                            </con2:expr>
                                                        </con2:assign>
                                                        <con2:assign varName="ValidationMessage">
                                                            <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-763b</con1:id>
                                                            <con2:expr>
                                                                <con1:xqueryText>upper-case($RSPConsultaClienteHeader/aut:ResponseHeader/successIndicator/text())</con1:xqueryText>
                                                            </con2:expr>
                                                        </con2:assign>
                                                    </con2:default>
                                                </con2:ifThenElse>
                                            </con2:responseTransform>
                                        </con2:wsCallout>
                                    </con2:actions>
                                </con2:case>
                                <con2:default>
                                    <con2:assign varName="ValidationMessage">
                                        <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7639</con1:id>
                                        <con2:expr>
                                            <con1:xqueryText>'SUCCESS'</con1:xqueryText>
                                        </con2:expr>
                                    </con2:assign>
                                    <con2:assign varName="CustomerID">
                                        <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7638</con1:id>
                                        <con2:expr>
                                            <con1:xqueryText>$CustomerIteracion/ID/text()</con1:xqueryText>
                                        </con2:expr>
                                    </con2:assign>
                                </con2:default>
                            </con2:ifThenElse>
                            <con2:ifThenElse>
                                <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73d2</con1:id>
                                <con2:case>
                                    <con2:condition>
                                        <con1:xqueryText>$ValidationMessage='SUCCESS'</con1:xqueryText>
                                    </con2:condition>
                                    <con2:actions>
                                        <con2:ifThenElse>
                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73d1</con1:id>
                                            <con2:case>
                                                <con2:condition>
                                                    <con1:xqueryText>$CustomerIteracion/REGION/text()='HN01'</con1:xqueryText>
                                                </con2:condition>
                                                <con2:actions>
                                                    <con2:assign varName="refCompany">
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73d0</con1:id>
                                                        <con2:expr>
                                                            <con1:xqueryText>$refCompanyParamHN</con1:xqueryText>
                                                        </con2:expr>
                                                    </con2:assign>
                                                </con2:actions>
                                            </con2:case>
                                            <con2:case>
                                                <con2:condition>
                                                    <con1:xqueryText>$CustomerIteracion/REGION/text()='PA01'</con1:xqueryText>
                                                </con2:condition>
                                                <con2:actions>
                                                    <con2:assign varName="refCompany">
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73cf</con1:id>
                                                        <con2:expr>
                                                            <con1:xqueryText>$refCompanyParamPA</con1:xqueryText>
                                                        </con2:expr>
                                                    </con2:assign>
                                                </con2:actions>
                                            </con2:case>
                                            <con2:case>
                                                <con2:condition>
                                                    <con1:xqueryText>$CustomerIteracion/REGION/text()='GT01'</con1:xqueryText>
                                                </con2:condition>
                                                <con2:actions>
                                                    <con2:assign varName="refCompany">
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73ce</con1:id>
                                                        <con2:expr>
                                                            <con1:xqueryText>$refCompanyParamGT</con1:xqueryText>
                                                        </con2:expr>
                                                    </con2:assign>
                                                </con2:actions>
                                            </con2:case>
                                            <con2:case>
                                                <con2:condition>
                                                    <con1:xqueryText>$CustomerIteracion/REGION/text()='NI01'</con1:xqueryText>
                                                </con2:condition>
                                                <con2:actions>
                                                    <con2:assign varName="refCompany">
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73cd</con1:id>
                                                        <con2:expr>
                                                            <con1:xqueryText>$refCompanyParamNI</con1:xqueryText>
                                                        </con2:expr>
                                                    </con2:assign>
                                                </con2:actions>
                                            </con2:case>
                                            <con2:default/>
                                        </con2:ifThenElse>
                                        <con2:assign varName="pushAction">
                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73cc</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText>$CustomerIteracion/ACTION/text()</con1:xqueryText>
                                            </con2:expr>
                                        </con2:assign>
                                        <con2:assign varName="deviceversion">
                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73cb</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText>if (string-length($CustomerIteracion/DEVICE_OS_VERSION/text())=0)then(
'0')
else($CustomerIteracion/DEVICE_OS_VERSION/text())</con1:xqueryText>
                                            </con2:expr>
                                        </con2:assign>
                                        <con2:assign varName="deviceappversion">
                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73ca</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText>if (string-length($CustomerIteracion/DEVICE_APP_VERSION/text())=0) then
('0')
else($CustomerIteracion/DEVICE_APP_VERSION/text())</con1:xqueryText>
                                            </con2:expr>
                                        </con2:assign>
                                        <con2:assign varName="devicetokenid">
                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73c9</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText>if (string-length($CustomerIteracion/DEVICE_TOKEN/text())=0) then
('0') 
else($CustomerIteracion/DEVICE_TOKEN/text())</con1:xqueryText>
                                            </con2:expr>
                                        </con2:assign>
                                        <con2:assign varName="devicetype">
                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73c8</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText>if (string-length($CustomerIteracion/DEVICE_OS_TYPE/text())=0) then
('0')
else($CustomerIteracion/DEVICE_OS_TYPE/text())</con1:xqueryText>
                                            </con2:expr>
                                        </con2:assign>
                                        <con2:assign varName="devicemodel">
                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73c7</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText>if (string-length($CustomerIteracion/DEVICE_MODEL/text())=0) then
('0')
else($CustomerIteracion/DEVICE_MODEL/text())</con1:xqueryText>
                                            </con2:expr>
                                        </con2:assign>
                                        <con2:assign varName="deviceuuid">
                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73c6</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText>if (string-length($CustomerIteracion/DEVICE_UUID/text())=0) then
('0')
else($CustomerIteracion/DEVICE_UUID/text())</con1:xqueryText>
                                            </con2:expr>
                                        </con2:assign>
                                        <con2:ifThenElse>
                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73c5</con1:id>
                                            <con2:case>
                                                <con2:condition>
                                                    <con1:xqueryText>$pushAction = "ENABLE"</con1:xqueryText>
                                                </con2:condition>
                                                <con2:actions>
                                                    <con2:wsCallout>
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73c3</con1:id>
                                                        <con2:service xsi:type="ref:BusinessServiceRef" ref="Middleware/v2/BusinessServices/LATINIA/provisionerUserService/biz/provisionerUserService" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con2:operation>addUserPropertyValue</con2:operation>
                                                        <con2:request>
                                                            <con2:body>REQaddPropertyPoseePush</con2:body>
                                                        </con2:request>
                                                        <con2:response>
                                                            <con2:body>RSPaddPropertyPoseePush</con2:body>
                                                        </con2:response>
                                                        <con2:requestTransform>
                                                            <con2:assign varName="REQaddPropertyPoseePush">
                                                                <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73c4</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryTransform>
                                                                        <con1:resource ref="Middleware/v2/Resources/SuscribeNotificacionPush/xq/addUserPropertyValueIn"/>
                                                                        <con1:param name="propertyValue">
                                                                            <con1:path>'Y'</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="refCompany">
                                                                            <con1:path>$refCompany</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="propertyName">
                                                                            <con1:path>'poseePush'</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="validation">
                                                                            <con1:path>$validationParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="customerid">
                                                                            <con1:path>$CustomerID</con1:path>
                                                                        </con1:param>
                                                                    </con1:xqueryTransform>
                                                                </con2:expr>
                                                            </con2:assign>
                                                        </con2:requestTransform>
                                                        <con2:responseTransform/>
                                                    </con2:wsCallout>
                                                    <con2:wsCallout>
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73c1</con1:id>
                                                        <con2:service xsi:type="ref:BusinessServiceRef" ref="Middleware/v2/BusinessServices/LATINIA/provisionerUserService/biz/provisionerUserService" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con2:operation>addUserPropertyValue</con2:operation>
                                                        <con2:request>
                                                            <con2:body>REQaddPropertyChnPref</con2:body>
                                                        </con2:request>
                                                        <con2:response>
                                                            <con2:body>RSPaddPropertyChnPref</con2:body>
                                                        </con2:response>
                                                        <con2:requestTransform>
                                                            <con2:assign varName="REQaddPropertyChnPref">
                                                                <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73c2</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryTransform>
                                                                        <con1:resource ref="Middleware/v2/Resources/SuscribeNotificacionPush/xq/addUserPropertyValueIn"/>
                                                                        <con1:param name="propertyValue">
                                                                            <con1:path>'PNS'</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="refCompany">
                                                                            <con1:path>$refCompany</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="propertyName">
                                                                            <con1:path>'chn_pref'</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="validation">
                                                                            <con1:path>$validationParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="customerid">
                                                                            <con1:path>$CustomerID</con1:path>
                                                                        </con1:param>
                                                                    </con1:xqueryTransform>
                                                                </con2:expr>
                                                            </con2:assign>
                                                        </con2:requestTransform>
                                                        <con2:responseTransform/>
                                                    </con2:wsCallout>
                                                    <con2:wsCallout>
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73b4</con1:id>
                                                        <con2:service xsi:type="ref:BusinessServiceRef" ref="Middleware/v2/BusinessServices/LATINIA/provisionerUserService/biz/provisionerUserService" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con2:operation>registerUserAppDevice</con2:operation>
                                                        <con2:request>
                                                            <con2:body>REQregisterUserAppDevice</con2:body>
                                                        </con2:request>
                                                        <con2:response>
                                                            <con2:body>RSPregisterUserAppDevice</con2:body>
                                                        </con2:response>
                                                        <con2:requestTransform>
                                                            <con2:assign varName="REQregisterUserAppDevice">
                                                                <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73c0</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryTransform>
                                                                        <con1:resource ref="Middleware/v2/Resources/SuscribeNotificacionPush/xq/registerUserAppDeviceIn"/>
                                                                        <con1:param name="deviceversion">
                                                                            <con1:path>$deviceversion</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="refCompany">
                                                                            <con1:path>$refCompany</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="devicetoken">
                                                                            <con1:path>$tokenParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="deviceappversion">
                                                                            <con1:path>$deviceappversion</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="devicetokenid">
                                                                            <con1:path>$devicetokenid</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="validation">
                                                                            <con1:path>$validationParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="deviceostype">
                                                                            <con1:path>$devicetype</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="devicemodel">
                                                                            <con1:path>$devicemodel</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="application">
                                                                            <con1:path>$applicationParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="customerid">
                                                                            <con1:path>$CustomerID</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="deviceuuid">
                                                                            <con1:path>$deviceuuid</con1:path>
                                                                        </con1:param>
                                                                    </con1:xqueryTransform>
                                                                </con2:expr>
                                                            </con2:assign>
                                                        </con2:requestTransform>
                                                        <con2:responseTransform>
                                                            <con2:ifThenElse>
                                                                <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73bf</con1:id>
                                                                <con2:case>
                                                                    <con2:condition>
                                                                        <con1:xqueryText>data($RSPregisterUserAppDevice/return) = '1'</con1:xqueryText>
                                                                    </con2:condition>
                                                                    <con2:actions>
                                                                        <con2:assign varName="MessageError">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73be</con1:id>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>''</con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:assign>
                                                                        <con2:insert varName="CustomerResponse">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73bd</con1:id>
                                                                            <con2:location>
                                                                                <con1:xpathText>./ID_RESPONSE</con1:xpathText>
                                                                            </con2:location>
                                                                            <con2:where>last-child</con2:where>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>&lt;ID>{ data($CustomerID) }&lt;/ID></con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:insert>
                                                                        <con2:insert varName="CustomerResponse">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73bc</con1:id>
                                                                            <con2:location>
                                                                                <con1:xpathText>./SUCCESS_INDICATOR_RESPONSE</con1:xpathText>
                                                                            </con2:location>
                                                                            <con2:where>last-child</con2:where>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>&lt;SUCCESS_INDICATOR>Success&lt;/SUCCESS_INDICATOR></con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:insert>
                                                                        <con2:insert varName="CustomerResponse">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73bb</con1:id>
                                                                            <con2:location>
                                                                                <con1:xpathText>./MESSAGE_ID_RESPONSE</con1:xpathText>
                                                                            </con2:location>
                                                                            <con2:where>last-child</con2:where>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>&lt;MESSAGE_ID>0&lt;/MESSAGE_ID></con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:insert>
                                                                        <con2:insert varName="CustomerResponse">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73ba</con1:id>
                                                                            <con2:location>
                                                                                <con1:xpathText>./ERROR_MESSAGE_RESPONSE</con1:xpathText>
                                                                            </con2:location>
                                                                            <con2:where>last-child</con2:where>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>&lt;ERROR_MESSAGE>{ data($MessageError) }&lt;/ERROR_MESSAGE></con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:insert>
                                                                    </con2:actions>
                                                                </con2:case>
                                                                <con2:default>
                                                                    <con2:assign varName="MessageError">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73b9</con1:id>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>'Error en actualizaci√≥n del cliente.'</con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:assign>
                                                                    <con2:insert varName="CustomerResponse">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73b8</con1:id>
                                                                        <con2:location>
                                                                            <con1:xpathText>./ID_RESPONSE</con1:xpathText>
                                                                        </con2:location>
                                                                        <con2:where>last-child</con2:where>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>&lt;ID>{ data($CustomerID) }&lt;/ID></con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:insert>
                                                                    <con2:insert varName="CustomerResponse">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73b7</con1:id>
                                                                        <con2:location>
                                                                            <con1:xpathText>./SUCCESS_INDICATOR_RESPONSE</con1:xpathText>
                                                                        </con2:location>
                                                                        <con2:where>last-child</con2:where>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>&lt;SUCCESS_INDICATOR>ERROR&lt;/SUCCESS_INDICATOR></con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:insert>
                                                                    <con2:insert varName="CustomerResponse">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73b6</con1:id>
                                                                        <con2:location>
                                                                            <con1:xpathText>./MESSAGE_ID_RESPONSE</con1:xpathText>
                                                                        </con2:location>
                                                                        <con2:where>last-child</con2:where>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>&lt;MESSAGE_ID>-1&lt;/MESSAGE_ID></con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:insert>
                                                                    <con2:insert varName="CustomerResponse">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73b5</con1:id>
                                                                        <con2:location>
                                                                            <con1:xpathText>./ERROR_MESSAGE_RESPONSE</con1:xpathText>
                                                                        </con2:location>
                                                                        <con2:where>last-child</con2:where>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>&lt;ERROR_MESSAGE>{ data($MessageError) }&lt;/ERROR_MESSAGE></con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:insert>
                                                                </con2:default>
                                                            </con2:ifThenElse>
                                                        </con2:responseTransform>
                                                    </con2:wsCallout>
                                                </con2:actions>
                                            </con2:case>
                                            <con2:case>
                                                <con2:condition>
                                                    <con1:xqueryText>$pushAction = "DISABLE"</con1:xqueryText>
                                                </con2:condition>
                                                <con2:actions>
                                                    <con2:wsCallout>
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73b2</con1:id>
                                                        <con2:service xsi:type="ref:BusinessServiceRef" ref="Middleware/v2/BusinessServices/LATINIA/provisionerUserService/biz/provisionerUserService" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con2:operation>removeUserProperty</con2:operation>
                                                        <con2:request>
                                                            <con2:body>REQremoveUserProperty</con2:body>
                                                        </con2:request>
                                                        <con2:response>
                                                            <con2:body>RSPremoveUserPropertyValue</con2:body>
                                                        </con2:response>
                                                        <con2:requestTransform>
                                                            <con2:assign varName="REQremoveUserProperty">
                                                                <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73b3</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryTransform>
                                                                        <con1:resource ref="Middleware/v2/Resources/SuscribeNotificacionPush/xq/removeUserPropertyIn"/>
                                                                        <con1:param name="refCompany">
                                                                            <con1:path>$refCompany</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="validation">
                                                                            <con1:path>$validationParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="customerid">
                                                                            <con1:path>$CustomerID</con1:path>
                                                                        </con1:param>
                                                                    </con1:xqueryTransform>
                                                                </con2:expr>
                                                            </con2:assign>
                                                        </con2:requestTransform>
                                                        <con2:responseTransform/>
                                                    </con2:wsCallout>
                                                    <con2:wsCallout>
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73b0</con1:id>
                                                        <con2:service xsi:type="ref:BusinessServiceRef" ref="Middleware/v2/BusinessServices/LATINIA/provisionerUserService/biz/provisionerUserService" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con2:operation>removeUserPropertyValue</con2:operation>
                                                        <con2:request>
                                                            <con2:body>REQremoveUserPropertyValue</con2:body>
                                                        </con2:request>
                                                        <con2:response>
                                                            <con2:body>RSPremoveUserPropertyValue</con2:body>
                                                        </con2:response>
                                                        <con2:requestTransform>
                                                            <con2:assign varName="REQremoveUserPropertyValue">
                                                                <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73b1</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryTransform>
                                                                        <con1:resource ref="Middleware/v2/Resources/SuscribeNotificacionPush/xq/removeUserPropertyValueIn"/>
                                                                        <con1:param name="refCompany">
                                                                            <con1:path>$refCompany</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="validation">
                                                                            <con1:path>$validationParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="customerid">
                                                                            <con1:path>$CustomerID</con1:path>
                                                                        </con1:param>
                                                                    </con1:xqueryTransform>
                                                                </con2:expr>
                                                            </con2:assign>
                                                        </con2:requestTransform>
                                                        <con2:responseTransform/>
                                                    </con2:wsCallout>
                                                    <con2:wsCallout>
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73a3</con1:id>
                                                        <con2:service xsi:type="ref:BusinessServiceRef" ref="Middleware/v2/BusinessServices/LATINIA/provisionerUserService/biz/provisionerUserService" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con2:operation>unregisterUserAppDevice</con2:operation>
                                                        <con2:request>
                                                            <con2:body>REQunregisterUserAppDevice</con2:body>
                                                        </con2:request>
                                                        <con2:response>
                                                            <con2:body>RSPunregisterUserAppDevice</con2:body>
                                                        </con2:response>
                                                        <con2:requestTransform>
                                                            <con2:assign varName="REQunregisterUserAppDevice">
                                                                <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73af</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryTransform>
                                                                        <con1:resource ref="Middleware/v2/Resources/SuscribeNotificacionPush/xq/unregisterUserAppDeviceIn"/>
                                                                        <con1:param name="refCompany">
                                                                            <con1:path>$refCompany</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="validation">
                                                                            <con1:path>$validationParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="application">
                                                                            <con1:path>$applicationParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="customerid">
                                                                            <con1:path>$CustomerID</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="deviceuuid">
                                                                            <con1:path>$deviceuuid</con1:path>
                                                                        </con1:param>
                                                                    </con1:xqueryTransform>
                                                                </con2:expr>
                                                            </con2:assign>
                                                        </con2:requestTransform>
                                                        <con2:responseTransform>
                                                            <con2:ifThenElse>
                                                                <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73ae</con1:id>
                                                                <con2:case>
                                                                    <con2:condition>
                                                                        <con1:xqueryText>data($RSPunregisterUserAppDevice/return) = 'true'</con1:xqueryText>
                                                                    </con2:condition>
                                                                    <con2:actions>
                                                                        <con2:assign varName="MessageError">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73ad</con1:id>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>''</con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:assign>
                                                                        <con2:insert varName="CustomerResponse">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73ac</con1:id>
                                                                            <con2:location>
                                                                                <con1:xpathText>./ID_RESPONSE</con1:xpathText>
                                                                            </con2:location>
                                                                            <con2:where>last-child</con2:where>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>&lt;ID>{ data($CustomerID) }&lt;/ID></con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:insert>
                                                                        <con2:insert varName="CustomerResponse">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73ab</con1:id>
                                                                            <con2:location>
                                                                                <con1:xpathText>./SUCCESS_INDICATOR_RESPONSE</con1:xpathText>
                                                                            </con2:location>
                                                                            <con2:where>last-child</con2:where>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>&lt;SUCCESS_INDICATOR>Success&lt;/SUCCESS_INDICATOR></con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:insert>
                                                                        <con2:insert varName="CustomerResponse">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73aa</con1:id>
                                                                            <con2:location>
                                                                                <con1:xpathText>./MESSAGE_ID_RESPONSE</con1:xpathText>
                                                                            </con2:location>
                                                                            <con2:where>last-child</con2:where>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>&lt;MESSAGE_ID>0&lt;/MESSAGE_ID></con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:insert>
                                                                        <con2:insert varName="CustomerResponse">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73a9</con1:id>
                                                                            <con2:location>
                                                                                <con1:xpathText>./ERROR_MESSAGE_RESPONSE</con1:xpathText>
                                                                            </con2:location>
                                                                            <con2:where>last-child</con2:where>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>&lt;ERROR_MESSAGE>{ data($MessageError) }&lt;/ERROR_MESSAGE></con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:insert>
                                                                    </con2:actions>
                                                                </con2:case>
                                                                <con2:default>
                                                                    <con2:assign varName="MessageError">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73a8</con1:id>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>'Error en actualizaci√≥n del cliente.'</con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:assign>
                                                                    <con2:insert varName="CustomerResponse">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73a7</con1:id>
                                                                        <con2:location>
                                                                            <con1:xpathText>./ID_RESPONSE</con1:xpathText>
                                                                        </con2:location>
                                                                        <con2:where>last-child</con2:where>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>&lt;ID>{ data($CustomerID) }&lt;/ID></con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:insert>
                                                                    <con2:insert varName="CustomerResponse">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73a6</con1:id>
                                                                        <con2:location>
                                                                            <con1:xpathText>./SUCCESS_INDICATOR_RESPONSE</con1:xpathText>
                                                                        </con2:location>
                                                                        <con2:where>last-child</con2:where>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>&lt;SUCCESS_INDICATOR>ERROR&lt;/SUCCESS_INDICATOR></con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:insert>
                                                                    <con2:insert varName="CustomerResponse">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73a5</con1:id>
                                                                        <con2:location>
                                                                            <con1:xpathText>./MESSAGE_ID_RESPONSE</con1:xpathText>
                                                                        </con2:location>
                                                                        <con2:where>last-child</con2:where>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>&lt;MESSAGE_ID>-1&lt;/MESSAGE_ID></con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:insert>
                                                                    <con2:insert varName="CustomerResponse">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73a4</con1:id>
                                                                        <con2:location>
                                                                            <con1:xpathText>./ERROR_MESSAGE_RESPONSE</con1:xpathText>
                                                                        </con2:location>
                                                                        <con2:where>last-child</con2:where>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>&lt;ERROR_MESSAGE>{ data($MessageError) }&lt;/ERROR_MESSAGE></con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:insert>
                                                                </con2:default>
                                                            </con2:ifThenElse>
                                                        </con2:responseTransform>
                                                    </con2:wsCallout>
                                                </con2:actions>
                                            </con2:case>
                                            <con2:default>
                                                <con2:assign varName="MessageError">
                                                    <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73a2</con1:id>
                                                    <con2:expr>
                                                        <con1:xqueryText>'Error en actualizaci√≥n del cliente.'</con1:xqueryText>
                                                    </con2:expr>
                                                </con2:assign>
                                                <con2:insert varName="CustomerResponse">
                                                    <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73a1</con1:id>
                                                    <con2:location>
                                                        <con1:xpathText>./ID_RESPONSE</con1:xpathText>
                                                    </con2:location>
                                                    <con2:where>last-child</con2:where>
                                                    <con2:expr>
                                                        <con1:xqueryText>&lt;ID>{ data($CustomerID) }&lt;/ID></con1:xqueryText>
                                                    </con2:expr>
                                                </con2:insert>
                                                <con2:insert varName="CustomerResponse">
                                                    <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-73a0</con1:id>
                                                    <con2:location>
                                                        <con1:xpathText>./SUCCESS_INDICATOR_RESPONSE</con1:xpathText>
                                                    </con2:location>
                                                    <con2:where>last-child</con2:where>
                                                    <con2:expr>
                                                        <con1:xqueryText>&lt;SUCCESS_INDICATOR>ERROR&lt;/SUCCESS_INDICATOR></con1:xqueryText>
                                                    </con2:expr>
                                                </con2:insert>
                                                <con2:insert varName="CustomerResponse">
                                                    <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-739f</con1:id>
                                                    <con2:location>
                                                        <con1:xpathText>./MESSAGE_ID_RESPONSE</con1:xpathText>
                                                    </con2:location>
                                                    <con2:where>last-child</con2:where>
                                                    <con2:expr>
                                                        <con1:xqueryText>&lt;MESSAGE_ID>-1&lt;/MESSAGE_ID></con1:xqueryText>
                                                    </con2:expr>
                                                </con2:insert>
                                                <con2:insert varName="CustomerResponse">
                                                    <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-739e</con1:id>
                                                    <con2:location>
                                                        <con1:xpathText>./ERROR_MESSAGE_RESPONSE</con1:xpathText>
                                                    </con2:location>
                                                    <con2:where>last-child</con2:where>
                                                    <con2:expr>
                                                        <con1:xqueryText>&lt;ERROR_MESSAGE>{ data($MessageError) }&lt;/ERROR_MESSAGE></con1:xqueryText>
                                                    </con2:expr>
                                                </con2:insert>
                                            </con2:default>
                                        </con2:ifThenElse>
                                    </con2:actions>
                                </con2:case>
                                <con2:default>
                                    <con2:insert varName="CustomerResponse">
                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-739d</con1:id>
                                        <con2:location>
                                            <con1:xpathText>./ID_RESPONSE</con1:xpathText>
                                        </con2:location>
                                        <con2:where>last-child</con2:where>
                                        <con2:expr>
                                            <con1:xqueryText>&lt;ID>{ data($CustomerID) }&lt;/ID></con1:xqueryText>
                                        </con2:expr>
                                    </con2:insert>
                                    <con2:insert varName="CustomerResponse">
                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-739c</con1:id>
                                        <con2:location>
                                            <con1:xpathText>./SUCCESS_INDICATOR_RESPONSE</con1:xpathText>
                                        </con2:location>
                                        <con2:where>last-child</con2:where>
                                        <con2:expr>
                                            <con1:xqueryText>&lt;SUCCESS_INDICATOR>{ data($ErrorCode) }&lt;/SUCCESS_INDICATOR></con1:xqueryText>
                                        </con2:expr>
                                    </con2:insert>
                                    <con2:insert varName="CustomerResponse">
                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-739b</con1:id>
                                        <con2:location>
                                            <con1:xpathText>./MESSAGE_ID_RESPONSE</con1:xpathText>
                                        </con2:location>
                                        <con2:where>last-child</con2:where>
                                        <con2:expr>
                                            <con1:xqueryText>&lt;MESSAGE_ID>{ data($ErrorID) }&lt;/MESSAGE_ID></con1:xqueryText>
                                        </con2:expr>
                                    </con2:insert>
                                    <con2:insert varName="CustomerResponse">
                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-739a</con1:id>
                                        <con2:location>
                                            <con1:xpathText>./ERROR_MESSAGE_RESPONSE</con1:xpathText>
                                        </con2:location>
                                        <con2:where>last-child</con2:where>
                                        <con2:expr>
                                            <con1:xqueryText>&lt;ERROR_MESSAGE>{ data($MessageError) }&lt;/ERROR_MESSAGE></con1:xqueryText>
                                        </con2:expr>
                                    </con2:insert>
                                </con2:default>
                            </con2:ifThenElse>
                        </con2:actions>
                    </con2:foreach>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="request" name="SuscripcionPushHN_request">
            <con:stage name="FlujoEntrada">
                <con:context>
                    <con1:userNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/consultaClientesTypes" prefix="con"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/SuscribeNotificacionPushTypes" prefix="sus"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/autType" prefix="aut"/>
                </con:context>
                <con:actions>
                    <con2:assign varName="Interaciones">
                        <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7bd0</con1:id>
                        <con2:expr>
                            <con1:xqueryText>$body/sus:SuscribeNotificacionPush/COSTUMERS</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con2:assign varName="CustomerResponse">
                        <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7bd2</con1:id>
                        <con2:expr>
                            <con1:xqueryText><![CDATA[<COSTUMER_DETAIL>
	<ID_RESPONSE/>
	<MESSAGE_ID_RESPONSE/>
	<SUCCESS_INDICATOR_RESPONSE/>
	<ERROR_MESSAGE_RESPONSE/>
</COSTUMER_DETAIL>]]></con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con2:foreach>
                        <con1:id>_ActionId-8718669451819491997-4e45d473.17687a37532.-7fbf</con1:id>
                        <con2:variable>Interaciones</con2:variable>
                        <con2:expression>
                            <con1:xpathText>./COSTUMER_DETAIL</con1:xpathText>
                        </con2:expression>
                        <con2:value-variable>CustomerIteracion</con2:value-variable>
                        <con2:index-variable>index</con2:index-variable>
                        <con2:total-variable>count</con2:total-variable>
                        <con2:actions>
                            <con2:ifThenElse>
                                <con1:id>_ActionId-8718669451819491997-4e45d473.17687a37532.-7ef4</con1:id>
                                <con2:case>
                                    <con2:condition>
                                        <con1:xqueryText>$CustomerIteracion/TYPE/text()='LEGAL_ID'</con1:xqueryText>
                                    </con2:condition>
                                    <con2:actions>
                                        <con2:wsCallout>
                                            <con1:id>_ActionId-8718669451819491997-4e45d473.17687a37532.-7ef2</con1:id>
                                            <con2:service xsi:type="ref:ProxyRef" ref="Middleware/v3/ProxyServices/ConsultaCliente" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                            <con2:operation>consultaCliente</con2:operation>
                                            <con2:request>
                                                <con2:body>REQConsultaCliente</con2:body>
                                                <con2:header>REQConsultaClienteHeader</con2:header>
                                            </con2:request>
                                            <con2:response>
                                                <con2:body>RSPConsultaCliente</con2:body>
                                                <con2:header>RSPConsultaClienteHeader</con2:header>
                                            </con2:response>
                                            <con2:requestTransform>
                                                <con2:assign varName="SourceBank">
                                                    <con1:id>_ActionId-8718669451819491997-4e45d473.17687a37532.-7829</con1:id>
                                                    <con2:expr>
                                                        <con1:xqueryText>$CustomerIteracion/REGION/text()</con1:xqueryText>
                                                    </con2:expr>
                                                </con2:assign>
                                                <con2:replace contents-only="true" varName="header">
                                                    <con1:id>_ActionId-8718669451819491997-4e45d473.17687a37532.-770a</con1:id>
                                                    <con2:location>
                                                        <con1:xpathText>./aut:RequestHeader/Region/SourceBank</con1:xpathText>
                                                    </con2:location>
                                                    <con2:expr>
                                                        <con1:xqueryText>$SourceBank</con1:xqueryText>
                                                    </con2:expr>
                                                </con2:replace>
                                                <con2:replace varName="header" contents-only="true">
                                                    <con1:id>_ActionId-8718669451819491997-4e45d473.17687a37532.-76e6</con1:id>
                                                    <con2:location>
                                                        <con1:xpathText>./aut:RequestHeader/Region/DestinationBank</con1:xpathText>
                                                    </con2:location>
                                                    <con2:expr>
                                                        <con1:xqueryText>$SourceBank</con1:xqueryText>
                                                    </con2:expr>
                                                </con2:replace>
                                                <con2:assign varName="REQConsultaClienteHeader">
                                                    <con1:id>_ActionId-8718669451819491997-4e45d473.17687a37532.-7eb7</con1:id>
                                                    <con2:expr>
                                                        <con1:xqueryText>$header</con1:xqueryText>
                                                    </con2:expr>
                                                </con2:assign>
                                                <con2:assign varName="REQConsultaCliente">
                                                    <con1:id>_ActionId-8718669451819491997-4e45d473.17687a37532.-7e94</con1:id>
                                                    <con2:expr>
                                                        <con1:xqueryTransform>
                                                            <con1:resource ref="Middleware/v2/Resources/SuscribeNotificacionPush/xq/consultaClienteIN"/>
                                                            <con1:param name="Value">
                                                                <con1:path>$CustomerIteracion/ID/text()</con1:path>
                                                            </con1:param>
                                                            <con1:param name="Type">
                                                                <con1:path>$CustomerIteracion/TYPE/text()</con1:path>
                                                            </con1:param>
                                                        </con1:xqueryTransform>
                                                    </con2:expr>
                                                </con2:assign>
                                            </con2:requestTransform>
                                            <con2:responseTransform>
                                                <con2:ifThenElse>
                                                    <con1:id>_ActionId-8718669451819491997-4e45d473.17687a37532.-7e69</con1:id>
                                                    <con2:case>
                                                        <con2:condition>
                                                            <con1:xqueryText>upper-case($RSPConsultaClienteHeader/aut:ResponseHeader/successIndicator/text())='SUCCESS'</con1:xqueryText>
                                                        </con2:condition>
                                                        <con2:actions>
                                                            <con2:assign varName="CustomerID">
                                                                <con1:id>_ActionId-8718669451819491997-4e45d473.17687a37532.-7e4f</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryText>$RSPConsultaCliente/con:CUSTOMER_ID/text()</con1:xqueryText>
                                                                </con2:expr>
                                                            </con2:assign>
                                                            <con2:assign varName="ErrorCode">
                                                                <con1:id>_ActionId-8718669451819491997-4e45d473.17687a37532.-7e0f</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryText>'Success'</con1:xqueryText>
                                                                </con2:expr>
                                                            </con2:assign>
                                                            <con2:assign varName="ValidationMessage">
                                                                <con1:id>_ActionId-8718669451819491997-4e45d473.17687a37532.-7d79</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryText>upper-case($RSPConsultaClienteHeader/aut:ResponseHeader/successIndicator/text())</con1:xqueryText>
                                                                </con2:expr>
                                                            </con2:assign>
                                                        </con2:actions>
                                                    </con2:case>
                                                    <con2:default>
                                                        <con2:assign varName="CustomerID">
                                                            <con1:id>_ActionId-8718669451819491997-4e45d473.17687a37532.-7692</con1:id>
                                                            <con2:expr>
                                                                <con1:xqueryText>$CustomerIteracion/ID/text()</con1:xqueryText>
                                                            </con2:expr>
                                                        </con2:assign>
                                                        <con2:assign varName="ErrorCode">
                                                            <con1:id>_ActionId-8718669451819491997-4e45d473.17687a37532.-7df3</con1:id>
                                                            <con2:expr>
                                                                <con1:xqueryText>'ERROR'</con1:xqueryText>
                                                            </con2:expr>
                                                        </con2:assign>
                                                        <con2:assign varName="ErrorID">
                                                            <con1:id>_ActionId-8718669451819491997-4e45d473.17687a37532.-7e3d</con1:id>
                                                            <con2:expr>
                                                                <con1:xqueryText>$RSPConsultaClienteHeader/aut:ResponseHeader/messageId/text()</con1:xqueryText>
                                                            </con2:expr>
                                                        </con2:assign>
                                                        <con2:assign varName="MessageError">
                                                            <con1:id>_ActionId-8718669451819491997-4e45d473.17687a37532.-7e27</con1:id>
                                                            <con2:expr>
                                                                <con1:xqueryText>$RSPConsultaClienteHeader/aut:ResponseHeader/messages/text()</con1:xqueryText>
                                                            </con2:expr>
                                                        </con2:assign>
                                                        <con2:assign varName="ValidationMessage">
                                                            <con1:id>_ActionId-8718669451819491997-4e45d473.17687a37532.-7d66</con1:id>
                                                            <con2:expr>
                                                                <con1:xqueryText>upper-case($RSPConsultaClienteHeader/aut:ResponseHeader/successIndicator/text())</con1:xqueryText>
                                                            </con2:expr>
                                                        </con2:assign>
                                                    </con2:default>
                                                </con2:ifThenElse>
                                            </con2:responseTransform>
                                        </con2:wsCallout>
                                    </con2:actions>
                                </con2:case>
                                <con2:default>
                                    <con2:assign varName="ValidationMessage">
                                        <con1:id>_ActionId-8718669451819491997-4e45d473.17687a37532.-7855</con1:id>
                                        <con2:expr>
                                            <con1:xqueryText>'SUCCESS'</con1:xqueryText>
                                        </con2:expr>
                                    </con2:assign>
                                    <con2:assign varName="CustomerID">
                                        <con1:id>_ActionId-8718669451819491997-4e45d473.17687a37532.-7ed5</con1:id>
                                        <con2:expr>
                                            <con1:xqueryText>$CustomerIteracion/ID/text()</con1:xqueryText>
                                        </con2:expr>
                                    </con2:assign>
                                </con2:default>
                            </con2:ifThenElse>
                            <con2:ifThenElse>
                                <con1:id>_ActionId-8718669451819491997-4e45d473.17687a37532.-7ccf</con1:id>
                                <con2:case>
                                    <con2:condition>
                                        <con1:xqueryText>$ValidationMessage='SUCCESS'</con1:xqueryText>
                                    </con2:condition>
                                    <con2:actions>
                                        <con2:ifThenElse>
                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7cea</con1:id>
                                            <con2:case>
                                                <con2:condition>
                                                    <con1:xqueryText>$CustomerIteracion/REGION/text()='HN01'</con1:xqueryText>
                                                </con2:condition>
                                                <con2:actions>
                                                    <con2:assign varName="refCompany">
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7ce9</con1:id>
                                                        <con2:expr>
                                                            <con1:xqueryText>$refCompanyParamHN</con1:xqueryText>
                                                        </con2:expr>
                                                    </con2:assign>
                                                </con2:actions>
                                            </con2:case>
                                            <con2:case>
                                                <con2:condition>
                                                    <con1:xqueryText>$CustomerIteracion/REGION/text()='PA01'</con1:xqueryText>
                                                </con2:condition>
                                                <con2:actions>
                                                    <con2:assign varName="refCompany">
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7ce8</con1:id>
                                                        <con2:expr>
                                                            <con1:xqueryText>$refCompanyParamPA</con1:xqueryText>
                                                        </con2:expr>
                                                    </con2:assign>
                                                </con2:actions>
                                            </con2:case>
                                            <con2:case>
                                                <con2:condition>
                                                    <con1:xqueryText>$CustomerIteracion/REGION/text()='GT01'</con1:xqueryText>
                                                </con2:condition>
                                                <con2:actions>
                                                    <con2:assign varName="refCompany">
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7ce7</con1:id>
                                                        <con2:expr>
                                                            <con1:xqueryText>$refCompanyParamGT</con1:xqueryText>
                                                        </con2:expr>
                                                    </con2:assign>
                                                </con2:actions>
                                            </con2:case>
                                            <con2:case>
                                                <con2:condition>
                                                    <con1:xqueryText>$CustomerIteracion/REGION/text()='NI01'</con1:xqueryText>
                                                </con2:condition>
                                                <con2:actions>
                                                    <con2:assign varName="refCompany">
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7ce6</con1:id>
                                                        <con2:expr>
                                                            <con1:xqueryText>$refCompanyParamNI</con1:xqueryText>
                                                        </con2:expr>
                                                    </con2:assign>
                                                </con2:actions>
                                            </con2:case>
                                            <con2:default/>
                                        </con2:ifThenElse>
                                        <con2:assign varName="pushAction">
                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7ce4</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText>$CustomerIteracion/ACTION/text()</con1:xqueryText>
                                            </con2:expr>
                                        </con2:assign>
                                        <con2:assign varName="deviceversion">
                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7ce2</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText>if (string-length($CustomerIteracion/DEVICE_OS_VERSION/text())=0)then(
'0')
else($CustomerIteracion/DEVICE_OS_VERSION/text())</con1:xqueryText>
                                            </con2:expr>
                                        </con2:assign>
                                        <con2:assign varName="deviceappversion">
                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7ce0</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText>if (string-length($CustomerIteracion/DEVICE_APP_VERSION/text())=0) then
('0')
else($CustomerIteracion/DEVICE_APP_VERSION/text())</con1:xqueryText>
                                            </con2:expr>
                                        </con2:assign>
                                        <con2:assign varName="devicetokenid">
                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7cde</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText>if (string-length($CustomerIteracion/DEVICE_TOKEN/text())=0) then
('0') 
else($CustomerIteracion/DEVICE_TOKEN/text())</con1:xqueryText>
                                            </con2:expr>
                                        </con2:assign>
                                        <con2:assign varName="devicetype">
                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7cdc</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText>if (string-length($CustomerIteracion/DEVICE_OS_TYPE/text())=0) then
('0')
else($CustomerIteracion/DEVICE_OS_TYPE/text())</con1:xqueryText>
                                            </con2:expr>
                                        </con2:assign>
                                        <con2:assign varName="devicemodel">
                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7cda</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText>if (string-length($CustomerIteracion/DEVICE_MODEL/text())=0) then
('0')
else($CustomerIteracion/DEVICE_MODEL/text())</con1:xqueryText>
                                            </con2:expr>
                                        </con2:assign>
                                        <con2:assign varName="deviceuuid">
                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7cd8</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText>if (string-length($CustomerIteracion/DEVICE_UUID/text())=0) then
('0')
else($CustomerIteracion/DEVICE_UUID/text())</con1:xqueryText>
                                            </con2:expr>
                                        </con2:assign>
                                        <con2:ifThenElse>
                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c79</con1:id>
                                            <con2:case>
                                                <con2:condition>
                                                    <con1:xqueryText>$pushAction = "ENABLE"</con1:xqueryText>
                                                </con2:condition>
                                                <con2:actions>
                                                    <con2:wsCallout>
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c77</con1:id>
                                                        <con2:service xsi:type="ref:BusinessServiceRef" ref="Middleware/v2/BusinessServices/LATINIA/provisionerUserService/biz/provisionerUserService" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con2:operation>addUserPropertyValue</con2:operation>
                                                        <con2:request>
                                                            <con2:body>REQaddPropertyPoseePush</con2:body>
                                                        </con2:request>
                                                        <con2:response>
                                                            <con2:body>RSPaddPropertyPoseePush</con2:body>
                                                        </con2:response>
                                                        <con2:requestTransform>
                                                            <con2:assign varName="REQaddPropertyPoseePush">
                                                                <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c78</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryTransform>
                                                                        <con1:resource ref="Middleware/v2/Resources/SuscribeNotificacionPush/xq/addUserPropertyValueIn"/>
                                                                        <con1:param name="propertyValue">
                                                                            <con1:path>'Y'</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="refCompany">
                                                                            <con1:path>$refCompany</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="propertyName">
                                                                            <con1:path>'poseePush'</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="validation">
                                                                            <con1:path>$validationParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="customerid">
                                                                            <con1:path>$CustomerID</con1:path>
                                                                        </con1:param>
                                                                    </con1:xqueryTransform>
                                                                </con2:expr>
                                                            </con2:assign>
                                                        </con2:requestTransform>
                                                        <con2:responseTransform/>
                                                    </con2:wsCallout>
                                                    <con2:wsCallout>
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c75</con1:id>
                                                        <con2:service xsi:type="ref:BusinessServiceRef" ref="Middleware/v2/BusinessServices/LATINIA/provisionerUserService/biz/provisionerUserService" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con2:operation>addUserPropertyValue</con2:operation>
                                                        <con2:request>
                                                            <con2:body>REQaddPropertyChnPref</con2:body>
                                                        </con2:request>
                                                        <con2:response>
                                                            <con2:body>RSPaddPropertyChnPref</con2:body>
                                                        </con2:response>
                                                        <con2:requestTransform>
                                                            <con2:assign varName="REQaddPropertyChnPref">
                                                                <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c76</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryTransform>
                                                                        <con1:resource ref="Middleware/v2/Resources/SuscribeNotificacionPush/xq/addUserPropertyValueIn"/>
                                                                        <con1:param name="propertyValue">
                                                                            <con1:path>'PNS'</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="refCompany">
                                                                            <con1:path>$refCompany</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="propertyName">
                                                                            <con1:path>'chn_pref'</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="validation">
                                                                            <con1:path>$validationParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="customerid">
                                                                            <con1:path>$CustomerID</con1:path>
                                                                        </con1:param>
                                                                    </con1:xqueryTransform>
                                                                </con2:expr>
                                                            </con2:assign>
                                                        </con2:requestTransform>
                                                        <con2:responseTransform/>
                                                    </con2:wsCallout>
                                                    <con2:wsCallout>
                                                        <con1:id>_ActionId-8633620018207932351--115fe2f9.193daa38806.-7f74</con1:id>
                                                        <con2:service xsi:type="ref:BusinessServiceRef" ref="Middleware/v2/BusinessServices/LATINIA/provisionerUserService/biz/provisionerUserService" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con2:operation>addUserPropertyValue</con2:operation>
                                                        <con2:request>
                                                            <con2:body>REQaddPropertyChnPrefMail</con2:body>
                                                        </con2:request>
                                                        <con2:response>
                                                            <con2:body>RSPaddPropertyChnPrefMail</con2:body>
                                                        </con2:response>
                                                        <con2:requestTransform>
                                                            <con2:assign varName="REQaddPropertyChnPrefMail">
                                                                <con1:id>_ActionId-8633620018207932351--115fe2f9.193daa38806.-7f62</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryTransform>
                                                                        <con1:resource ref="Middleware/v2/Resources/SuscribeNotificacionPush/xq/addUserPropertyValueIn"/>
                                                                        <con1:param name="propertyValue">
                                                                            <con1:path>'EMAIL'</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="refCompany">
                                                                            <con1:path>$refCompany</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="propertyName">
                                                                            <con1:path>'chn_pref'</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="validation">
                                                                            <con1:path>$validationParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="customerid">
                                                                            <con1:path>$CustomerID</con1:path>
                                                                        </con1:param>
                                                                    </con1:xqueryTransform>
                                                                </con2:expr>
                                                            </con2:assign>
                                                        </con2:requestTransform>
                                                        <con2:responseTransform/>
                                                    </con2:wsCallout>
                                                    <con2:wsCallout>
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c68</con1:id>
                                                        <con2:service xsi:type="ref:BusinessServiceRef" ref="Middleware/v2/BusinessServices/LATINIA/provisionerUserService/biz/provisionerUserService" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con2:operation>registerUserAppDevice</con2:operation>
                                                        <con2:request>
                                                            <con2:body>REQregisterUserAppDevice</con2:body>
                                                        </con2:request>
                                                        <con2:response>
                                                            <con2:body>RSPregisterUserAppDevice</con2:body>
                                                        </con2:response>
                                                        <con2:requestTransform>
                                                            <con2:assign varName="REQregisterUserAppDevice">
                                                                <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c74</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryTransform>
                                                                        <con1:resource ref="Middleware/v2/Resources/SuscribeNotificacionPush/xq/registerUserAppDeviceIn"/>
                                                                        <con1:param name="deviceversion">
                                                                            <con1:path>$deviceversion</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="refCompany">
                                                                            <con1:path>$refCompany</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="devicetoken">
                                                                            <con1:path>$tokenParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="deviceappversion">
                                                                            <con1:path>$deviceappversion</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="devicetokenid">
                                                                            <con1:path>$devicetokenid</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="validation">
                                                                            <con1:path>$validationParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="deviceostype">
                                                                            <con1:path>$devicetype</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="devicemodel">
                                                                            <con1:path>$devicemodel</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="application">
                                                                            <con1:path>$applicationParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="customerid">
                                                                            <con1:path>$CustomerID</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="deviceuuid">
                                                                            <con1:path>$deviceuuid</con1:path>
                                                                        </con1:param>
                                                                    </con1:xqueryTransform>
                                                                </con2:expr>
                                                            </con2:assign>
                                                        </con2:requestTransform>
                                                        <con2:responseTransform>
                                                            <con2:ifThenElse>
                                                                <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c73</con1:id>
                                                                <con2:case>
                                                                    <con2:condition>
                                                                        <con1:xqueryText>data($RSPregisterUserAppDevice/return) = '1'</con1:xqueryText>
                                                                    </con2:condition>
                                                                    <con2:actions>
                                                                        <con2:assign varName="MessageError">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c72</con1:id>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>''</con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:assign>
                                                                        <con2:insert varName="CustomerResponse">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c71</con1:id>
                                                                            <con2:location>
                                                                                <con1:xpathText>./ID_RESPONSE</con1:xpathText>
                                                                            </con2:location>
                                                                            <con2:where>last-child</con2:where>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>&lt;ID>{ data($CustomerID) }&lt;/ID></con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:insert>
                                                                        <con2:insert varName="CustomerResponse">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c70</con1:id>
                                                                            <con2:location>
                                                                                <con1:xpathText>./SUCCESS_INDICATOR_RESPONSE</con1:xpathText>
                                                                            </con2:location>
                                                                            <con2:where>last-child</con2:where>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>&lt;SUCCESS_INDICATOR>Success&lt;/SUCCESS_INDICATOR></con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:insert>
                                                                        <con2:insert varName="CustomerResponse">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c6f</con1:id>
                                                                            <con2:location>
                                                                                <con1:xpathText>./MESSAGE_ID_RESPONSE</con1:xpathText>
                                                                            </con2:location>
                                                                            <con2:where>last-child</con2:where>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>&lt;MESSAGE_ID>0&lt;/MESSAGE_ID></con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:insert>
                                                                        <con2:insert varName="CustomerResponse">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c6e</con1:id>
                                                                            <con2:location>
                                                                                <con1:xpathText>./ERROR_MESSAGE_RESPONSE</con1:xpathText>
                                                                            </con2:location>
                                                                            <con2:where>last-child</con2:where>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>&lt;ERROR_MESSAGE>{ data($MessageError) }&lt;/ERROR_MESSAGE></con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:insert>
                                                                    </con2:actions>
                                                                </con2:case>
                                                                <con2:default>
                                                                    <con2:assign varName="MessageError">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c6d</con1:id>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>'Error en actualizaci√≥n del cliente.'</con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:assign>
                                                                    <con2:insert varName="CustomerResponse">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c6c</con1:id>
                                                                        <con2:location>
                                                                            <con1:xpathText>./ID_RESPONSE</con1:xpathText>
                                                                        </con2:location>
                                                                        <con2:where>last-child</con2:where>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>&lt;ID>{ data($CustomerID) }&lt;/ID></con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:insert>
                                                                    <con2:insert varName="CustomerResponse">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c6b</con1:id>
                                                                        <con2:location>
                                                                            <con1:xpathText>./SUCCESS_INDICATOR_RESPONSE</con1:xpathText>
                                                                        </con2:location>
                                                                        <con2:where>last-child</con2:where>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>&lt;SUCCESS_INDICATOR>ERROR&lt;/SUCCESS_INDICATOR></con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:insert>
                                                                    <con2:insert varName="CustomerResponse">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c6a</con1:id>
                                                                        <con2:location>
                                                                            <con1:xpathText>./MESSAGE_ID_RESPONSE</con1:xpathText>
                                                                        </con2:location>
                                                                        <con2:where>last-child</con2:where>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>&lt;MESSAGE_ID>-1&lt;/MESSAGE_ID></con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:insert>
                                                                    <con2:insert varName="CustomerResponse">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c69</con1:id>
                                                                        <con2:location>
                                                                            <con1:xpathText>./ERROR_MESSAGE_RESPONSE</con1:xpathText>
                                                                        </con2:location>
                                                                        <con2:where>last-child</con2:where>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>&lt;ERROR_MESSAGE>{ data($MessageError) }&lt;/ERROR_MESSAGE></con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:insert>
                                                                </con2:default>
                                                            </con2:ifThenElse>
                                                        </con2:responseTransform>
                                                    </con2:wsCallout>
                                                </con2:actions>
                                            </con2:case>
                                            <con2:case>
                                                <con2:condition>
                                                    <con1:xqueryText>$pushAction = "DISABLE"</con1:xqueryText>
                                                </con2:condition>
                                                <con2:actions>
                                                    <con2:wsCallout>
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c66</con1:id>
                                                        <con2:service xsi:type="ref:BusinessServiceRef" ref="Middleware/v2/BusinessServices/LATINIA/provisionerUserService/biz/provisionerUserService" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con2:operation>removeUserProperty</con2:operation>
                                                        <con2:request>
                                                            <con2:body>REQremoveUserProperty</con2:body>
                                                        </con2:request>
                                                        <con2:response>
                                                            <con2:body>RSPremoveUserPropertyValue</con2:body>
                                                        </con2:response>
                                                        <con2:requestTransform>
                                                            <con2:assign varName="REQremoveUserProperty">
                                                                <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c67</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryTransform>
                                                                        <con1:resource ref="Middleware/v2/Resources/SuscribeNotificacionPush/xq/removeUserPropertyIn"/>
                                                                        <con1:param name="refCompany">
                                                                            <con1:path>$refCompany</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="validation">
                                                                            <con1:path>$validationParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="customerid">
                                                                            <con1:path>$CustomerID</con1:path>
                                                                        </con1:param>
                                                                    </con1:xqueryTransform>
                                                                </con2:expr>
                                                            </con2:assign>
                                                        </con2:requestTransform>
                                                        <con2:responseTransform/>
                                                    </con2:wsCallout>
                                                    <con2:wsCallout>
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c64</con1:id>
                                                        <con2:service xsi:type="ref:BusinessServiceRef" ref="Middleware/v2/BusinessServices/LATINIA/provisionerUserService/biz/provisionerUserService" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con2:operation>removeUserPropertyValue</con2:operation>
                                                        <con2:request>
                                                            <con2:body>REQremoveUserPropertyValue</con2:body>
                                                        </con2:request>
                                                        <con2:response>
                                                            <con2:body>RSPremoveUserPropertyValue</con2:body>
                                                        </con2:response>
                                                        <con2:requestTransform>
                                                            <con2:assign varName="REQremoveUserPropertyValue">
                                                                <con1:id>_ActionId-6835688006394154992-5ae1b392.193db646ef5.-7fcb</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryTransform>
                                                                        <con1:resource ref="Middleware/v2/Resources/SuscribeNotificacionPush/xq/removeUserPropertyValueIn"/>
                                                                        <con1:param name="refCompany">
                                                                            <con1:path>$refCompany</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="validation">
                                                                            <con1:path>$validationParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="customerid">
                                                                            <con1:path>$CustomerID</con1:path>
                                                                        </con1:param>
                                                                    </con1:xqueryTransform>
                                                                </con2:expr>
                                                            </con2:assign>
                                                        </con2:requestTransform>
                                                        <con2:responseTransform/>
                                                    </con2:wsCallout>
                                                    <con2:wsCallout>
                                                        <con1:id>_ActionId-6835688006394154992-5ae1b392.193db646ef5.-7fb6</con1:id>
                                                        <con2:service xsi:type="ref:BusinessServiceRef" ref="Middleware/v2/BusinessServices/LATINIA/provisionerUserService/biz/provisionerUserService" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con2:operation>replaceUserPropertyValue</con2:operation>
                                                        <con2:request>
                                                            <con2:body>REQremoveUserPropertyValueMail</con2:body>
                                                        </con2:request>
                                                        <con2:response>
                                                            <con2:body>RSPremoveUserPropertyValueMail</con2:body>
                                                        </con2:response>
                                                        <con2:requestTransform>
                                                            <con2:assign varName="REQremoveUserPropertyValueMail">
                                                                <con1:id>_ActionId-6835688006394154992-5ae1b392.193db646ef5.-7fb4</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryTransform>
                                                                        <con1:resource ref="Middleware/v2/Resources/SuscribeNotificacionPush/xq/removeUserPropertyValueEmailIn"/>
                                                                        <con1:param name="refCompany">
                                                                            <con1:path>$refCompany</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="validation">
                                                                            <con1:path>$validationParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="customerid">
                                                                            <con1:path>$CustomerID</con1:path>
                                                                        </con1:param>
                                                                    </con1:xqueryTransform>
                                                                </con2:expr>
                                                            </con2:assign>
                                                        </con2:requestTransform>
                                                        <con2:responseTransform/>
                                                    </con2:wsCallout>
                                                    <con2:wsCallout>
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c57</con1:id>
                                                        <con2:service xsi:type="ref:BusinessServiceRef" ref="Middleware/v2/BusinessServices/LATINIA/provisionerUserService/biz/provisionerUserService" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con2:operation>unregisterUserAppDevice</con2:operation>
                                                        <con2:request>
                                                            <con2:body>REQunregisterUserAppDevice</con2:body>
                                                        </con2:request>
                                                        <con2:response>
                                                            <con2:body>RSPunregisterUserAppDevice</con2:body>
                                                        </con2:response>
                                                        <con2:requestTransform>
                                                            <con2:assign varName="REQunregisterUserAppDevice">
                                                                <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c63</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryTransform>
                                                                        <con1:resource ref="Middleware/v2/Resources/SuscribeNotificacionPush/xq/unregisterUserAppDeviceIn"/>
                                                                        <con1:param name="refCompany">
                                                                            <con1:path>$refCompany</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="validation">
                                                                            <con1:path>$validationParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="application">
                                                                            <con1:path>$applicationParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="customerid">
                                                                            <con1:path>$CustomerID</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="deviceuuid">
                                                                            <con1:path>$deviceuuid</con1:path>
                                                                        </con1:param>
                                                                    </con1:xqueryTransform>
                                                                </con2:expr>
                                                            </con2:assign>
                                                        </con2:requestTransform>
                                                        <con2:responseTransform>
                                                            <con2:ifThenElse>
                                                                <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c62</con1:id>
                                                                <con2:case>
                                                                    <con2:condition>
                                                                        <con1:xqueryText>data($RSPunregisterUserAppDevice/return) = 'true'</con1:xqueryText>
                                                                    </con2:condition>
                                                                    <con2:actions>
                                                                        <con2:assign varName="MessageError">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c61</con1:id>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>''</con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:assign>
                                                                        <con2:insert varName="CustomerResponse">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c60</con1:id>
                                                                            <con2:location>
                                                                                <con1:xpathText>./ID_RESPONSE</con1:xpathText>
                                                                            </con2:location>
                                                                            <con2:where>last-child</con2:where>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>&lt;ID>{ data($CustomerID) }&lt;/ID></con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:insert>
                                                                        <con2:insert varName="CustomerResponse">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c5f</con1:id>
                                                                            <con2:location>
                                                                                <con1:xpathText>./SUCCESS_INDICATOR_RESPONSE</con1:xpathText>
                                                                            </con2:location>
                                                                            <con2:where>last-child</con2:where>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>&lt;SUCCESS_INDICATOR>Success&lt;/SUCCESS_INDICATOR></con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:insert>
                                                                        <con2:insert varName="CustomerResponse">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c5e</con1:id>
                                                                            <con2:location>
                                                                                <con1:xpathText>./MESSAGE_ID_RESPONSE</con1:xpathText>
                                                                            </con2:location>
                                                                            <con2:where>last-child</con2:where>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>&lt;MESSAGE_ID>0&lt;/MESSAGE_ID></con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:insert>
                                                                        <con2:insert varName="CustomerResponse">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c5d</con1:id>
                                                                            <con2:location>
                                                                                <con1:xpathText>./ERROR_MESSAGE_RESPONSE</con1:xpathText>
                                                                            </con2:location>
                                                                            <con2:where>last-child</con2:where>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>&lt;ERROR_MESSAGE>{ data($MessageError) }&lt;/ERROR_MESSAGE></con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:insert>
                                                                    </con2:actions>
                                                                </con2:case>
                                                                <con2:default>
                                                                    <con2:assign varName="MessageError">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c5c</con1:id>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>'Error en actualizaci√≥n del cliente.'</con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:assign>
                                                                    <con2:insert varName="CustomerResponse">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c5b</con1:id>
                                                                        <con2:location>
                                                                            <con1:xpathText>./ID_RESPONSE</con1:xpathText>
                                                                        </con2:location>
                                                                        <con2:where>last-child</con2:where>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>&lt;ID>{ data($CustomerID) }&lt;/ID></con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:insert>
                                                                    <con2:insert varName="CustomerResponse">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c5a</con1:id>
                                                                        <con2:location>
                                                                            <con1:xpathText>./SUCCESS_INDICATOR_RESPONSE</con1:xpathText>
                                                                        </con2:location>
                                                                        <con2:where>last-child</con2:where>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>&lt;SUCCESS_INDICATOR>ERROR&lt;/SUCCESS_INDICATOR></con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:insert>
                                                                    <con2:insert varName="CustomerResponse">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c59</con1:id>
                                                                        <con2:location>
                                                                            <con1:xpathText>./MESSAGE_ID_RESPONSE</con1:xpathText>
                                                                        </con2:location>
                                                                        <con2:where>last-child</con2:where>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>&lt;MESSAGE_ID>-1&lt;/MESSAGE_ID></con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:insert>
                                                                    <con2:insert varName="CustomerResponse">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c58</con1:id>
                                                                        <con2:location>
                                                                            <con1:xpathText>./ERROR_MESSAGE_RESPONSE</con1:xpathText>
                                                                        </con2:location>
                                                                        <con2:where>last-child</con2:where>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>&lt;ERROR_MESSAGE>{ data($MessageError) }&lt;/ERROR_MESSAGE></con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:insert>
                                                                </con2:default>
                                                            </con2:ifThenElse>
                                                        </con2:responseTransform>
                                                    </con2:wsCallout>
                                                </con2:actions>
                                            </con2:case>
                                            <con2:default>
                                                <con2:assign varName="MessageError">
                                                    <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c56</con1:id>
                                                    <con2:expr>
                                                        <con1:xqueryText>'Error en actualizaci√≥n del cliente.'</con1:xqueryText>
                                                    </con2:expr>
                                                </con2:assign>
                                                <con2:insert varName="CustomerResponse">
                                                    <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c55</con1:id>
                                                    <con2:location>
                                                        <con1:xpathText>./ID_RESPONSE</con1:xpathText>
                                                    </con2:location>
                                                    <con2:where>last-child</con2:where>
                                                    <con2:expr>
                                                        <con1:xqueryText>&lt;ID>{ data($CustomerID) }&lt;/ID></con1:xqueryText>
                                                    </con2:expr>
                                                </con2:insert>
                                                <con2:insert varName="CustomerResponse">
                                                    <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c54</con1:id>
                                                    <con2:location>
                                                        <con1:xpathText>./SUCCESS_INDICATOR_RESPONSE</con1:xpathText>
                                                    </con2:location>
                                                    <con2:where>last-child</con2:where>
                                                    <con2:expr>
                                                        <con1:xqueryText>&lt;SUCCESS_INDICATOR>ERROR&lt;/SUCCESS_INDICATOR></con1:xqueryText>
                                                    </con2:expr>
                                                </con2:insert>
                                                <con2:insert varName="CustomerResponse">
                                                    <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c53</con1:id>
                                                    <con2:location>
                                                        <con1:xpathText>./MESSAGE_ID_RESPONSE</con1:xpathText>
                                                    </con2:location>
                                                    <con2:where>last-child</con2:where>
                                                    <con2:expr>
                                                        <con1:xqueryText>&lt;MESSAGE_ID>-1&lt;/MESSAGE_ID></con1:xqueryText>
                                                    </con2:expr>
                                                </con2:insert>
                                                <con2:insert varName="CustomerResponse">
                                                    <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7c52</con1:id>
                                                    <con2:location>
                                                        <con1:xpathText>./ERROR_MESSAGE_RESPONSE</con1:xpathText>
                                                    </con2:location>
                                                    <con2:where>last-child</con2:where>
                                                    <con2:expr>
                                                        <con1:xqueryText>&lt;ERROR_MESSAGE>{ data($MessageError) }&lt;/ERROR_MESSAGE></con1:xqueryText>
                                                    </con2:expr>
                                                </con2:insert>
                                            </con2:default>
                                        </con2:ifThenElse>
                                    </con2:actions>
                                </con2:case>
                                <con2:default>
                                    <con2:insert varName="CustomerResponse">
                                        <con1:id>_ActionId-8718669451819491997-4e45d473.17687a37532.-7679</con1:id>
                                        <con2:location>
                                            <con1:xpathText>./ID_RESPONSE</con1:xpathText>
                                        </con2:location>
                                        <con2:where>last-child</con2:where>
                                        <con2:expr>
                                            <con1:xqueryText>&lt;ID>{ data($CustomerID) }&lt;/ID></con1:xqueryText>
                                        </con2:expr>
                                    </con2:insert>
                                    <con2:insert varName="CustomerResponse">
                                        <con1:id>_ActionId-8718669451819491997-4e45d473.17687a37532.-79f9</con1:id>
                                        <con2:location>
                                            <con1:xpathText>./SUCCESS_INDICATOR_RESPONSE</con1:xpathText>
                                        </con2:location>
                                        <con2:where>last-child</con2:where>
                                        <con2:expr>
                                            <con1:xqueryText>&lt;SUCCESS_INDICATOR>{ data($ErrorCode) }&lt;/SUCCESS_INDICATOR></con1:xqueryText>
                                        </con2:expr>
                                    </con2:insert>
                                    <con2:insert varName="CustomerResponse">
                                        <con1:id>_ActionId-8718669451819491997-4e45d473.17687a37532.-79e3</con1:id>
                                        <con2:location>
                                            <con1:xpathText>./MESSAGE_ID_RESPONSE</con1:xpathText>
                                        </con2:location>
                                        <con2:where>last-child</con2:where>
                                        <con2:expr>
                                            <con1:xqueryText>&lt;MESSAGE_ID>{ data($ErrorID) }&lt;/MESSAGE_ID></con1:xqueryText>
                                        </con2:expr>
                                    </con2:insert>
                                    <con2:insert varName="CustomerResponse">
                                        <con1:id>_ActionId-8718669451819491997-4e45d473.17687a37532.-79cc</con1:id>
                                        <con2:location>
                                            <con1:xpathText>./ERROR_MESSAGE_RESPONSE</con1:xpathText>
                                        </con2:location>
                                        <con2:where>last-child</con2:where>
                                        <con2:expr>
                                            <con1:xqueryText>&lt;ERROR_MESSAGE>{ data($MessageError) }&lt;/ERROR_MESSAGE></con1:xqueryText>
                                        </con2:expr>
                                    </con2:insert>
                                </con2:default>
                            </con2:ifThenElse>
                        </con2:actions>
                    </con2:foreach>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="_onErrorHandler-7846784430081719937-6301121.16e8409c8fe.-7b40">
            <con:stage name="ManejoError">
                <con:context>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/notificacionTransaccionesTypes" prefix="not"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/reglasNotificacionesTypes" prefix="reg"/>
                </con:context>
                <con:actions>
                    <con2:assign varName="errorCode">
                        <con1:id>_ActionId-7846784430081719937-6301121.16e8409c8fe.-7b21</con1:id>
                        <con2:expr>
                            <con1:xqueryText>fn:string($fault/ctx:errorCode/text())</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con2:assign varName="errorMessage">
                        <con1:id>_ActionId-7846784430081719937-6301121.16e8409c8fe.-7b12</con1:id>
                        <con2:expr>
                            <con1:xqueryText>fn:string($fault/ctx:reason/text())</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con2:wsCallout>
                        <con1:id>_ActionId-7846784430081719937-6301121.16e8409c8fe.-7aff</con1:id>
                        <con2:service xsi:type="ref:ProxyRef" ref="Middleware/v2/ProxyServices/MapeoErrores" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con2:operation>mapeoErrores</con2:operation>
                        <con2:request>
                            <con2:body>REQmapeoErrores</con2:body>
                        </con2:request>
                        <con2:response>
                            <con2:body>RSPmapeoErrores</con2:body>
                        </con2:response>
                        <con2:requestTransform>
                            <con2:assign varName="REQmapeoErrores">
                                <con1:id>_ActionId-7846784430081719937-6301121.16e8409c8fe.-7ae4</con1:id>
                                <con2:expr>
                                    <con1:xqueryTransform>
                                        <con1:resource ref="Middleware/v2/Resources/MapeoErrores/xq/mapeoErroresUsageIn"/>
                                        <con1:param name="CODIGO_ERROR">
                                            <con1:path>$errorCode</con1:path>
                                        </con1:param>
                                        <con1:param name="MENSAJE_ERROR">
                                            <con1:path>fn:concat("FICBCO0455", "$#$", $errorMessage)</con1:path>
                                        </con1:param>
                                    </con1:xqueryTransform>
                                </con2:expr>
                            </con2:assign>
                        </con2:requestTransform>
                        <con2:responseTransform>
                            <con2:replace varName="header" contents-only="true">
                                <con1:id>_ActionId-7846784430081719937-6301121.16e8409c8fe.-7ac3</con1:id>
                                <con2:expr>
                                    <con1:xqueryTransform>
                                        <con1:resource ref="Middleware/v2/Resources/MapeoErrores/xq/mapeoErroresUsageOut"/>
                                        <con1:param name="mapeoErroresResponse1">
                                            <con1:path>$RSPmapeoErrores</con1:path>
                                        </con1:param>
                                        <con1:param name="successIndicator">
                                            <con1:path>$errorCode</con1:path>
                                        </con1:param>
                                    </con1:xqueryTransform>
                                </con2:expr>
                            </con2:replace>
                        </con2:responseTransform>
                    </con2:wsCallout>
                    <con2:replace varName="body" contents-only="true">
                        <con1:id>_ActionId-7846784430081719937-6301121.16e8409c8fe.-7aa0</con1:id>
                        <con2:expr>
                            <con1:xqueryText>&lt;reg:registraTokenResponse/></con1:xqueryText>
                        </con2:expr>
                    </con2:replace>
                    <con1:reply>
                        <con1:id>_ActionId-7846784430081719937-6301121.16e8409c8fe.-7a8d</con1:id>
                    </con1:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="response" name="SuscripcionPushPA_response">
            <con:stage name="FlujoSalida">
                <con:context>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/notificacionTransaccionesTypes" prefix="not"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/autType" prefix="aut"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/reglasNotificacionesTypes" prefix="reg"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/SuscribeNotificacionPushTypes" prefix="sus"/>
                </con:context>
                <con:actions>
                    <con2:ifThenElse>
                        <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-79a9</con1:id>
                        <con2:case>
                            <con2:condition>
                                <con1:xqueryText>$validationMessage = ''</con1:xqueryText>
                            </con2:condition>
                            <con2:actions>
                                <con2:replace varName="header" contents-only="true">
                                    <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-79a8</con1:id>
                                    <con2:expr>
                                        <con1:xqueryText>&lt;aut:ResponseHeader>
	&lt;successIndicator>Success&lt;/successIndicator>
&lt;/aut:ResponseHeader></con1:xqueryText>
                                    </con2:expr>
                                </con2:replace>
                                <con2:replace varName="body" contents-only="true">
                                    <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-79a7</con1:id>
                                    <con2:expr>
                                        <con1:xqueryTransform>
                                            <con1:resource ref="Middleware/v2/Resources/SuscribeNotificacionPush/xq/SuscribeNotificacionesPushOUT"/>
                                            <con1:param name="suscribeNotificacionPush">
                                                <con1:path>$body/sus:SuscribeNotificacionPush</con1:path>
                                            </con1:param>
                                            <con1:param name="CustomerType">
                                                <con1:path>$CustomerResponse</con1:path>
                                            </con1:param>
                                        </con1:xqueryTransform>
                                    </con2:expr>
                                </con2:replace>
                            </con2:actions>
                        </con2:case>
                        <con2:default>
                            <con2:replace varName="header" contents-only="true">
                                <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-79a6</con1:id>
                                <con2:expr>
                                    <con1:xqueryText><![CDATA[<aut:ResponseHeader>
	<successIndicator>ERROR</successIndicator>
	<messages>{ $validationMessage }</messages>
</aut:ResponseHeader>]]></con1:xqueryText>
                                </con2:expr>
                            </con2:replace>
                            <con2:replace contents-only="true" varName="body">
                                <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-79a5</con1:id>
                                <con2:expr>
                                    <con1:xqueryText>&lt;sus:SuscribeNotificacionPushResponse/></con1:xqueryText>
                                </con2:expr>
                            </con2:replace>
                        </con2:default>
                    </con2:ifThenElse>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="request" name="Default_RegistraToken_request"/>
        <con:pipeline type="response" name="SuscripcionPushHN_response">
            <con:stage name="FlujoSalida">
                <con:context>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/notificacionTransaccionesTypes" prefix="not"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/autType" prefix="aut"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/reglasNotificacionesTypes" prefix="reg"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/SuscribeNotificacionPushTypes" prefix="sus"/>
                </con:context>
                <con:actions>
                    <con2:ifThenElse>
                        <con1:id>_ActionId-5549745271451834791-7906304c.1768632bbce.-7de6</con1:id>
                        <con2:case>
                            <con2:condition>
                                <con1:xqueryText>$validationMessage = ''</con1:xqueryText>
                            </con2:condition>
                            <con2:actions>
                                <con2:replace varName="header" contents-only="true">
                                    <con1:id>_ActionId-8633620018207932351--115fe2f9.193daa38806.-7f4c</con1:id>
                                    <con2:expr>
                                        <con1:xqueryText>&lt;aut:ResponseHeader>
	&lt;successIndicator>Success&lt;/successIndicator>
&lt;/aut:ResponseHeader></con1:xqueryText>
                                    </con2:expr>
                                </con2:replace>
                                <con2:replace varName="body" contents-only="true">
                                    <con1:id>_ActionId-8718669451819491997-4e45d473.17687a37532.-7896</con1:id>
                                    <con2:expr>
                                        <con1:xqueryTransform>
                                            <con1:resource ref="Middleware/v2/Resources/SuscribeNotificacionPush/xq/SuscribeNotificacionesPushOUT"/>
                                            <con1:param name="suscribeNotificacionPush">
                                                <con1:path>$body/sus:SuscribeNotificacionPush</con1:path>
                                            </con1:param>
                                            <con1:param name="CustomerType">
                                                <con1:path>$CustomerResponse</con1:path>
                                            </con1:param>
                                        </con1:xqueryTransform>
                                    </con2:expr>
                                </con2:replace>
                            </con2:actions>
                        </con2:case>
                        <con2:default>
                            <con2:replace varName="header" contents-only="true">
                                <con1:id>_ActionId-8633620018207932351--115fe2f9.193daa38806.-7f90</con1:id>
                                <con2:expr>
                                    <con1:xqueryText><![CDATA[<aut:ResponseHeader>
	<successIndicator>ERROR</successIndicator>
	<messages>{ $validationMessage }</messages>
</aut:ResponseHeader>]]></con1:xqueryText>
                                </con2:expr>
                            </con2:replace>
                            <con2:replace contents-only="true" varName="body">
                                <con1:id>_ActionId-8718669451819491997-4e45d473.17687a37532.-7879</con1:id>
                                <con2:expr>
                                    <con1:xqueryText>&lt;sus:SuscribeNotificacionPushResponse/></con1:xqueryText>
                                </con2:expr>
                            </con2:replace>
                        </con2:default>
                    </con2:ifThenElse>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="response" name="SuscripcionPushGT_response">
            <con:stage name="FlujoSalida">
                <con:context>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/notificacionTransaccionesTypes" prefix="not"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/autType" prefix="aut"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/reglasNotificacionesTypes" prefix="reg"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/SuscribeNotificacionPushTypes" prefix="sus"/>
                </con:context>
                <con:actions>
                    <con2:ifThenElse>
                        <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7929</con1:id>
                        <con2:case>
                            <con2:condition>
                                <con1:xqueryText>$validationMessage = ''</con1:xqueryText>
                            </con2:condition>
                            <con2:actions>
                                <con2:replace varName="header" contents-only="true">
                                    <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7928</con1:id>
                                    <con2:expr>
                                        <con1:xqueryText>&lt;aut:ResponseHeader>
	&lt;successIndicator>Success&lt;/successIndicator>
&lt;/aut:ResponseHeader></con1:xqueryText>
                                    </con2:expr>
                                </con2:replace>
                                <con2:replace varName="body" contents-only="true">
                                    <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7927</con1:id>
                                    <con2:expr>
                                        <con1:xqueryTransform>
                                            <con1:resource ref="Middleware/v2/Resources/SuscribeNotificacionPush/xq/SuscribeNotificacionesPushOUT"/>
                                            <con1:param name="suscribeNotificacionPush">
                                                <con1:path>$body/sus:SuscribeNotificacionPush</con1:path>
                                            </con1:param>
                                            <con1:param name="CustomerType">
                                                <con1:path>$CustomerResponse</con1:path>
                                            </con1:param>
                                        </con1:xqueryTransform>
                                    </con2:expr>
                                </con2:replace>
                            </con2:actions>
                        </con2:case>
                        <con2:default>
                            <con2:replace varName="header" contents-only="true">
                                <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7926</con1:id>
                                <con2:expr>
                                    <con1:xqueryText><![CDATA[<aut:ResponseHeader>
	<successIndicator>ERROR</successIndicator>
	<messages>{ $validationMessage }</messages>
</aut:ResponseHeader>]]></con1:xqueryText>
                                </con2:expr>
                            </con2:replace>
                            <con2:replace contents-only="true" varName="body">
                                <con1:id>_ActionId-5373869565240361798--45398aa2.190989d4b94.-7925</con1:id>
                                <con2:expr>
                                    <con1:xqueryText>&lt;sus:SuscribeNotificacionPushResponse/></con1:xqueryText>
                                </con2:expr>
                            </con2:replace>
                        </con2:default>
                    </con2:ifThenElse>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="response" name="ValidacionGeneral_response">
            <con:stage name="MapeoError">
                <con:context>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/autType" prefix="aut"/>
                </con:context>
                <con:actions>
                    <con2:ifThenElse>
                        <con1:id>_ActionId-2903352932353247619--23946ec2.16ec7fe5226.-79b7</con1:id>
                        <con2:case>
                            <con2:condition>
                                <con1:xqueryText>fn:upper-case(fn:string($header/aut:ResponseHeader/successIndicator/text())) != "SUCCESS"</con1:xqueryText>
                            </con2:condition>
                            <con2:actions>
                                <con2:wsCallout>
                                    <con1:id>_ActionId-2903352932353247619--23946ec2.16ec7fe5226.-79b4</con1:id>
                                    <con2:service xsi:type="ref:ProxyRef" ref="Middleware/v2/ProxyServices/MapeoErrores" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                    <con2:operation>mapeoErrores</con2:operation>
                                    <con2:request>
                                        <con2:body>REQMapeoErrores</con2:body>
                                    </con2:request>
                                    <con2:response>
                                        <con2:body>RSPMapeoErrores</con2:body>
                                    </con2:response>
                                    <con2:requestTransform>
                                        <con2:assign varName="REQMapeoErrores">
                                            <con1:id>_ActionId-2903352932353247619--23946ec2.16ec7fe5226.-79b6</con1:id>
                                            <con2:expr>
                                                <con1:xqueryTransform>
                                                    <con1:resource ref="Middleware/v2/Resources/MapeoErrores/xq/mapeoErroresUsageIn"/>
                                                    <con1:param name="MENSAJE_ERROR">
                                                        <con1:path>fn:concat("FICBCO0455","$#$",fn:string-join($header/aut:ResponseHeader/messages, '||'))</con1:path>
                                                    </con1:param>
                                                    <con1:param name="CODIGO_ERROR">
                                                        <con1:path>fn:upper-case(fn:string($header/aut:ResponseHeader/successIndicator/text()))</con1:path>
                                                    </con1:param>
                                                </con1:xqueryTransform>
                                            </con2:expr>
                                        </con2:assign>
                                    </con2:requestTransform>
                                    <con2:responseTransform>
                                        <con2:replace varName="header" contents-only="true">
                                            <con1:id>_ActionId-2903352932353247619--23946ec2.16ec7fe5226.-79b5</con1:id>
                                            <con2:expr>
                                                <con1:xqueryTransform>
                                                    <con1:resource ref="Middleware/v2/Resources/MapeoErrores/xq/mapeoErroresUsageOut"/>
                                                    <con1:param name="mapeoErroresResponse1">
                                                        <con1:path>$RSPMapeoErrores</con1:path>
                                                    </con1:param>
                                                    <con1:param name="successIndicator">
                                                        <con1:path>fn:string($header/aut:ResponseHeader/successIndicator/text())</con1:path>
                                                    </con1:param>
                                                </con1:xqueryTransform>
                                            </con2:expr>
                                        </con2:replace>
                                    </con2:responseTransform>
                                </con2:wsCallout>
                            </con2:actions>
                        </con2:case>
                        <con2:default/>
                    </con2:ifThenElse>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="request" name="SuscripcionPushPA_request">
            <con:stage name="FlujoEntrada">
                <con:context>
                    <con1:userNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/consultaClientesTypes" prefix="con"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/SuscribeNotificacionPushTypes" prefix="sus"/>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/autType" prefix="aut"/>
                </con:context>
                <con:actions>
                    <con2:assign varName="Interaciones">
                        <con1:id>_ActionId-1013998283944799521--106b400e.19307ce4586.-70bf</con1:id>
                        <con2:expr>
                            <con1:xqueryText>$body/sus:SuscribeNotificacionPush/COSTUMERS</con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con2:assign varName="CustomerResponse">
                        <con1:id>_ActionId-1013998283944799521--106b400e.19307ce4586.-70be</con1:id>
                        <con2:expr>
                            <con1:xqueryText><![CDATA[<COSTUMER_DETAIL>
	<ID_RESPONSE/>
	<MESSAGE_ID_RESPONSE/>
	<SUCCESS_INDICATOR_RESPONSE/>
	<ERROR_MESSAGE_RESPONSE/>
</COSTUMER_DETAIL>]]></con1:xqueryText>
                        </con2:expr>
                    </con2:assign>
                    <con2:foreach>
                        <con1:id>_ActionId-1013998283944799521--106b400e.19307ce4586.-7051</con1:id>
                        <con2:variable>Interaciones</con2:variable>
                        <con2:expression>
                            <con1:xpathText>./COSTUMER_DETAIL</con1:xpathText>
                        </con2:expression>
                        <con2:value-variable>CustomerIteracion</con2:value-variable>
                        <con2:index-variable>index</con2:index-variable>
                        <con2:total-variable>count</con2:total-variable>
                        <con2:actions>
                            <con2:ifThenElse>
                                <con1:id>_ActionId-1013998283944799521--106b400e.19307ce4586.-70bd</con1:id>
                                <con2:case>
                                    <con2:condition>
                                        <con1:xqueryText>$CustomerIteracion/TYPE/text()='LEGAL_ID'</con1:xqueryText>
                                    </con2:condition>
                                    <con2:actions>
                                        <con2:wsCallout>
                                            <con1:id>_ActionId-1013998283944799521--106b400e.19307ce4586.-70ae</con1:id>
                                            <con2:service xsi:type="ref:ProxyRef" ref="Middleware/v3/ProxyServices/ConsultaCliente" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                            <con2:operation>consultaCliente</con2:operation>
                                            <con2:request>
                                                <con2:body>REQConsultaCliente</con2:body>
                                                <con2:header>REQConsultaClienteHeader</con2:header>
                                            </con2:request>
                                            <con2:response>
                                                <con2:body>RSPConsultaCliente</con2:body>
                                                <con2:header>RSPConsultaClienteHeader</con2:header>
                                            </con2:response>
                                            <con2:requestTransform>
                                                <con2:assign varName="SourceBank">
                                                    <con1:id>_ActionId-1013998283944799521--106b400e.19307ce4586.-70bc</con1:id>
                                                    <con2:expr>
                                                        <con1:xqueryText>$CustomerIteracion/REGION/text()</con1:xqueryText>
                                                    </con2:expr>
                                                </con2:assign>
                                                <con2:replace contents-only="true" varName="header">
                                                    <con1:id>_ActionId-1013998283944799521--106b400e.19307ce4586.-70bb</con1:id>
                                                    <con2:location>
                                                        <con1:xpathText>./aut:RequestHeader/Region/SourceBank</con1:xpathText>
                                                    </con2:location>
                                                    <con2:expr>
                                                        <con1:xqueryText>$SourceBank</con1:xqueryText>
                                                    </con2:expr>
                                                </con2:replace>
                                                <con2:replace varName="header" contents-only="true">
                                                    <con1:id>_ActionId-1013998283944799521--106b400e.19307ce4586.-70ba</con1:id>
                                                    <con2:location>
                                                        <con1:xpathText>./aut:RequestHeader/Region/DestinationBank</con1:xpathText>
                                                    </con2:location>
                                                    <con2:expr>
                                                        <con1:xqueryText>$SourceBank</con1:xqueryText>
                                                    </con2:expr>
                                                </con2:replace>
                                                <con2:assign varName="REQConsultaClienteHeader">
                                                    <con1:id>_ActionId-1013998283944799521--106b400e.19307ce4586.-70b9</con1:id>
                                                    <con2:expr>
                                                        <con1:xqueryText>$header</con1:xqueryText>
                                                    </con2:expr>
                                                </con2:assign>
                                                <con2:assign varName="REQConsultaCliente">
                                                    <con1:id>_ActionId-1013998283944799521--106b400e.19307ce4586.-70b8</con1:id>
                                                    <con2:expr>
                                                        <con1:xqueryTransform>
                                                            <con1:resource ref="Middleware/v2/Resources/SuscribeNotificacionPush/xq/consultaClienteIN"/>
                                                            <con1:param name="Value">
                                                                <con1:path>$CustomerIteracion/ID/text()</con1:path>
                                                            </con1:param>
                                                            <con1:param name="Type">
                                                                <con1:path>$CustomerIteracion/TYPE/text()</con1:path>
                                                            </con1:param>
                                                        </con1:xqueryTransform>
                                                    </con2:expr>
                                                </con2:assign>
                                            </con2:requestTransform>
                                            <con2:responseTransform>
                                                <con2:ifThenElse>
                                                    <con1:id>_ActionId-1013998283944799521--106b400e.19307ce4586.-70b7</con1:id>
                                                    <con2:case>
                                                        <con2:condition>
                                                            <con1:xqueryText>upper-case($RSPConsultaClienteHeader/aut:ResponseHeader/successIndicator/text())='SUCCESS'</con1:xqueryText>
                                                        </con2:condition>
                                                        <con2:actions>
                                                            <con2:assign varName="CustomerID">
                                                                <con1:id>_ActionId-1013998283944799521--106b400e.19307ce4586.-70b6</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryText>$RSPConsultaCliente/con:CUSTOMER_ID/text()</con1:xqueryText>
                                                                </con2:expr>
                                                            </con2:assign>
                                                            <con2:assign varName="ErrorCode">
                                                                <con1:id>_ActionId-1013998283944799521--106b400e.19307ce4586.-70b5</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryText>'Success'</con1:xqueryText>
                                                                </con2:expr>
                                                            </con2:assign>
                                                            <con2:assign varName="ValidationMessage">
                                                                <con1:id>_ActionId-1013998283944799521--106b400e.19307ce4586.-70b4</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryText>upper-case($RSPConsultaClienteHeader/aut:ResponseHeader/successIndicator/text())</con1:xqueryText>
                                                                </con2:expr>
                                                            </con2:assign>
                                                        </con2:actions>
                                                    </con2:case>
                                                    <con2:default>
                                                        <con2:assign varName="CustomerID">
                                                            <con1:id>_ActionId-1013998283944799521--106b400e.19307ce4586.-70b3</con1:id>
                                                            <con2:expr>
                                                                <con1:xqueryText>$CustomerIteracion/ID/text()</con1:xqueryText>
                                                            </con2:expr>
                                                        </con2:assign>
                                                        <con2:assign varName="ErrorCode">
                                                            <con1:id>_ActionId-1013998283944799521--106b400e.19307ce4586.-70b2</con1:id>
                                                            <con2:expr>
                                                                <con1:xqueryText>'ERROR'</con1:xqueryText>
                                                            </con2:expr>
                                                        </con2:assign>
                                                        <con2:assign varName="ErrorID">
                                                            <con1:id>_ActionId-1013998283944799521--106b400e.19307ce4586.-70b1</con1:id>
                                                            <con2:expr>
                                                                <con1:xqueryText>$RSPConsultaClienteHeader/aut:ResponseHeader/messageId/text()</con1:xqueryText>
                                                            </con2:expr>
                                                        </con2:assign>
                                                        <con2:assign varName="MessageError">
                                                            <con1:id>_ActionId-1013998283944799521--106b400e.19307ce4586.-70b0</con1:id>
                                                            <con2:expr>
                                                                <con1:xqueryText>$RSPConsultaClienteHeader/aut:ResponseHeader/messages/text()</con1:xqueryText>
                                                            </con2:expr>
                                                        </con2:assign>
                                                        <con2:assign varName="ValidationMessage">
                                                            <con1:id>_ActionId-1013998283944799521--106b400e.19307ce4586.-70af</con1:id>
                                                            <con2:expr>
                                                                <con1:xqueryText>upper-case($RSPConsultaClienteHeader/aut:ResponseHeader/successIndicator/text())</con1:xqueryText>
                                                            </con2:expr>
                                                        </con2:assign>
                                                    </con2:default>
                                                </con2:ifThenElse>
                                            </con2:responseTransform>
                                        </con2:wsCallout>
                                    </con2:actions>
                                </con2:case>
                                <con2:default>
                                    <con2:assign varName="ValidationMessage">
                                        <con1:id>_ActionId-1013998283944799521--106b400e.19307ce4586.-70ad</con1:id>
                                        <con2:expr>
                                            <con1:xqueryText>'SUCCESS'</con1:xqueryText>
                                        </con2:expr>
                                    </con2:assign>
                                    <con2:assign varName="CustomerID">
                                        <con1:id>_ActionId-1013998283944799521--106b400e.19307ce4586.-70ac</con1:id>
                                        <con2:expr>
                                            <con1:xqueryText>$CustomerIteracion/ID/text()</con1:xqueryText>
                                        </con2:expr>
                                    </con2:assign>
                                </con2:default>
                            </con2:ifThenElse>
                            <con2:ifThenElse>
                                <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-7600</con1:id>
                                <con2:case>
                                    <con2:condition>
                                        <con1:xqueryText>$ValidationMessage='SUCCESS'</con1:xqueryText>
                                    </con2:condition>
                                    <con2:actions>
                                        <con2:ifThenElse>
                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75ff</con1:id>
                                            <con2:case>
                                                <con2:condition>
                                                    <con1:xqueryText>$CustomerIteracion/REGION/text()='HN01'</con1:xqueryText>
                                                </con2:condition>
                                                <con2:actions>
                                                    <con2:assign varName="refCompany">
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75fe</con1:id>
                                                        <con2:expr>
                                                            <con1:xqueryText>$refCompanyParamHN</con1:xqueryText>
                                                        </con2:expr>
                                                    </con2:assign>
                                                </con2:actions>
                                            </con2:case>
                                            <con2:case>
                                                <con2:condition>
                                                    <con1:xqueryText>$CustomerIteracion/REGION/text()='PA01'</con1:xqueryText>
                                                </con2:condition>
                                                <con2:actions>
                                                    <con2:assign varName="refCompany">
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75fd</con1:id>
                                                        <con2:expr>
                                                            <con1:xqueryText>$refCompanyParamPA</con1:xqueryText>
                                                        </con2:expr>
                                                    </con2:assign>
                                                </con2:actions>
                                            </con2:case>
                                            <con2:case>
                                                <con2:condition>
                                                    <con1:xqueryText>$CustomerIteracion/REGION/text()='GT01'</con1:xqueryText>
                                                </con2:condition>
                                                <con2:actions>
                                                    <con2:assign varName="refCompany">
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75fc</con1:id>
                                                        <con2:expr>
                                                            <con1:xqueryText>$refCompanyParamGT</con1:xqueryText>
                                                        </con2:expr>
                                                    </con2:assign>
                                                </con2:actions>
                                            </con2:case>
                                            <con2:case>
                                                <con2:condition>
                                                    <con1:xqueryText>$CustomerIteracion/REGION/text()='NI01'</con1:xqueryText>
                                                </con2:condition>
                                                <con2:actions>
                                                    <con2:assign varName="refCompany">
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75fb</con1:id>
                                                        <con2:expr>
                                                            <con1:xqueryText>$refCompanyParamNI</con1:xqueryText>
                                                        </con2:expr>
                                                    </con2:assign>
                                                </con2:actions>
                                            </con2:case>
                                            <con2:default/>
                                        </con2:ifThenElse>
                                        <con2:assign varName="pushAction">
                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75fa</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText>$CustomerIteracion/ACTION/text()</con1:xqueryText>
                                            </con2:expr>
                                        </con2:assign>
                                        <con2:assign varName="deviceversion">
                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75f9</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText>if (string-length($CustomerIteracion/DEVICE_OS_VERSION/text())=0)then(
'0')
else($CustomerIteracion/DEVICE_OS_VERSION/text())</con1:xqueryText>
                                            </con2:expr>
                                        </con2:assign>
                                        <con2:assign varName="deviceappversion">
                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75f8</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText>if (string-length($CustomerIteracion/DEVICE_APP_VERSION/text())=0) then
('0')
else($CustomerIteracion/DEVICE_APP_VERSION/text())</con1:xqueryText>
                                            </con2:expr>
                                        </con2:assign>
                                        <con2:assign varName="devicetokenid">
                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75f7</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText>if (string-length($CustomerIteracion/DEVICE_TOKEN/text())=0) then
('0') 
else($CustomerIteracion/DEVICE_TOKEN/text())</con1:xqueryText>
                                            </con2:expr>
                                        </con2:assign>
                                        <con2:assign varName="devicetype">
                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75f6</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText>if (string-length($CustomerIteracion/DEVICE_OS_TYPE/text())=0) then
('0')
else($CustomerIteracion/DEVICE_OS_TYPE/text())</con1:xqueryText>
                                            </con2:expr>
                                        </con2:assign>
                                        <con2:assign varName="devicemodel">
                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75f5</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText>if (string-length($CustomerIteracion/DEVICE_MODEL/text())=0) then
('0')
else($CustomerIteracion/DEVICE_MODEL/text())</con1:xqueryText>
                                            </con2:expr>
                                        </con2:assign>
                                        <con2:assign varName="deviceuuid">
                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75f4</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText>if (string-length($CustomerIteracion/DEVICE_UUID/text())=0) then
('0')
else($CustomerIteracion/DEVICE_UUID/text())</con1:xqueryText>
                                            </con2:expr>
                                        </con2:assign>
                                        <con2:ifThenElse>
                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75f3</con1:id>
                                            <con2:case>
                                                <con2:condition>
                                                    <con1:xqueryText>$pushAction = "ENABLE"</con1:xqueryText>
                                                </con2:condition>
                                                <con2:actions>
                                                    <con2:wsCallout>
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75f1</con1:id>
                                                        <con2:service xsi:type="ref:BusinessServiceRef" ref="Middleware/v2/BusinessServices/LATINIA/provisionerUserService/biz/provisionerUserService" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con2:operation>addUserPropertyValue</con2:operation>
                                                        <con2:request>
                                                            <con2:body>REQaddPropertyPoseePush</con2:body>
                                                        </con2:request>
                                                        <con2:response>
                                                            <con2:body>RSPaddPropertyPoseePush</con2:body>
                                                        </con2:response>
                                                        <con2:requestTransform>
                                                            <con2:assign varName="REQaddPropertyPoseePush">
                                                                <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75f2</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryTransform>
                                                                        <con1:resource ref="Middleware/v2/Resources/SuscribeNotificacionPush/xq/addUserPropertyValueIn"/>
                                                                        <con1:param name="propertyValue">
                                                                            <con1:path>'Y'</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="refCompany">
                                                                            <con1:path>$refCompany</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="propertyName">
                                                                            <con1:path>'poseePush'</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="validation">
                                                                            <con1:path>$validationParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="customerid">
                                                                            <con1:path>$CustomerID</con1:path>
                                                                        </con1:param>
                                                                    </con1:xqueryTransform>
                                                                </con2:expr>
                                                            </con2:assign>
                                                        </con2:requestTransform>
                                                        <con2:responseTransform/>
                                                    </con2:wsCallout>
                                                    <con2:wsCallout>
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75ef</con1:id>
                                                        <con2:service xsi:type="ref:BusinessServiceRef" ref="Middleware/v2/BusinessServices/LATINIA/provisionerUserService/biz/provisionerUserService" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con2:operation>addUserPropertyValue</con2:operation>
                                                        <con2:request>
                                                            <con2:body>REQaddPropertyChnPref</con2:body>
                                                        </con2:request>
                                                        <con2:response>
                                                            <con2:body>RSPaddPropertyChnPref</con2:body>
                                                        </con2:response>
                                                        <con2:requestTransform>
                                                            <con2:assign varName="REQaddPropertyChnPref">
                                                                <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75f0</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryTransform>
                                                                        <con1:resource ref="Middleware/v2/Resources/SuscribeNotificacionPush/xq/addUserPropertyValueIn"/>
                                                                        <con1:param name="propertyValue">
                                                                            <con1:path>'PNS'</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="refCompany">
                                                                            <con1:path>$refCompany</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="propertyName">
                                                                            <con1:path>'chn_pref'</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="validation">
                                                                            <con1:path>$validationParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="customerid">
                                                                            <con1:path>$CustomerID</con1:path>
                                                                        </con1:param>
                                                                    </con1:xqueryTransform>
                                                                </con2:expr>
                                                            </con2:assign>
                                                        </con2:requestTransform>
                                                        <con2:responseTransform/>
                                                    </con2:wsCallout>
                                                    <con2:wsCallout>
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75e2</con1:id>
                                                        <con2:service xsi:type="ref:BusinessServiceRef" ref="Middleware/v2/BusinessServices/LATINIA/provisionerUserService/biz/provisionerUserService" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con2:operation>registerUserAppDevice</con2:operation>
                                                        <con2:request>
                                                            <con2:body>REQregisterUserAppDevice</con2:body>
                                                        </con2:request>
                                                        <con2:response>
                                                            <con2:body>RSPregisterUserAppDevice</con2:body>
                                                        </con2:response>
                                                        <con2:requestTransform>
                                                            <con2:assign varName="REQregisterUserAppDevice">
                                                                <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75ee</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryTransform>
                                                                        <con1:resource ref="Middleware/v2/Resources/SuscribeNotificacionPush/xq/registerUserAppDeviceIn"/>
                                                                        <con1:param name="deviceversion">
                                                                            <con1:path>$deviceversion</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="refCompany">
                                                                            <con1:path>$refCompany</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="devicetoken">
                                                                            <con1:path>$tokenParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="deviceappversion">
                                                                            <con1:path>$deviceappversion</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="devicetokenid">
                                                                            <con1:path>$devicetokenid</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="validation">
                                                                            <con1:path>$validationParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="deviceostype">
                                                                            <con1:path>$devicetype</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="devicemodel">
                                                                            <con1:path>$devicemodel</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="application">
                                                                            <con1:path>$applicationParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="customerid">
                                                                            <con1:path>$CustomerID</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="deviceuuid">
                                                                            <con1:path>$deviceuuid</con1:path>
                                                                        </con1:param>
                                                                    </con1:xqueryTransform>
                                                                </con2:expr>
                                                            </con2:assign>
                                                        </con2:requestTransform>
                                                        <con2:responseTransform>
                                                            <con2:ifThenElse>
                                                                <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75ed</con1:id>
                                                                <con2:case>
                                                                    <con2:condition>
                                                                        <con1:xqueryText>data($RSPregisterUserAppDevice/return) = '1'</con1:xqueryText>
                                                                    </con2:condition>
                                                                    <con2:actions>
                                                                        <con2:assign varName="MessageError">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75ec</con1:id>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>''</con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:assign>
                                                                        <con2:insert varName="CustomerResponse">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75eb</con1:id>
                                                                            <con2:location>
                                                                                <con1:xpathText>./ID_RESPONSE</con1:xpathText>
                                                                            </con2:location>
                                                                            <con2:where>last-child</con2:where>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>&lt;ID>{ data($CustomerID) }&lt;/ID></con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:insert>
                                                                        <con2:insert varName="CustomerResponse">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75ea</con1:id>
                                                                            <con2:location>
                                                                                <con1:xpathText>./SUCCESS_INDICATOR_RESPONSE</con1:xpathText>
                                                                            </con2:location>
                                                                            <con2:where>last-child</con2:where>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>&lt;SUCCESS_INDICATOR>Success&lt;/SUCCESS_INDICATOR></con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:insert>
                                                                        <con2:insert varName="CustomerResponse">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75e9</con1:id>
                                                                            <con2:location>
                                                                                <con1:xpathText>./MESSAGE_ID_RESPONSE</con1:xpathText>
                                                                            </con2:location>
                                                                            <con2:where>last-child</con2:where>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>&lt;MESSAGE_ID>0&lt;/MESSAGE_ID></con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:insert>
                                                                        <con2:insert varName="CustomerResponse">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75e8</con1:id>
                                                                            <con2:location>
                                                                                <con1:xpathText>./ERROR_MESSAGE_RESPONSE</con1:xpathText>
                                                                            </con2:location>
                                                                            <con2:where>last-child</con2:where>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>&lt;ERROR_MESSAGE>{ data($MessageError) }&lt;/ERROR_MESSAGE></con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:insert>
                                                                    </con2:actions>
                                                                </con2:case>
                                                                <con2:default>
                                                                    <con2:assign varName="MessageError">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75e7</con1:id>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>'Error en actualizaci√≥n del cliente.'</con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:assign>
                                                                    <con2:insert varName="CustomerResponse">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75e6</con1:id>
                                                                        <con2:location>
                                                                            <con1:xpathText>./ID_RESPONSE</con1:xpathText>
                                                                        </con2:location>
                                                                        <con2:where>last-child</con2:where>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>&lt;ID>{ data($CustomerID) }&lt;/ID></con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:insert>
                                                                    <con2:insert varName="CustomerResponse">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75e5</con1:id>
                                                                        <con2:location>
                                                                            <con1:xpathText>./SUCCESS_INDICATOR_RESPONSE</con1:xpathText>
                                                                        </con2:location>
                                                                        <con2:where>last-child</con2:where>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>&lt;SUCCESS_INDICATOR>ERROR&lt;/SUCCESS_INDICATOR></con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:insert>
                                                                    <con2:insert varName="CustomerResponse">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75e4</con1:id>
                                                                        <con2:location>
                                                                            <con1:xpathText>./MESSAGE_ID_RESPONSE</con1:xpathText>
                                                                        </con2:location>
                                                                        <con2:where>last-child</con2:where>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>&lt;MESSAGE_ID>-1&lt;/MESSAGE_ID></con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:insert>
                                                                    <con2:insert varName="CustomerResponse">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75e3</con1:id>
                                                                        <con2:location>
                                                                            <con1:xpathText>./ERROR_MESSAGE_RESPONSE</con1:xpathText>
                                                                        </con2:location>
                                                                        <con2:where>last-child</con2:where>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>&lt;ERROR_MESSAGE>{ data($MessageError) }&lt;/ERROR_MESSAGE></con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:insert>
                                                                </con2:default>
                                                            </con2:ifThenElse>
                                                        </con2:responseTransform>
                                                    </con2:wsCallout>
                                                </con2:actions>
                                            </con2:case>
                                            <con2:case>
                                                <con2:condition>
                                                    <con1:xqueryText>$pushAction = "DISABLE"</con1:xqueryText>
                                                </con2:condition>
                                                <con2:actions>
                                                    <con2:wsCallout>
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75e0</con1:id>
                                                        <con2:service xsi:type="ref:BusinessServiceRef" ref="Middleware/v2/BusinessServices/LATINIA/provisionerUserService/biz/provisionerUserService" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con2:operation>removeUserProperty</con2:operation>
                                                        <con2:request>
                                                            <con2:body>REQremoveUserProperty</con2:body>
                                                        </con2:request>
                                                        <con2:response>
                                                            <con2:body>RSPremoveUserPropertyValue</con2:body>
                                                        </con2:response>
                                                        <con2:requestTransform>
                                                            <con2:assign varName="REQremoveUserProperty">
                                                                <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75e1</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryTransform>
                                                                        <con1:resource ref="Middleware/v2/Resources/SuscribeNotificacionPush/xq/removeUserPropertyIn"/>
                                                                        <con1:param name="refCompany">
                                                                            <con1:path>$refCompany</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="validation">
                                                                            <con1:path>$validationParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="customerid">
                                                                            <con1:path>$CustomerID</con1:path>
                                                                        </con1:param>
                                                                    </con1:xqueryTransform>
                                                                </con2:expr>
                                                            </con2:assign>
                                                        </con2:requestTransform>
                                                        <con2:responseTransform/>
                                                    </con2:wsCallout>
                                                    <con2:wsCallout>
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75de</con1:id>
                                                        <con2:service xsi:type="ref:BusinessServiceRef" ref="Middleware/v2/BusinessServices/LATINIA/provisionerUserService/biz/provisionerUserService" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con2:operation>removeUserPropertyValue</con2:operation>
                                                        <con2:request>
                                                            <con2:body>REQremoveUserPropertyValue</con2:body>
                                                        </con2:request>
                                                        <con2:response>
                                                            <con2:body>RSPremoveUserPropertyValue</con2:body>
                                                        </con2:response>
                                                        <con2:requestTransform>
                                                            <con2:assign varName="REQremoveUserPropertyValue">
                                                                <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75df</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryTransform>
                                                                        <con1:resource ref="Middleware/v2/Resources/SuscribeNotificacionPush/xq/removeUserPropertyValueIn"/>
                                                                        <con1:param name="refCompany">
                                                                            <con1:path>$refCompany</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="validation">
                                                                            <con1:path>$validationParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="customerid">
                                                                            <con1:path>$CustomerID</con1:path>
                                                                        </con1:param>
                                                                    </con1:xqueryTransform>
                                                                </con2:expr>
                                                            </con2:assign>
                                                        </con2:requestTransform>
                                                        <con2:responseTransform/>
                                                    </con2:wsCallout>
                                                    <con2:wsCallout>
                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75d1</con1:id>
                                                        <con2:service xsi:type="ref:BusinessServiceRef" ref="Middleware/v2/BusinessServices/LATINIA/provisionerUserService/biz/provisionerUserService" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con2:operation>unregisterUserAppDevice</con2:operation>
                                                        <con2:request>
                                                            <con2:body>REQunregisterUserAppDevice</con2:body>
                                                        </con2:request>
                                                        <con2:response>
                                                            <con2:body>RSPunregisterUserAppDevice</con2:body>
                                                        </con2:response>
                                                        <con2:requestTransform>
                                                            <con2:assign varName="REQunregisterUserAppDevice">
                                                                <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75dd</con1:id>
                                                                <con2:expr>
                                                                    <con1:xqueryTransform>
                                                                        <con1:resource ref="Middleware/v2/Resources/SuscribeNotificacionPush/xq/unregisterUserAppDeviceIn"/>
                                                                        <con1:param name="refCompany">
                                                                            <con1:path>$refCompany</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="validation">
                                                                            <con1:path>$validationParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="application">
                                                                            <con1:path>$applicationParam</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="customerid">
                                                                            <con1:path>$CustomerID</con1:path>
                                                                        </con1:param>
                                                                        <con1:param name="deviceuuid">
                                                                            <con1:path>$deviceuuid</con1:path>
                                                                        </con1:param>
                                                                    </con1:xqueryTransform>
                                                                </con2:expr>
                                                            </con2:assign>
                                                        </con2:requestTransform>
                                                        <con2:responseTransform>
                                                            <con2:ifThenElse>
                                                                <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75dc</con1:id>
                                                                <con2:case>
                                                                    <con2:condition>
                                                                        <con1:xqueryText>data($RSPunregisterUserAppDevice/return) = 'true'</con1:xqueryText>
                                                                    </con2:condition>
                                                                    <con2:actions>
                                                                        <con2:assign varName="MessageError">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75db</con1:id>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>''</con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:assign>
                                                                        <con2:insert varName="CustomerResponse">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75da</con1:id>
                                                                            <con2:location>
                                                                                <con1:xpathText>./ID_RESPONSE</con1:xpathText>
                                                                            </con2:location>
                                                                            <con2:where>last-child</con2:where>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>&lt;ID>{ data($CustomerID) }&lt;/ID></con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:insert>
                                                                        <con2:insert varName="CustomerResponse">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75d9</con1:id>
                                                                            <con2:location>
                                                                                <con1:xpathText>./SUCCESS_INDICATOR_RESPONSE</con1:xpathText>
                                                                            </con2:location>
                                                                            <con2:where>last-child</con2:where>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>&lt;SUCCESS_INDICATOR>Success&lt;/SUCCESS_INDICATOR></con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:insert>
                                                                        <con2:insert varName="CustomerResponse">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75d8</con1:id>
                                                                            <con2:location>
                                                                                <con1:xpathText>./MESSAGE_ID_RESPONSE</con1:xpathText>
                                                                            </con2:location>
                                                                            <con2:where>last-child</con2:where>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>&lt;MESSAGE_ID>0&lt;/MESSAGE_ID></con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:insert>
                                                                        <con2:insert varName="CustomerResponse">
                                                                            <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75d7</con1:id>
                                                                            <con2:location>
                                                                                <con1:xpathText>./ERROR_MESSAGE_RESPONSE</con1:xpathText>
                                                                            </con2:location>
                                                                            <con2:where>last-child</con2:where>
                                                                            <con2:expr>
                                                                                <con1:xqueryText>&lt;ERROR_MESSAGE>{ data($MessageError) }&lt;/ERROR_MESSAGE></con1:xqueryText>
                                                                            </con2:expr>
                                                                        </con2:insert>
                                                                    </con2:actions>
                                                                </con2:case>
                                                                <con2:default>
                                                                    <con2:assign varName="MessageError">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75d6</con1:id>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>'Error en actualizaci√≥n del cliente.'</con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:assign>
                                                                    <con2:insert varName="CustomerResponse">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75d5</con1:id>
                                                                        <con2:location>
                                                                            <con1:xpathText>./ID_RESPONSE</con1:xpathText>
                                                                        </con2:location>
                                                                        <con2:where>last-child</con2:where>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>&lt;ID>{ data($CustomerID) }&lt;/ID></con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:insert>
                                                                    <con2:insert varName="CustomerResponse">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75d4</con1:id>
                                                                        <con2:location>
                                                                            <con1:xpathText>./SUCCESS_INDICATOR_RESPONSE</con1:xpathText>
                                                                        </con2:location>
                                                                        <con2:where>last-child</con2:where>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>&lt;SUCCESS_INDICATOR>ERROR&lt;/SUCCESS_INDICATOR></con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:insert>
                                                                    <con2:insert varName="CustomerResponse">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75d3</con1:id>
                                                                        <con2:location>
                                                                            <con1:xpathText>./MESSAGE_ID_RESPONSE</con1:xpathText>
                                                                        </con2:location>
                                                                        <con2:where>last-child</con2:where>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>&lt;MESSAGE_ID>-1&lt;/MESSAGE_ID></con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:insert>
                                                                    <con2:insert varName="CustomerResponse">
                                                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75d2</con1:id>
                                                                        <con2:location>
                                                                            <con1:xpathText>./ERROR_MESSAGE_RESPONSE</con1:xpathText>
                                                                        </con2:location>
                                                                        <con2:where>last-child</con2:where>
                                                                        <con2:expr>
                                                                            <con1:xqueryText>&lt;ERROR_MESSAGE>{ data($MessageError) }&lt;/ERROR_MESSAGE></con1:xqueryText>
                                                                        </con2:expr>
                                                                    </con2:insert>
                                                                </con2:default>
                                                            </con2:ifThenElse>
                                                        </con2:responseTransform>
                                                    </con2:wsCallout>
                                                </con2:actions>
                                            </con2:case>
                                            <con2:default>
                                                <con2:assign varName="MessageError">
                                                    <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75d0</con1:id>
                                                    <con2:expr>
                                                        <con1:xqueryText>'Error en actualizaci√≥n del cliente.'</con1:xqueryText>
                                                    </con2:expr>
                                                </con2:assign>
                                                <con2:insert varName="CustomerResponse">
                                                    <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75cf</con1:id>
                                                    <con2:location>
                                                        <con1:xpathText>./ID_RESPONSE</con1:xpathText>
                                                    </con2:location>
                                                    <con2:where>last-child</con2:where>
                                                    <con2:expr>
                                                        <con1:xqueryText>&lt;ID>{ data($CustomerID) }&lt;/ID></con1:xqueryText>
                                                    </con2:expr>
                                                </con2:insert>
                                                <con2:insert varName="CustomerResponse">
                                                    <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75ce</con1:id>
                                                    <con2:location>
                                                        <con1:xpathText>./SUCCESS_INDICATOR_RESPONSE</con1:xpathText>
                                                    </con2:location>
                                                    <con2:where>last-child</con2:where>
                                                    <con2:expr>
                                                        <con1:xqueryText>&lt;SUCCESS_INDICATOR>ERROR&lt;/SUCCESS_INDICATOR></con1:xqueryText>
                                                    </con2:expr>
                                                </con2:insert>
                                                <con2:insert varName="CustomerResponse">
                                                    <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75cd</con1:id>
                                                    <con2:location>
                                                        <con1:xpathText>./MESSAGE_ID_RESPONSE</con1:xpathText>
                                                    </con2:location>
                                                    <con2:where>last-child</con2:where>
                                                    <con2:expr>
                                                        <con1:xqueryText>&lt;MESSAGE_ID>-1&lt;/MESSAGE_ID></con1:xqueryText>
                                                    </con2:expr>
                                                </con2:insert>
                                                <con2:insert varName="CustomerResponse">
                                                    <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75cc</con1:id>
                                                    <con2:location>
                                                        <con1:xpathText>./ERROR_MESSAGE_RESPONSE</con1:xpathText>
                                                    </con2:location>
                                                    <con2:where>last-child</con2:where>
                                                    <con2:expr>
                                                        <con1:xqueryText>&lt;ERROR_MESSAGE>{ data($MessageError) }&lt;/ERROR_MESSAGE></con1:xqueryText>
                                                    </con2:expr>
                                                </con2:insert>
                                            </con2:default>
                                        </con2:ifThenElse>
                                    </con2:actions>
                                </con2:case>
                                <con2:default>
                                    <con2:insert varName="CustomerResponse">
                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75cb</con1:id>
                                        <con2:location>
                                            <con1:xpathText>./ID_RESPONSE</con1:xpathText>
                                        </con2:location>
                                        <con2:where>last-child</con2:where>
                                        <con2:expr>
                                            <con1:xqueryText>&lt;ID>{ data($CustomerID) }&lt;/ID></con1:xqueryText>
                                        </con2:expr>
                                    </con2:insert>
                                    <con2:insert varName="CustomerResponse">
                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75ca</con1:id>
                                        <con2:location>
                                            <con1:xpathText>./SUCCESS_INDICATOR_RESPONSE</con1:xpathText>
                                        </con2:location>
                                        <con2:where>last-child</con2:where>
                                        <con2:expr>
                                            <con1:xqueryText>&lt;SUCCESS_INDICATOR>{ data($ErrorCode) }&lt;/SUCCESS_INDICATOR></con1:xqueryText>
                                        </con2:expr>
                                    </con2:insert>
                                    <con2:insert varName="CustomerResponse">
                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75c9</con1:id>
                                        <con2:location>
                                            <con1:xpathText>./MESSAGE_ID_RESPONSE</con1:xpathText>
                                        </con2:location>
                                        <con2:where>last-child</con2:where>
                                        <con2:expr>
                                            <con1:xqueryText>&lt;MESSAGE_ID>{ data($ErrorID) }&lt;/MESSAGE_ID></con1:xqueryText>
                                        </con2:expr>
                                    </con2:insert>
                                    <con2:insert varName="CustomerResponse">
                                        <con1:id>_ActionId-9056553345509076138--1dd9dc21.193726c0a34.-75c8</con1:id>
                                        <con2:location>
                                            <con1:xpathText>./ERROR_MESSAGE_RESPONSE</con1:xpathText>
                                        </con2:location>
                                        <con2:where>last-child</con2:where>
                                        <con2:expr>
                                            <con1:xqueryText>&lt;ERROR_MESSAGE>{ data($MessageError) }&lt;/ERROR_MESSAGE></con1:xqueryText>
                                        </con2:expr>
                                    </con2:insert>
                                </con2:default>
                            </con2:ifThenElse>
                        </con2:actions>
                    </con2:foreach>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:flow>
            <con:pipeline-node name="ValidacionGeneral">
                <con:request>ValidacionGeneral_request</con:request>
                <con:response>ValidacionGeneral_response</con:response>
            </con:pipeline-node>
            <con:branch-node type="condition" name="RegionalizacionPaisEmpresa">
                <con:context>
                    <con1:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/autType" prefix="aut"/>
                </con:context>
                <con:branch-table variable="header">
                    <con:xpath>
                        <con1:xpathText>./aut:RequestHeader/Region/SourceBank</con1:xpathText>
                    </con:xpath>
                    <con:branch name="HN01">
                        <con:operator>equals</con:operator>
                        <con:value>'HN01'</con:value>
                        <con:flow>
                            <con:pipeline-node name="SuscripcionPushHN">
                                <con:request>SuscripcionPushHN_request</con:request>
                                <con:response>SuscripcionPushHN_response</con:response>
                            </con:pipeline-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="PA01">
                        <con:operator>equals</con:operator>
                        <con:value>'PA01'</con:value>
                        <con:flow>
                            <con:pipeline-node name="SuscripcionPushPA">
                                <con:request>SuscripcionPushPA_request</con:request>
                                <con:response>SuscripcionPushPA_response</con:response>
                            </con:pipeline-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="NI01">
                        <con:operator>equals</con:operator>
                        <con:value>'NI01'</con:value>
                        <con:flow>
                            <con:pipeline-node name="SuscripcionPushNI">
                                <con:request>SuscripcionPushNI_request</con:request>
                                <con:response>SuscripcionPushNI_response</con:response>
                            </con:pipeline-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="GT01">
                        <con:operator>equals</con:operator>
                        <con:value>'GT01'</con:value>
                        <con:flow>
                            <con:pipeline-node name="SuscripcionPushGT">
                                <con:request>SuscripcionPushGT_request</con:request>
                                <con:response>SuscripcionPushGT_response</con:response>
                            </con:pipeline-node>
                        </con:flow>
                    </con:branch>
                    <con:default-branch>
                        <con:flow>
                            <con:pipeline-node name="Default_RegistraToken">
                                <con:request>Default_RegistraToken_request</con:request>
                                <con:response>Default_RegistraToken_response</con:response>
                            </con:pipeline-node>
                        </con:flow>
                    </con:default-branch>
                </con:branch-table>
            </con:branch-node>
        </con:flow>
    </con:router>
</con:pipelineEntry>