<?xml version="1.0" encoding="UTF-8"?>
<con:pipelineEntry xmlns:con="http://www.bea.com/wli/sb/pipeline/config" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:oper="http://xmlns.oracle.com/servicebus/pipeline/operations">
    <con:coreEntry>
        <con:binding type="SOAP" isSoap12="false" xsi:type="con:SoapBindingType">
            <con:wsdl ref="Middleware/v2/Resources/PagoRetiroFPC/wsdl/pagoRetiroFPCPS"/>
            <con:binding>
                <con:name>pagoRetiroFPCPSSOAP</con:name>
                <con:namespace>http://www.ficohsa.com.hn/middleware.services/pagoRetiroFPCPS/</con:namespace>
            </con:binding>
        </con:binding>
        <oper:operations>
            <oper:monitoring enabled="false" aggregationInterval="10" level="pipeline"/>
            <oper:tracingEnabled>false</oper:tracingEnabled>
            <oper:reporting>true</oper:reporting>
            <oper:logging enabled="true" level="debug"/>
            <oper:sla-alerting enabled="true" level="normal"/>
            <oper:pipeline-alerting enabled="true" level="normal"/>
        </oper:operations>
    </con:coreEntry>
    <con2:router errorHandler="_onErrorHandler-8304146261968548090-357c1442.17188998d30.-7df2" xmlns:ser="http://www.bea.com/wli/sb/services" xmlns:tran="http://www.bea.com/wli/sb/transports" xmlns:env="http://www.bea.com/wli/config/env" xmlns:http="http://www.bea.com/wli/sb/transports/http" xmlns:con="http://www.bea.com/wli/sb/stages/config" xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con2="http://www.bea.com/wli/sb/pipeline/config">
        <con:pipeline type="request" name="PagoRetiroFPC_request" xmlns:con="http://www.bea.com/wli/sb/pipeline/config">
            <con:stage id="_StageId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N78e9" name="GetCloudCodeSessionToken" xmlns:con1="http://www.bea.com/wli/sb/pipeline/config" xmlns:con6="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con4="http://www.bea.com/wli/sb/stages/alert/config" xmlns:con5="http://www.bea.com/wli/sb/stages/publish/config" xmlns:con2="http://www.bea.com/wli/sb/stages/config" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config">
                <con:context>
                    <con1:userNsDecl prefix="con2" namespace="http://xmlns.oracle.com/pcbpel/adapter/db/sp/GetCloudCodeSessionToken" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="us" namespace="https://www.ficohsa.com/honduras/pension/user" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                </con:context>
                <con:actions>
                    <con1:assign varName="user" xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config">
                        <con2:id>_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N78e8</con2:id>
                        <con1:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/Transformation/ExtractCredentialsAPIFPCEmbedded"/>
                            </con2:xqueryTransform>
                        </con1:expr>
                    </con1:assign>
                    <con1:wsCallout xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config">
                        <con2:id>_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N78e7</con2:id>
                        <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/BS/GetCloudCodeSessionToken" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con1:operation>GetCloudCodeSessionToken</con1:operation>
                        <con1:request>
                            <con1:body wrapped="false">REQCloudCodeSessionToken</con1:body>
                        </con1:request>
                        <con1:response>
                            <con1:body wrapped="false">RSPCloudCodeSessionToken</con1:body>
                        </con1:response>
                        <con1:requestTransform>
                            <con1:assign varName="REQCloudCodeSessionToken">
                                <con2:id>_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N78e6</con2:id>
                                <con1:expr>
                                    <con2:xqueryTransform>
                                        <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/Transformation/GetCloudCodeSessionTokenIn"/>
                                        <con2:param name="userName">
                                            <con2:path>$user/us:userName/text()</con2:path>
                                        </con2:param>
                                    </con2:xqueryTransform>
                                </con1:expr>
                            </con1:assign>
                        </con1:requestTransform>
                        <con1:responseTransform>
                            <con1:assign varName="sessionToken">
                                <con2:id>_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N78e5</con2:id>
                                <con1:expr>
                                    <con2:xqueryText>string($RSPCloudCodeSessionToken/con2:PV_TOKEN/text())</con2:xqueryText>
                                </con1:expr>
                            </con1:assign>
                        </con1:responseTransform>
                    </con1:wsCallout>
                </con:actions>
            </con:stage>
            <con:stage name="FlujoEntrada" errorHandler="error-N3f57edd0.4dcaaba7.0.1958b51c2c7.N787b">
                <con:context>
                    <con3:userNsDecl prefix="clo" namespace="https://www.ficohsa.com/honduras/pension/cloudCodeTypes" xmlns:con3="http://www.bea.com/wli/sb/stages/config"/>
                    <con3:varNsDecl prefix="aut" namespace="http://www.ficohsa.com.hn/middleware.services/autType" xmlns:con3="http://www.bea.com/wli/sb/stages/config"/>
                    <con3:varNsDecl prefix="pag" namespace="http://www.ficohsa.com.hn/middleware.services/pagoRetiroFPCTypes" xmlns:con3="http://www.bea.com/wli/sb/stages/config"/>
                    <con3:varNsDecl prefix="pago" namespace="http://xmlns.oracle.com/pcbpel/adapter/db/sp/PAGO_RETIRO_FPC" xmlns:con3="http://www.bea.com/wli/sb/stages/config"/>
                </con:context>
                <con:actions>
                    <con1:wsCallout>
                        <con3:id xmlns:con3="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.2ec81197.0.19570ec4c74.N7fce</con3:id>
                        <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCode/BS/RetirosPostRestBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con1:operation>retirosPost</con1:operation>
                        <con1:request>
                            <con1:body wrapped="false">REQretirosPost</con1:body>
                        </con1:request>
                        <con1:response>
                            <con1:body wrapped="false">RSPretirosPost</con1:body>
                        </con1:response>
                        <con1:requestTransform>
                            <con3:transport-headers xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con6="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con4="http://www.bea.com/wli/sb/stages/alert/config" xmlns:con5="http://www.bea.com/wli/sb/stages/publish/config" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config">
                                <con7:id xmlns:con7="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N78ad</con7:id>
                                <con2:header-set>outbound-request</con2:header-set>
                                <con2:header value="expression" name="Authorization">
                                    <con3:xqueryText xmlns:con3="http://www.bea.com/wli/sb/stages/config">$sessionToken</con3:xqueryText>
                                </con2:header>
                            </con3:transport-headers>
                            <con1:assign varName="REQretirosPost">
                                <con3:id xmlns:con3="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.2ec81197.0.19570ec4c74.N7f37</con3:id>
                                <con1:expr>
                                    <con3:xqueryTransform xmlns:con3="http://www.bea.com/wli/sb/stages/config">
                                        <con3:resource ref="Middleware/v2/BusinessServices/FPC/CloudCode/Transformation/retirosPostIn"/>
                                        <con3:param name="monto">
                                            <con3:path>data($body/pag:pagoRetiroFPC/AMOUNT)</con3:path>
                                        </con3:param>
                                        <con3:param name="numeroTransaccion">
                                            <con3:path>data($body/pag:pagoRetiroFPC/APPLICATION_NUMBER)</con3:path>
                                        </con3:param>
                                        <con3:param name="numeroReferencia">
                                            <con3:path>data($body/pag:pagoRetiroFPC/TRANSACTION)</con3:path>
                                        </con3:param>
                                        <con3:param name="usuarioPago">
                                            <con3:path>data($body/pag:pagoRetiroFPC/USER_PAY)</con3:path>
                                        </con3:param>
                                        <con3:param name="moneda">
                                            <con3:path>data($body/pag:pagoRetiroFPC/CURRENCY)</con3:path>
                                        </con3:param>
                                        <con3:param name="fechaPago">
                                            <con3:path>data($body/pag:pagoRetiroFPC/DATE)</con3:path>
                                        </con3:param>
                                        <con3:param name="codigoAgencia">
                                            <con3:path>data($body/pag:pagoRetiroFPC/CODE_AGENCY)</con3:path>
                                        </con3:param>
                                        <con3:param name="nombreAgencia">
                                            <con3:path>data($body/pag:pagoRetiroFPC/AGENCY_NAME)</con3:path>
                                        </con3:param>
                                    </con3:xqueryTransform>
                                </con1:expr>
                            </con1:assign>
                        </con1:requestTransform>
                        <con1:responseTransform>
                            <con2:assign varName="codeErrorService" xmlns:con1="http://www.bea.com/wli/sb/stages/config" xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con3="http://www.bea.com/wli/sb/services/security/config">
                                <con1:id>_ActionId-N3f57edd0.2ec81197.0.19570ec4c74.N7e9b</con1:id>
                                <con2:expr>
                                    <con1:xqueryText>fn:data($RSPretirosPost/clo:error)</con1:xqueryText>
                                </con2:expr>
                            </con2:assign>
                            <con2:assign varName="statusService" xmlns:con1="http://www.bea.com/wli/sb/stages/config" xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con3="http://www.bea.com/wli/sb/services/security/config">
                                <con1:id>_ActionId-N3f57edd0.2ec81197.0.19570ec4c74.N7ecf</con1:id>
                                <con2:expr>
                                    <con1:xqueryText>if($codeErrorService = 'false') then (
  'Success'
) else ('Error')</con1:xqueryText>
                                </con2:expr>
                            </con2:assign>
                            <con2:assign varName="message" xmlns:con1="http://www.bea.com/wli/sb/stages/config" xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con3="http://www.bea.com/wli/sb/services/security/config">
                                <con1:id>_ActionId-N3f57edd0.2ec81197.0.19570ec4c74.N7f03</con1:id>
                                <con2:expr>
                                    <con1:xqueryText>fn:data($RSPretirosPost/clo:mensaje)</con1:xqueryText>
                                </con2:expr>
                            </con2:assign>
                        </con1:responseTransform>
                    </con1:wsCallout>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="response" name="PagoRetiroFPC_response" xmlns:con="http://www.bea.com/wli/sb/pipeline/config">
            <con:stage name="FlujoSalida">
                <con:context>
                    <con3:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/autType" prefix="aut" xmlns:con3="http://www.bea.com/wli/sb/stages/config"/>
                    <con3:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/pagoRetiroFPCTypes" prefix="pag" xmlns:con3="http://www.bea.com/wli/sb/stages/config"/>
                </con:context>
                <con:actions>
                    <con1:replace contents-only="true" varName="header">
                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-8304146261968548090-357c1442.17188998d30.-7e2c</con2:id>
                        <con1:expr>
                            <con3:xqueryText xmlns:con3="http://www.bea.com/wli/sb/stages/config"><![CDATA[<aut:ResponseHeader>
  {
   	if($statusService = 'Success')then(
   		<successIndicator>Success</successIndicator>,
   		<messages>OK</messages>
   	)else(
   		<successIndicator>ERROR</successIndicator>,
   		<messages>{$message}</messages>
	)
  }
</aut:ResponseHeader>]]></con3:xqueryText>
                        </con1:expr>
                    </con1:replace>
                    <con1:replace contents-only="true" varName="body">
                        <con3:id xmlns:con3="http://www.bea.com/wli/sb/stages/config">_ActionId-8304146261968548090-357c1442.17188998d30.-7df4</con3:id>
                        <con1:expr>
                            <con3:xqueryText xmlns:con3="http://www.bea.com/wli/sb/stages/config">&lt;pag:pagoRetiroFPCResponse/></con3:xqueryText>
                        </con1:expr>
                    </con1:replace>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con2:pipeline type="error" name="_onErrorHandler-8304146261968548090-357c1442.17188998d30.-7df2">
            <con2:stage name="ManejoError">
                <con2:context>
                    <con:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/autType" prefix="aut"/>
                    <con:varNsDecl namespace="http://www.ficohsa.com.hn/middleware.services/pagoRetiroFPCTypes" prefix="pag"/>
                </con2:context>
                <con2:actions>
                    <con1:replace contents-only="true" varName="header">
                        <con:id>_ActionId-8304146261968548090-357c1442.17188998d30.-7d84</con:id>
                        <con1:expr>
                            <con:xqueryText><![CDATA[<aut:ResponseHeader>
	<successIndicator>ERROR</successIndicator>
	<messages>{ concat("-1|",fn:string($fault/ctx:errorCode/text()), ": ", fn:string($fault/ctx:reason/text())) } </messages>
</aut:ResponseHeader>]]></con:xqueryText>
                        </con1:expr>
                    </con1:replace>
                    <con1:replace contents-only="true" varName="body">
                        <con:id>_ActionId-8304146261968548090-357c1442.17188998d30.-7d67</con:id>
                        <con1:expr>
                            <con:xqueryText>&lt;pag:pagoRetiroFPCResponse/></con:xqueryText>
                        </con1:expr>
                    </con1:replace>
                    <con:reply>
                        <con:id>_ActionId-8304146261968548090-357c1442.17188998d30.-7d4a</con:id>
                    </con:reply>
                </con2:actions>
            </con2:stage>
        </con2:pipeline>
        <con2:pipeline type="error" name="error-N3f57edd0.4dcaaba7.0.1958b51c2c7.N787b">
            <con:stage id="_StageId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N7728" name="errorHandlerCloudCode" xmlns:con="http://www.bea.com/wli/sb/pipeline/config" xmlns:con1="http://www.bea.com/wli/sb/pipeline/config" xmlns:con6="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con4="http://www.bea.com/wli/sb/stages/alert/config" xmlns:con5="http://www.bea.com/wli/sb/stages/publish/config" xmlns:con2="http://www.bea.com/wli/sb/stages/config" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config">
                <con:context>
                    <con2:userNsDecl prefix="proc" namespace="http://www.ficohsa.com.hn/middleware.services/procesaMensajeGenericoT24Types"/>
                    <con2:userNsDecl prefix="err" namespace="http://www.bea.com/wli/sb/errors"/>
                    <con2:userNsDecl prefix="clo1" namespace="https://www.ficohsa.com/honduras/pension/cloudCodeTypes"/>
                    <con2:userNsDecl prefix="get" namespace="https://www.ficohsa.com/honduras/pension/getEncryptCredentialsTypes"/>
                    <con2:userNsDecl prefix="clo" namespace="http://www.ficohsa.com.hn/honduras/cloudCodeLoginTypes"/>
                    <con2:userNsDecl prefix="pag" namespace="http://www.ficohsa.com.hn/middleware.services/pagoRetiroFPCTypes"/>
                    <con2:userNsDecl prefix="conf" namespace="http://www.bea.com/wli/sb/stages/transform/config"/>
                    <con2:userNsDecl prefix="us" namespace="https://www.ficohsa.com/honduras/pension/user"/>
                    <con2:userNsDecl prefix="con2" namespace="http://xmlns.oracle.com/pcbpel/adapter/db/sp/GetCloudCodeSessionToken"/>
                </con:context>
                <con:actions>
                    <con1:ifThenElse xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config">
                        <con2:id>_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N7727</con2:id>
                        <con1:case id="_BranchId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N7726">
                            <con1:condition>
                                <con2:xqueryText>fn:contains(fn:string($fault/ctx:reason/text()), '401')</con2:xqueryText>
                            </con1:condition>
                            <con1:actions>
                                <con1:assign varName="user">
                                    <con2:id>_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N7725</con2:id>
                                    <con1:expr>
                                        <con2:xqueryTransform>
                                            <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/Transformation/ExtractCredentialsAPIFPCEmbedded"/>
                                        </con2:xqueryTransform>
                                    </con1:expr>
                                </con1:assign>
                                <con1:wsCallout>
                                    <con2:id>_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N7724</con2:id>
                                    <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/PP/CloudCodeLoginPP" xsi:type="con:PipelineRef"/>
                                    <con1:operation>cloudCodeLogin</con1:operation>
                                    <con1:request>
                                        <con1:body wrapped="false">REQCloudCodeLogin</con1:body>
                                    </con1:request>
                                    <con1:response>
                                        <con1:body wrapped="false">RSPCloudCodeLogin</con1:body>
                                    </con1:response>
                                    <con1:requestTransform>
                                        <con1:assign varName="REQCloudCodeLogin">
                                            <con2:id>_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N7723</con2:id>
                                            <con1:expr>
                                                <con2:xqueryTransform>
                                                    <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/Transformation/ServiceToCloudCodeLogin"/>
                                                    <con2:param name="forceLogin">
                                                        <con2:path>'true'</con2:path>
                                                    </con2:param>
                                                    <con2:param name="credentials">
                                                        <con2:path>$user</con2:path>
                                                    </con2:param>
                                                </con2:xqueryTransform>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:requestTransform>
                                    <con1:responseTransform>
                                        <con1:assign varName="errorCode">
                                            <con2:id>_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N7722</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText>fn:string($RSPCloudCodeLogin/get:successIndicator/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                        <con1:assign varName="errorMessage">
                                            <con2:id>_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N7721</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText>fn:string($RSPCloudCodeLogin/get:message/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                        <con1:assign varName="sessionToken">
                                            <con2:id>_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N7720</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText>fn:string($RSPCloudCodeLogin/get:response/clo:datos/clo:token/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:responseTransform>
                                </con1:wsCallout>
                                <con1:wsCallout xmlns:con2="http://www.bea.com/wli/sb/pipeline/config">
                                    <con7:id xmlns:con7="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N7672</con7:id>
                                    <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCode/BS/RetirosPostRestBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                    <con1:operation>retirosPost</con1:operation>
                                    <con1:request>
                                        <con1:body wrapped="false">REQretirosPost</con1:body>
                                    </con1:request>
                                    <con1:response>
                                        <con1:body wrapped="false">RSPretirosPost</con1:body>
                                    </con1:response>
                                    <con1:requestTransform>
                                        <con3:transport-headers xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config">
                                            <con7:id xmlns:con7="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N7671</con7:id>
                                            <con2:header-set>outbound-request</con2:header-set>
                                            <con2:header value="expression" name="Authorization">
                                                <con3:xqueryText xmlns:con3="http://www.bea.com/wli/sb/stages/config">$sessionToken</con3:xqueryText>
                                            </con2:header>
                                        </con3:transport-headers>
                                        <con1:assign varName="REQretirosPost">
                                            <con7:id xmlns:con7="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N7670</con7:id>
                                            <con1:expr>
                                                <con3:xqueryTransform xmlns:con3="http://www.bea.com/wli/sb/stages/config">
                                                    <con3:resource ref="Middleware/v2/BusinessServices/FPC/CloudCode/Transformation/retirosPostIn"/>
                                                    <con3:param name="monto">
                                                        <con3:path>data($body/pag:pagoRetiroFPC/AMOUNT)</con3:path>
                                                    </con3:param>
                                                    <con3:param name="numeroTransaccion">
                                                        <con3:path>data($body/pag:pagoRetiroFPC/APPLICATION_NUMBER)</con3:path>
                                                    </con3:param>
                                                    <con3:param name="numeroReferencia">
                                                        <con3:path>data($body/pag:pagoRetiroFPC/TRANSACTION)</con3:path>
                                                    </con3:param>
                                                    <con3:param name="usuarioPago">
                                                        <con3:path>data($body/pag:pagoRetiroFPC/USER_PAY)</con3:path>
                                                    </con3:param>
                                                    <con3:param name="moneda">
                                                        <con3:path>data($body/pag:pagoRetiroFPC/CURRENCY)</con3:path>
                                                    </con3:param>
                                                    <con3:param name="fechaPago">
                                                        <con3:path>data($body/pag:pagoRetiroFPC/DATE)</con3:path>
                                                    </con3:param>
                                                    <con3:param name="codigoAgencia">
                                                        <con3:path>data($body/pag:pagoRetiroFPC/CODE_AGENCY)</con3:path>
                                                    </con3:param>
                                                    <con3:param name="nombreAgencia">
                                                        <con3:path>data($body/pag:pagoRetiroFPC/AGENCY_NAME)</con3:path>
                                                    </con3:param>
                                                </con3:xqueryTransform>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:requestTransform>
                                    <con1:responseTransform>
                                        <con2:assign varName="codeErrorService" xmlns:con1="http://www.bea.com/wli/sb/stages/config" xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con3="http://www.bea.com/wli/sb/services/security/config" xmlns:con7="http://www.bea.com/wli/sb/stages/transform/config">
                                            <con1:id>_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N766f</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText>fn:data($RSPretirosPost/clo:error)</con1:xqueryText>
                                            </con2:expr>
                                        </con2:assign>
                                        <con2:assign varName="statusService" xmlns:con1="http://www.bea.com/wli/sb/stages/config" xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con3="http://www.bea.com/wli/sb/services/security/config" xmlns:con7="http://www.bea.com/wli/sb/stages/transform/config">
                                            <con1:id>_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N766e</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText>if($codeErrorService = 'false') then (
  'Success'
) else ('Error')</con1:xqueryText>
                                            </con2:expr>
                                        </con2:assign>
                                        <con2:assign varName="message" xmlns:con1="http://www.bea.com/wli/sb/stages/config" xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con3="http://www.bea.com/wli/sb/services/security/config" xmlns:con7="http://www.bea.com/wli/sb/stages/transform/config">
                                            <con1:id>_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N766d</con1:id>
                                            <con2:expr>
                                                <con1:xqueryText>fn:data($RSPretirosPost/clo:mensaje)</con1:xqueryText>
                                            </con2:expr>
                                        </con2:assign>
                                    </con1:responseTransform>
                                </con1:wsCallout>
                            </con1:actions>
                        </con1:case>
                        <con1:default>
                            <con7:assign varName="statusService" xmlns:con1="http://www.bea.com/wli/sb/stages/config" xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con3="http://www.bea.com/wli/sb/services/security/config" xmlns:con7="http://www.bea.com/wli/sb/stages/transform/config">
                                <con8:id xmlns:con8="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N7719</con8:id>
                                <con2:expr>
                                    <con8:xqueryText xmlns:con8="http://www.bea.com/wli/sb/stages/config">'Error'</con8:xqueryText>
                                </con2:expr>
                            </con7:assign>
                            <con1:assign varName="message">
                                <con2:id>_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N7718</con2:id>
                                <con1:expr>
                                    <con2:xqueryText>fn:substring-before(fn:substring-after($fault/ctx:details/err:PayloadDetail/err:text/text(),'{"error":true,"mensaje":"'),'"}')</con2:xqueryText>
                                </con1:expr>
                            </con1:assign>
                        </con1:default>
                    </con1:ifThenElse>
                    <con1:resume xmlns:con1="http://www.bea.com/wli/sb/stages/config">
                        <con1:id>_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N7717</con1:id>
                    </con1:resume>
                </con:actions>
            </con:stage>
        </con2:pipeline>
        <con:flow xmlns:con="http://www.bea.com/wli/sb/pipeline/config">
            <con:pipeline-node name="PagoRetiroFPC">
                <con:request>PagoRetiroFPC_request</con:request>
                <con:response>PagoRetiroFPC_response</con:response>
            </con:pipeline-node>
        </con:flow>
    </con2:router>
</con:pipelineEntry>