<?xml version="1.0" encoding="UTF-8"?>
<con:pipelineEntry xmlns:con="http://www.bea.com/wli/sb/pipeline/config" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <con:coreEntry>
        <con:binding type="SOAP" isSoap12="false" xsi:type="con:SoapBindingType">
            <con:wsdl ref="Middleware/v2/BusinessServices/FPC/CloudCode/Resources/CloudCodeRestBS"/>
            <con:binding>
                <con:name>CloudCodeRestBS_ptt-binding</con:name>
                <con:namespace>http://xmlns.oracle.com/Vortex/Middleware/CloudCodeRestBS</con:namespace>
            </con:binding>
            <con:selector type="SOAP body"/>
        </con:binding>
        <con:xqConfiguration>
            <con:snippetVersion>1.0</con:snippetVersion>
        </con:xqConfiguration>
    </con:coreEntry>
    <con:router>
        <con:pipeline type="request" name="request-N3f5790c0.69a7c272.0.1952412c0b2.N7d7e">
            <con:stage id="_StageId-N3f5790c0.69a7c272.0.1952412c0b2.N7d7c" name="GetCloudCodeSessionToken">
                <con:context>
                    <con1:userNsDecl prefix="con2" namespace="http://xmlns.oracle.com/pcbpel/adapter/db/sp/GetCloudCodeSessionToken" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="us" namespace="https://www.ficohsa.com/honduras/pension/user" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                </con:context>
                <con:actions>
                    <con1:assign varName="user" xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config">
                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.69a7c272.0.1952412c0b2.N786a</con2:id>
                        <con1:expr>
                            <con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config">
                                <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/Transformation/ExtractCredentialsAPIFPCEmbedded"/>
                            </con2:xqueryTransform>
                        </con1:expr>
                    </con1:assign>
                    <con1:wsCallout xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config">
                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.69a7c272.0.1952412c0b2.N789d</con2:id>
                        <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/BS/GetCloudCodeSessionToken" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con1:operation>GetCloudCodeSessionToken</con1:operation>
                        <con1:request>
                            <con1:body wrapped="false">REQCloudCodeSessionToken</con1:body>
                        </con1:request>
                        <con1:response>
                            <con1:body wrapped="false">RSPCloudCodeSessionToken</con1:body>
                        </con1:response>
                        <con1:requestTransform>
                            <con1:assign varName="REQCloudCodeSessionToken">
                                <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.69a7c272.0.1952412c0b2.N7804</con2:id>
                                <con1:expr>
                                    <con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config">
                                        <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/Transformation/GetCloudCodeSessionTokenIn"/>
                                        <con2:param name="userName">
                                            <con2:path>$user/us:userName/text()</con2:path>
                                        </con2:param>
                                    </con2:xqueryTransform>
                                </con1:expr>
                            </con1:assign>
                        </con1:requestTransform>
                        <con1:responseTransform>
                            <con1:assign varName="sessionToken">
                                <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.69a7c272.0.1952412c0b2.N7837</con2:id>
                                <con1:expr>
                                    <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">string($RSPCloudCodeSessionToken/con2:PV_TOKEN/text())</con2:xqueryText>
                                </con1:expr>
                            </con1:assign>
                        </con1:responseTransform>
                    </con1:wsCallout>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="response" name="response-N3f5790c0.69a7c272.0.1952412c0b2.N7d7d"/>
        <con:pipeline type="error" name="error-N3f5790c0.2702fd3e.0.1952a645c9c.N7bba">
            <con:stage id="_StageId-N3f5790c0.2702fd3e.0.1952a645c9c.N7afc" name="errorHandlerCloudCode">
                <con:context>
                    <con1:userNsDecl prefix="err" namespace="http://www.bea.com/wli/sb/errors" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="clo1" namespace="https://www.ficohsa.com/honduras/pension/cloudCodeTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="get" namespace="https://www.ficohsa.com/honduras/pension/getEncryptCredentialsTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="clo" namespace="http://www.ficohsa.com.hn/honduras/cloudCodeLoginTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="conf" namespace="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="us" namespace="https://www.ficohsa.com/honduras/pension/user" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="con2" namespace="http://xmlns.oracle.com/pcbpel/adapter/db/sp/GetCloudCodeSessionToken" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                </con:context>
                <con:actions>
                    <con1:ifThenElse xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config">
                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.2702fd3e.0.1952a645c9c.N7afb</con2:id>
                        <con1:case id="_BranchId-N3f5790c0.2702fd3e.0.1952a645c9c.N7afa">
                            <con1:condition>
                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:contains(fn:string($fault/ctx:reason/text()), '401')</con2:xqueryText>
                            </con1:condition>
                            <con1:actions>
                                <con1:assign varName="user">
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.2702fd3e.0.1952a645c9c.N7af9</con2:id>
                                    <con1:expr>
                                        <con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config">
                                            <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/Transformation/ExtractCredentialsAPIFPCEmbedded"/>
                                        </con2:xqueryTransform>
                                    </con1:expr>
                                </con1:assign>
                                <con1:wsCallout>
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.2702fd3e.0.1952a645c9c.N7af8</con2:id>
                                    <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/PP/CloudCodeLoginPP" xsi:type="con:PipelineRef"/>
                                    <con1:operation>cloudCodeLogin</con1:operation>
                                    <con1:request>
                                        <con1:body wrapped="false">REQCloudCodeLogin</con1:body>
                                    </con1:request>
                                    <con1:response>
                                        <con1:body wrapped="false">RSPCloudCodeLogin</con1:body>
                                    </con1:response>
                                    <con1:requestTransform>
                                        <con1:assign varName="REQCloudCodeLogin">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.2702fd3e.0.1952a645c9c.N7af7</con2:id>
                                            <con1:expr>
                                                <con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config">
                                                    <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/Transformation/ServiceToCloudCodeLogin"/>
                                                    <con2:param name="forceLogin">
                                                        <con2:path>'true'</con2:path>
                                                    </con2:param>
                                                    <con2:param name="credentials">
                                                        <con2:path>$user</con2:path>
                                                    </con2:param>
                                                </con2:xqueryTransform>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:requestTransform>
                                    <con1:responseTransform>
                                        <con1:assign varName="errorCode">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.2702fd3e.0.1952a645c9c.N7af6</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:successIndicator/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                        <con1:assign varName="errorMessage">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.2702fd3e.0.1952a645c9c.N7af5</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:message/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                        <con1:assign varName="sessionToken">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.2702fd3e.0.1952a645c9c.N7af4</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:response/clo:datos/clo:token/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:responseTransform>
                                </con1:wsCallout>
                                <con1:wsCallout>
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.2702fd3e.0.1952a645c9c.N7af0</con2:id>
                                    <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCode/BS/CloudCodeRestBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                    <con1:operation>entesBancos</con1:operation>
                                    <con1:request>
                                        <con1:body wrapped="false">REQentesBancos</con1:body>
                                    </con1:request>
                                    <con1:response>
                                        <con1:body wrapped="false">RSPentesBancos</con1:body>
                                    </con1:response>
                                    <con1:requestTransform>
                                        <con3:transport-headers xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config">
                                            <con4:id xmlns:con4="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.2702fd3e.0.1952a645c9c.N7af3</con4:id>
                                            <con2:header-set>outbound-request</con2:header-set>
                                            <con2:header value="expression" name="Authorization">
                                                <con4:xqueryText xmlns:con4="http://www.bea.com/wli/sb/stages/config">$sessionToken</con4:xqueryText>
                                            </con2:header>
                                        </con3:transport-headers>
                                        <con1:assign varName="REQentesBancos">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.2702fd3e.0.1952a645c9c.N7aef</con2:id>
                                            <con1:expr>
                                                <con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config">
                                                    <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCode/Transformation/entesBancosIn"/>
                                                </con2:xqueryTransform>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:requestTransform>
                                    <con1:responseTransform>
                                        <con1:replace varName="body">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.2702fd3e.0.1952a645c9c.N7aee</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">&lt;soap:Body xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
{$RSPentesBancos}
&lt;/soap:Body></con2:xqueryText>
                                            </con1:expr>
                                        </con1:replace>
                                    </con1:responseTransform>
                                </con1:wsCallout>
                            </con1:actions>
                        </con1:case>
                        <con1:default>
                            <con1:assign varName="errorMessage">
                                <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.2702fd3e.0.1952a645c9c.N7aed</con2:id>
                                <con1:expr>
                                    <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:substring-before(fn:substring-after($fault/ctx:details/err:PayloadDetail/err:text/text(),'{"error":true,"mensaje":"'),'"}')</con2:xqueryText>
                                </con1:expr>
                            </con1:assign>
                            <con1:replace varName="body">
                                <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.2702fd3e.0.1952a645c9c.N7aec</con2:id>
                                <con1:expr>
                                    <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config"><![CDATA[<soap:Body xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
<clo1:entesBancosResponse>
<clo1:error>No records</clo1:error>
<clo1:mensaje>{concat('error CloudCode: ',$errorMessage)}</clo1:mensaje>
</clo1:entesBancosResponse>
</soap:Body>]]></con2:xqueryText>
                                </con1:expr>
                            </con1:replace>
                        </con1:default>
                    </con1:ifThenElse>
                    <con1:resume xmlns:con1="http://www.bea.com/wli/sb/stages/config">
                        <con1:id>_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7f7d</con1:id>
                    </con1:resume>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-N3f57edd0.N3b69b2ad.0.19539668aa9.N7d7f">
            <con:stage id="_StageId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7d0e" name="errorHandlerCloudCode">
                <con:context>
                    <con1:userNsDecl prefix="err" namespace="http://www.bea.com/wli/sb/errors" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="clo1" namespace="https://www.ficohsa.com/honduras/pension/cloudCodeTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="get" namespace="https://www.ficohsa.com/honduras/pension/getEncryptCredentialsTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="clo" namespace="http://www.ficohsa.com.hn/honduras/cloudCodeLoginTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="conf" namespace="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="us" namespace="https://www.ficohsa.com/honduras/pension/user" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="con2" namespace="http://xmlns.oracle.com/pcbpel/adapter/db/sp/GetCloudCodeSessionToken" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                </con:context>
                <con:actions>
                    <con1:ifThenElse xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config">
                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7d0d</con2:id>
                        <con1:case id="_BranchId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7d0c">
                            <con1:condition>
                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:contains(fn:string($fault/ctx:reason/text()), '401')</con2:xqueryText>
                            </con1:condition>
                            <con1:actions>
                                <con1:assign varName="user">
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7d0b</con2:id>
                                    <con1:expr>
                                        <con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config">
                                            <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/Transformation/ExtractCredentialsAPIFPCEmbedded"/>
                                        </con2:xqueryTransform>
                                    </con1:expr>
                                </con1:assign>
                                <con1:wsCallout>
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7d0a</con2:id>
                                    <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/PP/CloudCodeLoginPP" xsi:type="con:PipelineRef"/>
                                    <con1:operation>cloudCodeLogin</con1:operation>
                                    <con1:request>
                                        <con1:body wrapped="false">REQCloudCodeLogin</con1:body>
                                    </con1:request>
                                    <con1:response>
                                        <con1:body wrapped="false">RSPCloudCodeLogin</con1:body>
                                    </con1:response>
                                    <con1:requestTransform>
                                        <con1:assign varName="REQCloudCodeLogin">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7d09</con2:id>
                                            <con1:expr>
                                                <con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config">
                                                    <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/Transformation/ServiceToCloudCodeLogin"/>
                                                    <con2:param name="forceLogin">
                                                        <con2:path>'true'</con2:path>
                                                    </con2:param>
                                                    <con2:param name="credentials">
                                                        <con2:path>$user</con2:path>
                                                    </con2:param>
                                                </con2:xqueryTransform>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:requestTransform>
                                    <con1:responseTransform>
                                        <con1:assign varName="errorCode">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7d08</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:successIndicator/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                        <con1:assign varName="errorMessage">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7d07</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:message/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                        <con1:assign varName="sessionToken">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7d06</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:response/clo:datos/clo:token/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:responseTransform>
                                </con1:wsCallout>
                                <con1:wsCallout>
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7d05</con2:id>
                                    <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCode/BS/CloudCodeRestBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                    <con1:operation>clientesLaboralesPeriodos</con1:operation>
                                    <con1:request>
                                        <con1:body wrapped="false">REQclientesLoboralesPeriodos</con1:body>
                                    </con1:request>
                                    <con1:response>
                                        <con1:body wrapped="false">RSPclientesLoboralesPeriodos</con1:body>
                                    </con1:response>
                                    <con1:requestTransform>
                                        <con3:transport-headers xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config">
                                            <con4:id xmlns:con4="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7d04</con4:id>
                                            <con2:header-set>outbound-request</con2:header-set>
                                            <con2:header value="expression" name="Authorization">
                                                <con4:xqueryText xmlns:con4="http://www.bea.com/wli/sb/stages/config">$sessionToken</con4:xqueryText>
                                            </con2:header>
                                        </con3:transport-headers>
                                        <con1:assign varName="REQclientesLoboralesPeriodos">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7d03</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">$body/clo1:clientesLaboralesPeriodos</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:requestTransform>
                                    <con1:responseTransform>
                                        <con1:replace varName="body">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7d02</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">&lt;soap:Body xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
{$RSPclientesLoboralesPeriodos}
&lt;/soap:Body></con2:xqueryText>
                                            </con1:expr>
                                        </con1:replace>
                                    </con1:responseTransform>
                                </con1:wsCallout>
                            </con1:actions>
                        </con1:case>
                        <con1:default>
                            <con1:assign varName="errorMessage">
                                <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7d01</con2:id>
                                <con1:expr>
                                    <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:substring-before(fn:substring-after($fault/ctx:details/err:PayloadDetail/err:text/text(),'{"error":true,"mensaje":"'),'"}')</con2:xqueryText>
                                </con1:expr>
                            </con1:assign>
                            <con1:replace varName="body">
                                <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7d00</con2:id>
                                <con1:expr>
                                    <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config"><![CDATA[<soap:Body xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
<clo1:clientesLaboralesPeriodosResponse>
<clo1:error>No records</clo1:error>
<clo1:mensaje>{concat('error CloudCode: ',$errorMessage)}</clo1:mensaje>
</clo1:clientesLaboralesPeriodosResponse>
</soap:Body>]]></con2:xqueryText>
                                </con1:expr>
                            </con1:replace>
                        </con1:default>
                    </con1:ifThenElse>
                    <con1:resume xmlns:con1="http://www.bea.com/wli/sb/stages/config">
                        <con1:id>_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7cff</con1:id>
                    </con1:resume>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-N3f57edd0.N3b69b2ad.0.19539668aa9.N7baa">
            <con:stage id="_StageId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7b39" name="errorHandlerCloudCode">
                <con:context>
                    <con1:userNsDecl prefix="err" namespace="http://www.bea.com/wli/sb/errors" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="clo1" namespace="https://www.ficohsa.com/honduras/pension/cloudCodeTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="get" namespace="https://www.ficohsa.com/honduras/pension/getEncryptCredentialsTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="clo" namespace="http://www.ficohsa.com.hn/honduras/cloudCodeLoginTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="conf" namespace="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="us" namespace="https://www.ficohsa.com/honduras/pension/user" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="con2" namespace="http://xmlns.oracle.com/pcbpel/adapter/db/sp/GetCloudCodeSessionToken" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                </con:context>
                <con:actions>
                    <con1:ifThenElse xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config">
                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7b38</con2:id>
                        <con1:case id="_BranchId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7b37">
                            <con1:condition>
                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:contains(fn:string($fault/ctx:reason/text()), '401')</con2:xqueryText>
                            </con1:condition>
                            <con1:actions>
                                <con1:assign varName="user">
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7b36</con2:id>
                                    <con1:expr>
                                        <con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config">
                                            <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/Transformation/ExtractCredentialsAPIFPCEmbedded"/>
                                        </con2:xqueryTransform>
                                    </con1:expr>
                                </con1:assign>
                                <con1:wsCallout>
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7b35</con2:id>
                                    <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/PP/CloudCodeLoginPP" xsi:type="con:PipelineRef"/>
                                    <con1:operation>cloudCodeLogin</con1:operation>
                                    <con1:request>
                                        <con1:body wrapped="false">REQCloudCodeLogin</con1:body>
                                    </con1:request>
                                    <con1:response>
                                        <con1:body wrapped="false">RSPCloudCodeLogin</con1:body>
                                    </con1:response>
                                    <con1:requestTransform>
                                        <con1:assign varName="REQCloudCodeLogin">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7b34</con2:id>
                                            <con1:expr>
                                                <con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config">
                                                    <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/Transformation/ServiceToCloudCodeLogin"/>
                                                    <con2:param name="forceLogin">
                                                        <con2:path>'true'</con2:path>
                                                    </con2:param>
                                                    <con2:param name="credentials">
                                                        <con2:path>$user</con2:path>
                                                    </con2:param>
                                                </con2:xqueryTransform>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:requestTransform>
                                    <con1:responseTransform>
                                        <con1:assign varName="errorCode">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7b33</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:successIndicator/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                        <con1:assign varName="errorMessage">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7b32</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:message/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                        <con1:assign varName="sessionToken">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7b31</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:response/clo:datos/clo:token/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:responseTransform>
                                </con1:wsCallout>
                                <con1:wsCallout>
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7b30</con2:id>
                                    <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCode/BS/CloudCodeRestBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                    <con1:operation>retirosGet</con1:operation>
                                    <con1:request>
                                        <con1:body wrapped="false">REQretirosGet</con1:body>
                                    </con1:request>
                                    <con1:response>
                                        <con1:body wrapped="false">RSPretirosGet</con1:body>
                                    </con1:response>
                                    <con1:requestTransform>
                                        <con3:transport-headers xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config">
                                            <con4:id xmlns:con4="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7b2f</con4:id>
                                            <con2:header-set>outbound-request</con2:header-set>
                                            <con2:header value="expression" name="Authorization">
                                                <con4:xqueryText xmlns:con4="http://www.bea.com/wli/sb/stages/config">$sessionToken</con4:xqueryText>
                                            </con2:header>
                                        </con3:transport-headers>
                                        <con1:assign varName="REQretirosGet">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7b2e</con2:id>
                                            <con1:expr>
                                                <con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config">
                                                    <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCode/Transformation/retirosGetIn"/>
                                                    <con2:param name="numeroSolicitud">
                                                        <con2:path>$body/clo1:retirosGet/clo1:numeroSolicitud/text()</con2:path>
                                                    </con2:param>
                                                    <con2:param name="numeroIdentificacion">
                                                        <con2:path>$body/clo1:retirosGet/clo1:numeroIdentificacion/text()</con2:path>
                                                    </con2:param>
                                                </con2:xqueryTransform>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:requestTransform>
                                    <con1:responseTransform>
                                        <con1:replace varName="body">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7b2d</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">&lt;soap:Body xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
{$RSPretirosGet}
&lt;/soap:Body></con2:xqueryText>
                                            </con1:expr>
                                        </con1:replace>
                                    </con1:responseTransform>
                                </con1:wsCallout>
                            </con1:actions>
                        </con1:case>
                        <con1:default>
                            <con1:assign varName="errorMessage">
                                <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7b2c</con2:id>
                                <con1:expr>
                                    <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:substring-before(fn:substring-after($fault/ctx:details/err:PayloadDetail/err:text/text(),'{"error":true,"mensaje":"'),'"}')</con2:xqueryText>
                                </con1:expr>
                            </con1:assign>
                            <con1:replace varName="body">
                                <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7b2b</con2:id>
                                <con1:expr>
                                    <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config"><![CDATA[<soap:Body xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
<clo1:retirosGetResponse>
<clo1:error>No records</clo1:error>
<clo1:mensaje>{concat('error CloudCode: ',$errorMessage)}</clo1:mensaje>
</clo1:retirosGetResponse>
</soap:Body>]]></con2:xqueryText>
                                </con1:expr>
                            </con1:replace>
                        </con1:default>
                    </con1:ifThenElse>
                    <con1:resume xmlns:con1="http://www.bea.com/wli/sb/stages/config">
                        <con1:id>_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7b2a</con1:id>
                    </con1:resume>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-N3f57edd0.N3b69b2ad.0.19539668aa9.N7af8">
            <con:stage id="_StageId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7a87" name="errorHandlerCloudCode">
                <con:context>
                    <con1:userNsDecl prefix="err" namespace="http://www.bea.com/wli/sb/errors" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="clo1" namespace="https://www.ficohsa.com/honduras/pension/cloudCodeTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="get" namespace="https://www.ficohsa.com/honduras/pension/getEncryptCredentialsTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="clo" namespace="http://www.ficohsa.com.hn/honduras/cloudCodeLoginTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="conf" namespace="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="us" namespace="https://www.ficohsa.com/honduras/pension/user" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="con2" namespace="http://xmlns.oracle.com/pcbpel/adapter/db/sp/GetCloudCodeSessionToken" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                </con:context>
                <con:actions>
                    <con1:ifThenElse xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config">
                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7a86</con2:id>
                        <con1:case id="_BranchId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7a85">
                            <con1:condition>
                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:contains(fn:string($fault/ctx:reason/text()), '401')</con2:xqueryText>
                            </con1:condition>
                            <con1:actions>
                                <con1:assign varName="user">
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7a84</con2:id>
                                    <con1:expr>
                                        <con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config">
                                            <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/Transformation/ExtractCredentialsAPIFPCEmbedded"/>
                                        </con2:xqueryTransform>
                                    </con1:expr>
                                </con1:assign>
                                <con1:wsCallout>
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7a83</con2:id>
                                    <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/PP/CloudCodeLoginPP" xsi:type="con:PipelineRef"/>
                                    <con1:operation>cloudCodeLogin</con1:operation>
                                    <con1:request>
                                        <con1:body wrapped="false">REQCloudCodeLogin</con1:body>
                                    </con1:request>
                                    <con1:response>
                                        <con1:body wrapped="false">RSPCloudCodeLogin</con1:body>
                                    </con1:response>
                                    <con1:requestTransform>
                                        <con1:assign varName="REQCloudCodeLogin">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7a82</con2:id>
                                            <con1:expr>
                                                <con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config">
                                                    <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/Transformation/ServiceToCloudCodeLogin"/>
                                                    <con2:param name="forceLogin">
                                                        <con2:path>'true'</con2:path>
                                                    </con2:param>
                                                    <con2:param name="credentials">
                                                        <con2:path>$user</con2:path>
                                                    </con2:param>
                                                </con2:xqueryTransform>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:requestTransform>
                                    <con1:responseTransform>
                                        <con1:assign varName="errorCode">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7a81</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:successIndicator/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                        <con1:assign varName="errorMessage">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7a80</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:message/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                        <con1:assign varName="sessionToken">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7a7f</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:response/clo:datos/clo:token/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:responseTransform>
                                </con1:wsCallout>
                                <con1:wsCallout>
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7a7e</con2:id>
                                    <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCode/BS/CloudCodeRestBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                    <con1:operation>cuentasSaldos</con1:operation>
                                    <con1:request>
                                        <con1:body wrapped="false">REQcuentasSaldos</con1:body>
                                    </con1:request>
                                    <con1:response>
                                        <con1:body wrapped="false">RSPcuentasSaldos</con1:body>
                                    </con1:response>
                                    <con1:requestTransform>
                                        <con3:transport-headers xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config">
                                            <con4:id xmlns:con4="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7a7d</con4:id>
                                            <con2:header-set>outbound-request</con2:header-set>
                                            <con2:header value="expression" name="Authorization">
                                                <con4:xqueryText xmlns:con4="http://www.bea.com/wli/sb/stages/config">$sessionToken</con4:xqueryText>
                                            </con2:header>
                                        </con3:transport-headers>
                                        <con1:assign varName="REQcuentasSaldos">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7a7c</con2:id>
                                            <con1:expr>
                                                <con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config">
                                                    <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCode/Transformation/cuentasSaldosIn"/>
                                                    <con2:param name="codigoTipoIdentificacion">
                                                        <con2:path>$body/clo1:cuentasSaldos/clo1:codigoTipoIdentificacion/text()</con2:path>
                                                    </con2:param>
                                                    <con2:param name="numeroIdentificacion">
                                                        <con2:path>$body/clo1:cuentasSaldos/clo1:numeroIdentificacion/text()</con2:path>
                                                    </con2:param>
                                                </con2:xqueryTransform>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:requestTransform>
                                    <con1:responseTransform>
                                        <con1:replace varName="body">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7a7b</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">&lt;soap:Body xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
{$RSPcuentasSaldos}
&lt;/soap:Body></con2:xqueryText>
                                            </con1:expr>
                                        </con1:replace>
                                    </con1:responseTransform>
                                </con1:wsCallout>
                            </con1:actions>
                        </con1:case>
                        <con1:case id="_BranchId-N3f57edd0.N493b5ff8.0.1953eba794a.N7fff">
                            <con1:condition>
                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:contains(fn:string($fault/ctx:reason/text()), '400') and fn:contains(upper-case($fault/ctx:details/err:PayloadDetail/err:text/text()),"NO EXISTEN PERSONAS")</con2:xqueryText>
                            </con1:condition>
                            <con1:actions>
                                <con1:replace varName="body">
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N493b5ff8.0.1953eba794a.N7fcb</con2:id>
                                    <con1:expr>
                                        <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config"><![CDATA[<soap:Body xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
<clo1:cuentasSaldosResponse>
<clo1:error>Success</clo1:error>
<clo1:mensaje>No Records</clo1:mensaje>
</clo1:cuentasSaldosResponse>
</soap:Body>]]></con2:xqueryText>
                                    </con1:expr>
                                </con1:replace>
                            </con1:actions>
                        </con1:case>
                        <con1:default>
                            <con1:assign varName="errorMessage">
                                <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7a7a</con2:id>
                                <con1:expr>
                                    <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:substring-before(fn:substring-after($fault/ctx:details/err:PayloadDetail/err:text/text(),'{"error":true,"mensaje":"'),'"}')</con2:xqueryText>
                                </con1:expr>
                            </con1:assign>
                            <con1:replace varName="body">
                                <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7a79</con2:id>
                                <con1:expr>
                                    <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config"><![CDATA[<soap:Body xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
<clo1:cuentasSaldosResponse>
<clo1:error>No records</clo1:error>
<clo1:mensaje>{concat('error CloudCode: ',$errorMessage)}</clo1:mensaje>
</clo1:cuentasSaldosResponse>
</soap:Body>]]></con2:xqueryText>
                                </con1:expr>
                            </con1:replace>
                        </con1:default>
                    </con1:ifThenElse>
                    <con1:resume xmlns:con1="http://www.bea.com/wli/sb/stages/config">
                        <con1:id>_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7a78</con1:id>
                    </con1:resume>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-N3f57edd0.N3b69b2ad.0.19539668aa9.N7a46">
            <con:stage id="_StageId-N3f57edd0.N3b69b2ad.0.19539668aa9.N79d5" name="errorHandlerCloudCode">
                <con:context>
                    <con1:userNsDecl prefix="err" namespace="http://www.bea.com/wli/sb/errors" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="clo1" namespace="https://www.ficohsa.com/honduras/pension/cloudCodeTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="get" namespace="https://www.ficohsa.com/honduras/pension/getEncryptCredentialsTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="clo" namespace="http://www.ficohsa.com.hn/honduras/cloudCodeLoginTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="conf" namespace="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="us" namespace="https://www.ficohsa.com/honduras/pension/user" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="con2" namespace="http://xmlns.oracle.com/pcbpel/adapter/db/sp/GetCloudCodeSessionToken" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                </con:context>
                <con:actions>
                    <con1:ifThenElse xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config">
                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N79d4</con2:id>
                        <con1:case id="_BranchId-N3f57edd0.N3b69b2ad.0.19539668aa9.N79d3">
                            <con1:condition>
                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:contains(fn:string($fault/ctx:reason/text()), '401')</con2:xqueryText>
                            </con1:condition>
                            <con1:actions>
                                <con1:assign varName="user">
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N79d2</con2:id>
                                    <con1:expr>
                                        <con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config">
                                            <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/Transformation/ExtractCredentialsAPIFPCEmbedded"/>
                                        </con2:xqueryTransform>
                                    </con1:expr>
                                </con1:assign>
                                <con1:wsCallout>
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N79d1</con2:id>
                                    <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/PP/CloudCodeLoginPP" xsi:type="con:PipelineRef"/>
                                    <con1:operation>cloudCodeLogin</con1:operation>
                                    <con1:request>
                                        <con1:body wrapped="false">REQCloudCodeLogin</con1:body>
                                    </con1:request>
                                    <con1:response>
                                        <con1:body wrapped="false">RSPCloudCodeLogin</con1:body>
                                    </con1:response>
                                    <con1:requestTransform>
                                        <con1:assign varName="REQCloudCodeLogin">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N79d0</con2:id>
                                            <con1:expr>
                                                <con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config">
                                                    <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/Transformation/ServiceToCloudCodeLogin"/>
                                                    <con2:param name="forceLogin">
                                                        <con2:path>'true'</con2:path>
                                                    </con2:param>
                                                    <con2:param name="credentials">
                                                        <con2:path>$user</con2:path>
                                                    </con2:param>
                                                </con2:xqueryTransform>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:requestTransform>
                                    <con1:responseTransform>
                                        <con1:assign varName="errorCode">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N79cf</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:successIndicator/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                        <con1:assign varName="errorMessage">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N79ce</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:message/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                        <con1:assign varName="sessionToken">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N79cd</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:response/clo:datos/clo:token/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:responseTransform>
                                </con1:wsCallout>
                                <con1:wsCallout>
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N79cc</con2:id>
                                    <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCode/BS/CloudCodeRestBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                    <con1:operation>clientesFinancieros</con1:operation>
                                    <con1:request>
                                        <con1:body wrapped="false">REQclientesFinancieros</con1:body>
                                    </con1:request>
                                    <con1:response>
                                        <con1:body wrapped="false">RSPclientesFinancieros</con1:body>
                                    </con1:response>
                                    <con1:requestTransform>
                                        <con3:transport-headers xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config">
                                            <con4:id xmlns:con4="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N79cb</con4:id>
                                            <con2:header-set>outbound-request</con2:header-set>
                                            <con2:header value="expression" name="Authorization">
                                                <con4:xqueryText xmlns:con4="http://www.bea.com/wli/sb/stages/config">$sessionToken</con4:xqueryText>
                                            </con2:header>
                                        </con3:transport-headers>
                                        <con1:assign varName="REQclientesFinancieros">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N79ca</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">$body/clo1:clientesFinancieros</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:requestTransform>
                                    <con1:responseTransform>
                                        <con1:replace varName="body">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N79c9</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">&lt;soap:Body xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
{$RSPclientesFinancieros}
&lt;/soap:Body></con2:xqueryText>
                                            </con1:expr>
                                        </con1:replace>
                                    </con1:responseTransform>
                                </con1:wsCallout>
                            </con1:actions>
                        </con1:case>
                        <con1:default>
                            <con1:assign varName="errorMessage">
                                <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N79c8</con2:id>
                                <con1:expr>
                                    <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:substring-before(fn:substring-after($fault/ctx:details/err:PayloadDetail/err:text/text(),'{"error":true,"mensaje":"'),'"}')</con2:xqueryText>
                                </con1:expr>
                            </con1:assign>
                            <con1:replace varName="body">
                                <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N79c7</con2:id>
                                <con1:expr>
                                    <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config"><![CDATA[<soap:Body xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
<clo1:clientesFinancierosResponse>
<clo1:error>No records</clo1:error>
<clo1:mensaje>{concat('error CloudCode: ',$errorMessage)}</clo1:mensaje>
</clo1:clientesFinancierosResponse>
</soap:Body>]]></con2:xqueryText>
                                </con1:expr>
                            </con1:replace>
                        </con1:default>
                    </con1:ifThenElse>
                    <con1:resume xmlns:con1="http://www.bea.com/wli/sb/stages/config">
                        <con1:id>_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N79c6</con1:id>
                    </con1:resume>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-N3f57edd0.N3b69b2ad.0.19539668aa9.N7994">
            <con:stage id="_StageId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7923" name="errorHandlerCloudCode">
                <con:context>
                    <con1:userNsDecl prefix="err" namespace="http://www.bea.com/wli/sb/errors" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="clo1" namespace="https://www.ficohsa.com/honduras/pension/cloudCodeTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="get" namespace="https://www.ficohsa.com/honduras/pension/getEncryptCredentialsTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="clo" namespace="http://www.ficohsa.com.hn/honduras/cloudCodeLoginTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="conf" namespace="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="us" namespace="https://www.ficohsa.com/honduras/pension/user" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="con2" namespace="http://xmlns.oracle.com/pcbpel/adapter/db/sp/GetCloudCodeSessionToken" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                </con:context>
                <con:actions>
                    <con1:ifThenElse xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config">
                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7922</con2:id>
                        <con1:case id="_BranchId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7921">
                            <con1:condition>
                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:contains(fn:string($fault/ctx:reason/text()), '401')</con2:xqueryText>
                            </con1:condition>
                            <con1:actions>
                                <con1:assign varName="user">
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7920</con2:id>
                                    <con1:expr>
                                        <con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config">
                                            <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/Transformation/ExtractCredentialsAPIFPCEmbedded"/>
                                        </con2:xqueryTransform>
                                    </con1:expr>
                                </con1:assign>
                                <con1:wsCallout>
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N791f</con2:id>
                                    <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/PP/CloudCodeLoginPP" xsi:type="con:PipelineRef"/>
                                    <con1:operation>cloudCodeLogin</con1:operation>
                                    <con1:request>
                                        <con1:body wrapped="false">REQCloudCodeLogin</con1:body>
                                    </con1:request>
                                    <con1:response>
                                        <con1:body wrapped="false">RSPCloudCodeLogin</con1:body>
                                    </con1:response>
                                    <con1:requestTransform>
                                        <con1:assign varName="REQCloudCodeLogin">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N791e</con2:id>
                                            <con1:expr>
                                                <con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config">
                                                    <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/Transformation/ServiceToCloudCodeLogin"/>
                                                    <con2:param name="forceLogin">
                                                        <con2:path>'true'</con2:path>
                                                    </con2:param>
                                                    <con2:param name="credentials">
                                                        <con2:path>$user</con2:path>
                                                    </con2:param>
                                                </con2:xqueryTransform>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:requestTransform>
                                    <con1:responseTransform>
                                        <con1:assign varName="errorCode">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N791d</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:successIndicator/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                        <con1:assign varName="errorMessage">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N791c</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:message/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                        <con1:assign varName="sessionToken">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N791b</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:response/clo:datos/clo:token/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:responseTransform>
                                </con1:wsCallout>
                                <con1:wsCallout>
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N791a</con2:id>
                                    <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCode/BS/CloudCodeRestBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                    <con1:operation>cuentasMonedas</con1:operation>
                                    <con1:request>
                                        <con1:body wrapped="false">REQcuentasMonedas</con1:body>
                                    </con1:request>
                                    <con1:response>
                                        <con1:body wrapped="false">RSPcuentasMonedas</con1:body>
                                    </con1:response>
                                    <con1:requestTransform>
                                        <con3:transport-headers xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config">
                                            <con4:id xmlns:con4="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7919</con4:id>
                                            <con2:header-set>outbound-request</con2:header-set>
                                            <con2:header value="expression" name="Authorization">
                                                <con4:xqueryText xmlns:con4="http://www.bea.com/wli/sb/stages/config">$sessionToken</con4:xqueryText>
                                            </con2:header>
                                        </con3:transport-headers>
                                        <con1:assign varName="REQcuentasMonedas">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7918</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">$body/clo1:cuentasMonedas</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:requestTransform>
                                    <con1:responseTransform>
                                        <con1:replace varName="body">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7917</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">&lt;soap:Body xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
{$RSPcuentasMonedas}
&lt;/soap:Body></con2:xqueryText>
                                            </con1:expr>
                                        </con1:replace>
                                    </con1:responseTransform>
                                </con1:wsCallout>
                            </con1:actions>
                        </con1:case>
                        <con1:default>
                            <con1:assign varName="errorMessage">
                                <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7916</con2:id>
                                <con1:expr>
                                    <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:substring-before(fn:substring-after($fault/ctx:details/err:PayloadDetail/err:text/text(),'{"error":true,"mensaje":"'),'"}')</con2:xqueryText>
                                </con1:expr>
                            </con1:assign>
                            <con1:replace varName="body">
                                <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7915</con2:id>
                                <con1:expr>
                                    <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config"><![CDATA[<soap:Body xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
<clo1:cuentasMonedasResponse>
<clo1:error>No records</clo1:error>
<clo1:mensaje>{concat('error CloudCode: ',$errorMessage)}</clo1:mensaje>
</clo1:cuentasMonedasResponse>
</soap:Body>]]></con2:xqueryText>
                                </con1:expr>
                            </con1:replace>
                        </con1:default>
                    </con1:ifThenElse>
                    <con1:resume xmlns:con1="http://www.bea.com/wli/sb/stages/config">
                        <con1:id>_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7914</con1:id>
                    </con1:resume>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-N3f57edd0.N3b69b2ad.0.19539668aa9.N78e2">
            <con:stage id="_StageId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7871" name="errorHandlerCloudCode">
                <con:context>
                    <con1:userNsDecl prefix="err" namespace="http://www.bea.com/wli/sb/errors" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="clo1" namespace="https://www.ficohsa.com/honduras/pension/cloudCodeTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="get" namespace="https://www.ficohsa.com/honduras/pension/getEncryptCredentialsTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="clo" namespace="http://www.ficohsa.com.hn/honduras/cloudCodeLoginTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="conf" namespace="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="us" namespace="https://www.ficohsa.com/honduras/pension/user" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="con2" namespace="http://xmlns.oracle.com/pcbpel/adapter/db/sp/GetCloudCodeSessionToken" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                </con:context>
                <con:actions>
                    <con1:ifThenElse xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config">
                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7870</con2:id>
                        <con1:case id="_BranchId-N3f57edd0.N3b69b2ad.0.19539668aa9.N786f">
                            <con1:condition>
                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:contains(fn:string($fault/ctx:reason/text()), '401')</con2:xqueryText>
                            </con1:condition>
                            <con1:actions>
                                <con1:assign varName="user">
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N786e</con2:id>
                                    <con1:expr>
                                        <con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config">
                                            <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/Transformation/ExtractCredentialsAPIFPCEmbedded"/>
                                        </con2:xqueryTransform>
                                    </con1:expr>
                                </con1:assign>
                                <con1:wsCallout>
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N786d</con2:id>
                                    <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/PP/CloudCodeLoginPP" xsi:type="con:PipelineRef"/>
                                    <con1:operation>cloudCodeLogin</con1:operation>
                                    <con1:request>
                                        <con1:body wrapped="false">REQCloudCodeLogin</con1:body>
                                    </con1:request>
                                    <con1:response>
                                        <con1:body wrapped="false">RSPCloudCodeLogin</con1:body>
                                    </con1:response>
                                    <con1:requestTransform>
                                        <con1:assign varName="REQCloudCodeLogin">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N786c</con2:id>
                                            <con1:expr>
                                                <con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config">
                                                    <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/Transformation/ServiceToCloudCodeLogin"/>
                                                    <con2:param name="forceLogin">
                                                        <con2:path>'true'</con2:path>
                                                    </con2:param>
                                                    <con2:param name="credentials">
                                                        <con2:path>$user</con2:path>
                                                    </con2:param>
                                                </con2:xqueryTransform>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:requestTransform>
                                    <con1:responseTransform>
                                        <con1:assign varName="errorCode">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N786b</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:successIndicator/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                        <con1:assign varName="errorMessage">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N786a</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:message/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                        <con1:assign varName="sessionToken">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7869</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:response/clo:datos/clo:token/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:responseTransform>
                                </con1:wsCallout>
                                <con1:wsCallout>
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7868</con2:id>
                                    <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCode/BS/CloudCodeRestBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                    <con1:operation>cuentasRelacionesPeriodos</con1:operation>
                                    <con1:request>
                                        <con1:body wrapped="false">REQcuentasRelacionesPeriodos</con1:body>
                                    </con1:request>
                                    <con1:response>
                                        <con1:body wrapped="false">RSPcuentasRelacionesPeriodos</con1:body>
                                    </con1:response>
                                    <con1:requestTransform>
                                        <con3:transport-headers xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config">
                                            <con4:id xmlns:con4="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7867</con4:id>
                                            <con2:header-set>outbound-request</con2:header-set>
                                            <con2:header value="expression" name="Authorization">
                                                <con4:xqueryText xmlns:con4="http://www.bea.com/wli/sb/stages/config">$sessionToken</con4:xqueryText>
                                            </con2:header>
                                        </con3:transport-headers>
                                        <con1:assign varName="REQcuentasRelacionesPeriodos">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7866</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">$body/clo1:cuentasRelacionesPeriodos</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:requestTransform>
                                    <con1:responseTransform>
                                        <con1:replace varName="body">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7865</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">&lt;soap:Body xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
{$RSPcuentasRelacionesPeriodos}
&lt;/soap:Body></con2:xqueryText>
                                            </con1:expr>
                                        </con1:replace>
                                    </con1:responseTransform>
                                </con1:wsCallout>
                            </con1:actions>
                        </con1:case>
                        <con1:default>
                            <con1:assign varName="errorMessage">
                                <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7864</con2:id>
                                <con1:expr>
                                    <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:substring-before(fn:substring-after($fault/ctx:details/err:PayloadDetail/err:text/text(),'{"error":true,"mensaje":"'),'"}')</con2:xqueryText>
                                </con1:expr>
                            </con1:assign>
                            <con1:replace varName="body">
                                <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7863</con2:id>
                                <con1:expr>
                                    <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config"><![CDATA[<soap:Body xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
<clo1:cuentasRelacionesPeriodosResponse>
<clo1:error>No records</clo1:error>
<clo1:mensaje>{concat('error CloudCode: ',$errorMessage)}</clo1:mensaje>
</clo1:cuentasRelacionesPeriodosResponse>
</soap:Body>]]></con2:xqueryText>
                                </con1:expr>
                            </con1:replace>
                        </con1:default>
                    </con1:ifThenElse>
                    <con1:resume xmlns:con1="http://www.bea.com/wli/sb/stages/config">
                        <con1:id>_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7862</con1:id>
                    </con1:resume>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-N3f57edd0.N3b69b2ad.0.19539668aa9.N7830">
            <con:stage id="_StageId-N3f57edd0.N3b69b2ad.0.19539668aa9.N77bf" name="errorHandlerCloudCode">
                <con:context>
                    <con1:userNsDecl prefix="err" namespace="http://www.bea.com/wli/sb/errors" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="clo1" namespace="https://www.ficohsa.com/honduras/pension/cloudCodeTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="get" namespace="https://www.ficohsa.com/honduras/pension/getEncryptCredentialsTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="clo" namespace="http://www.ficohsa.com.hn/honduras/cloudCodeLoginTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="conf" namespace="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="us" namespace="https://www.ficohsa.com/honduras/pension/user" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="con2" namespace="http://xmlns.oracle.com/pcbpel/adapter/db/sp/GetCloudCodeSessionToken" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                </con:context>
                <con:actions>
                    <con1:ifThenElse xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config">
                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N77be</con2:id>
                        <con1:case id="_BranchId-N3f57edd0.N3b69b2ad.0.19539668aa9.N77bd">
                            <con1:condition>
                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:contains(fn:string($fault/ctx:reason/text()), '401')</con2:xqueryText>
                            </con1:condition>
                            <con1:actions>
                                <con1:assign varName="user">
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N77bc</con2:id>
                                    <con1:expr>
                                        <con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config">
                                            <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/Transformation/ExtractCredentialsAPIFPCEmbedded"/>
                                        </con2:xqueryTransform>
                                    </con1:expr>
                                </con1:assign>
                                <con1:wsCallout>
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N77bb</con2:id>
                                    <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/PP/CloudCodeLoginPP" xsi:type="con:PipelineRef"/>
                                    <con1:operation>cloudCodeLogin</con1:operation>
                                    <con1:request>
                                        <con1:body wrapped="false">REQCloudCodeLogin</con1:body>
                                    </con1:request>
                                    <con1:response>
                                        <con1:body wrapped="false">RSPCloudCodeLogin</con1:body>
                                    </con1:response>
                                    <con1:requestTransform>
                                        <con1:assign varName="REQCloudCodeLogin">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N77ba</con2:id>
                                            <con1:expr>
                                                <con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config">
                                                    <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/Transformation/ServiceToCloudCodeLogin"/>
                                                    <con2:param name="forceLogin">
                                                        <con2:path>'true'</con2:path>
                                                    </con2:param>
                                                    <con2:param name="credentials">
                                                        <con2:path>$user</con2:path>
                                                    </con2:param>
                                                </con2:xqueryTransform>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:requestTransform>
                                    <con1:responseTransform>
                                        <con1:assign varName="errorCode">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N77b9</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:successIndicator/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                        <con1:assign varName="errorMessage">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N77b8</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:message/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                        <con1:assign varName="sessionToken">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N77b7</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:response/clo:datos/clo:token/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:responseTransform>
                                </con1:wsCallout>
                                <con1:wsCallout>
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N77b6</con2:id>
                                    <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCode/BS/CloudCodeRestBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                    <con1:operation>clientesLocalizadoresPreferidos</con1:operation>
                                    <con1:request>
                                        <con1:body wrapped="false">REQclientesLocalizadoresPreferidos</con1:body>
                                    </con1:request>
                                    <con1:response>
                                        <con1:body wrapped="false">RSPclientesLocalizadoresPreferidos</con1:body>
                                    </con1:response>
                                    <con1:requestTransform>
                                        <con3:transport-headers xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config">
                                            <con4:id xmlns:con4="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N77b5</con4:id>
                                            <con2:header-set>outbound-request</con2:header-set>
                                            <con2:header value="expression" name="Authorization">
                                                <con4:xqueryText xmlns:con4="http://www.bea.com/wli/sb/stages/config">$sessionToken</con4:xqueryText>
                                            </con2:header>
                                        </con3:transport-headers>
                                        <con1:assign varName="REQclientesLocalizadoresPreferidos">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N77b4</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">$body/clo1:clientesLocalizadoresPreferidos</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:requestTransform>
                                    <con1:responseTransform>
                                        <con1:replace varName="body">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N77b3</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">&lt;soap:Body xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
{$RSPclientesLocalizadoresPreferidos}
&lt;/soap:Body></con2:xqueryText>
                                            </con1:expr>
                                        </con1:replace>
                                    </con1:responseTransform>
                                </con1:wsCallout>
                            </con1:actions>
                        </con1:case>
                        <con1:default>
                            <con1:assign varName="errorMessage">
                                <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N77b2</con2:id>
                                <con1:expr>
                                    <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:substring-before(fn:substring-after($fault/ctx:details/err:PayloadDetail/err:text/text(),'{"error":true,"mensaje":"'),'"}')</con2:xqueryText>
                                </con1:expr>
                            </con1:assign>
                            <con1:replace varName="body">
                                <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N77b1</con2:id>
                                <con1:expr>
                                    <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config"><![CDATA[<soap:Body xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
<clo1:clientesLocalizadoresPreferidosResponse>
<clo1:error>No records</clo1:error>
<clo1:mensaje>{concat('error CloudCode: ',$errorMessage)}</clo1:mensaje>
</clo1:clientesLocalizadoresPreferidosResponse>
</soap:Body>]]></con2:xqueryText>
                                </con1:expr>
                            </con1:replace>
                        </con1:default>
                    </con1:ifThenElse>
                    <con1:resume xmlns:con1="http://www.bea.com/wli/sb/stages/config">
                        <con1:id>_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N77b0</con1:id>
                    </con1:resume>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-N3f57edd0.N3b69b2ad.0.19539668aa9.N777e">
            <con:stage id="_StageId-N3f57edd0.N3b69b2ad.0.19539668aa9.N770d" name="errorHandlerCloudCode">
                <con:context>
                    <con1:userNsDecl prefix="err" namespace="http://www.bea.com/wli/sb/errors" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="clo1" namespace="https://www.ficohsa.com/honduras/pension/cloudCodeTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="get" namespace="https://www.ficohsa.com/honduras/pension/getEncryptCredentialsTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="clo" namespace="http://www.ficohsa.com.hn/honduras/cloudCodeLoginTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="conf" namespace="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="us" namespace="https://www.ficohsa.com/honduras/pension/user" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="con2" namespace="http://xmlns.oracle.com/pcbpel/adapter/db/sp/GetCloudCodeSessionToken" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                </con:context>
                <con:actions>
                    <con1:ifThenElse xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config">
                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N770c</con2:id>
                        <con1:case id="_BranchId-N3f57edd0.N3b69b2ad.0.19539668aa9.N770b">
                            <con1:condition>
                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:contains(fn:string($fault/ctx:reason/text()), '401')</con2:xqueryText>
                            </con1:condition>
                            <con1:actions>
                                <con1:assign varName="user">
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N770a</con2:id>
                                    <con1:expr>
                                        <con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config">
                                            <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/Transformation/ExtractCredentialsAPIFPCEmbedded"/>
                                        </con2:xqueryTransform>
                                    </con1:expr>
                                </con1:assign>
                                <con1:wsCallout>
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7709</con2:id>
                                    <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/PP/CloudCodeLoginPP" xsi:type="con:PipelineRef"/>
                                    <con1:operation>cloudCodeLogin</con1:operation>
                                    <con1:request>
                                        <con1:body wrapped="false">REQCloudCodeLogin</con1:body>
                                    </con1:request>
                                    <con1:response>
                                        <con1:body wrapped="false">RSPCloudCodeLogin</con1:body>
                                    </con1:response>
                                    <con1:requestTransform>
                                        <con1:assign varName="REQCloudCodeLogin">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7708</con2:id>
                                            <con1:expr>
                                                <con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config">
                                                    <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/Transformation/ServiceToCloudCodeLogin"/>
                                                    <con2:param name="forceLogin">
                                                        <con2:path>'true'</con2:path>
                                                    </con2:param>
                                                    <con2:param name="credentials">
                                                        <con2:path>$user</con2:path>
                                                    </con2:param>
                                                </con2:xqueryTransform>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:requestTransform>
                                    <con1:responseTransform>
                                        <con1:assign varName="errorCode">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7707</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:successIndicator/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                        <con1:assign varName="errorMessage">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7706</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:message/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                        <con1:assign varName="sessionToken">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7705</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:response/clo:datos/clo:token/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:responseTransform>
                                </con1:wsCallout>
                                <con1:wsCallout>
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7704</con2:id>
                                    <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCode/BS/CloudCodeRestBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                    <con1:operation>cuentas</con1:operation>
                                    <con1:request>
                                        <con1:body wrapped="false">REQcuentas</con1:body>
                                    </con1:request>
                                    <con1:response>
                                        <con1:body wrapped="false">RSPcuentas</con1:body>
                                    </con1:response>
                                    <con1:requestTransform>
                                        <con3:transport-headers xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config">
                                            <con4:id xmlns:con4="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7703</con4:id>
                                            <con2:header-set>outbound-request</con2:header-set>
                                            <con2:header value="expression" name="Authorization">
                                                <con4:xqueryText xmlns:con4="http://www.bea.com/wli/sb/stages/config">$sessionToken</con4:xqueryText>
                                            </con2:header>
                                        </con3:transport-headers>
                                        <con1:assign varName="REQcuentas">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7702</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">$body/clo1:cuentas</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:requestTransform>
                                    <con1:responseTransform>
                                        <con1:replace varName="body">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7701</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">&lt;soap:Body xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
{$RSPcuentas}
&lt;/soap:Body></con2:xqueryText>
                                            </con1:expr>
                                        </con1:replace>
                                    </con1:responseTransform>
                                </con1:wsCallout>
                            </con1:actions>
                        </con1:case>
                        <con1:default>
                            <con1:assign varName="errorMessage">
                                <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7700</con2:id>
                                <con1:expr>
                                    <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:substring-before(fn:substring-after($fault/ctx:details/err:PayloadDetail/err:text/text(),'{"error":true,"mensaje":"'),'"}')</con2:xqueryText>
                                </con1:expr>
                            </con1:assign>
                            <con1:replace varName="body">
                                <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N76ff</con2:id>
                                <con1:expr>
                                    <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config"><![CDATA[<soap:Body xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
<clo1:cuentasResponse>
<clo1:error>No records</clo1:error>
<clo1:mensaje>{concat('error CloudCode: ',$errorMessage)}</clo1:mensaje>
</clo1:cuentasResponse>
</soap:Body>]]></con2:xqueryText>
                                </con1:expr>
                            </con1:replace>
                        </con1:default>
                    </con1:ifThenElse>
                    <con1:resume xmlns:con1="http://www.bea.com/wli/sb/stages/config">
                        <con1:id>_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N76fe</con1:id>
                    </con1:resume>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-N3f57edd0.N3b69b2ad.0.19539668aa9.N76cc">
            <con:stage id="_StageId-N3f57edd0.N3b69b2ad.0.19539668aa9.N765b" name="errorHandlerCloudCode">
                <con:context>
                    <con1:userNsDecl prefix="err" namespace="http://www.bea.com/wli/sb/errors" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="clo1" namespace="https://www.ficohsa.com/honduras/pension/cloudCodeTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="get" namespace="https://www.ficohsa.com/honduras/pension/getEncryptCredentialsTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="clo" namespace="http://www.ficohsa.com.hn/honduras/cloudCodeLoginTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="conf" namespace="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="us" namespace="https://www.ficohsa.com/honduras/pension/user" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="con2" namespace="http://xmlns.oracle.com/pcbpel/adapter/db/sp/GetCloudCodeSessionToken" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                </con:context>
                <con:actions>
                    <con1:ifThenElse xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config">
                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N765a</con2:id>
                        <con1:case id="_BranchId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7659">
                            <con1:condition>
                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:contains(fn:string($fault/ctx:reason/text()), '401')</con2:xqueryText>
                            </con1:condition>
                            <con1:actions>
                                <con1:assign varName="user">
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7658</con2:id>
                                    <con1:expr>
                                        <con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config">
                                            <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/Transformation/ExtractCredentialsAPIFPCEmbedded"/>
                                        </con2:xqueryTransform>
                                    </con1:expr>
                                </con1:assign>
                                <con1:wsCallout>
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7657</con2:id>
                                    <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/PP/CloudCodeLoginPP" xsi:type="con:PipelineRef"/>
                                    <con1:operation>cloudCodeLogin</con1:operation>
                                    <con1:request>
                                        <con1:body wrapped="false">REQCloudCodeLogin</con1:body>
                                    </con1:request>
                                    <con1:response>
                                        <con1:body wrapped="false">RSPCloudCodeLogin</con1:body>
                                    </con1:response>
                                    <con1:requestTransform>
                                        <con1:assign varName="REQCloudCodeLogin">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7656</con2:id>
                                            <con1:expr>
                                                <con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config">
                                                    <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/Transformation/ServiceToCloudCodeLogin"/>
                                                    <con2:param name="forceLogin">
                                                        <con2:path>'true'</con2:path>
                                                    </con2:param>
                                                    <con2:param name="credentials">
                                                        <con2:path>$user</con2:path>
                                                    </con2:param>
                                                </con2:xqueryTransform>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:requestTransform>
                                    <con1:responseTransform>
                                        <con1:assign varName="errorCode">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7655</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:successIndicator/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                        <con1:assign varName="errorMessage">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7654</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:message/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                        <con1:assign varName="sessionToken">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7653</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:response/clo:datos/clo:token/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:responseTransform>
                                </con1:wsCallout>
                                <con1:wsCallout>
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7652</con2:id>
                                    <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCode/BS/CloudCodeRestBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                    <con1:operation>clientesLaborales</con1:operation>
                                    <con1:request>
                                        <con1:body wrapped="false">REQclientesLaborales</con1:body>
                                    </con1:request>
                                    <con1:response>
                                        <con1:body wrapped="false">RSPclientesLaborales</con1:body>
                                    </con1:response>
                                    <con1:requestTransform>
                                        <con3:transport-headers xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config">
                                            <con4:id xmlns:con4="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7651</con4:id>
                                            <con2:header-set>outbound-request</con2:header-set>
                                            <con2:header value="expression" name="Authorization">
                                                <con4:xqueryText xmlns:con4="http://www.bea.com/wli/sb/stages/config">$sessionToken</con4:xqueryText>
                                            </con2:header>
                                        </con3:transport-headers>
                                        <con1:assign varName="REQclientesLaborales">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N7650</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">$body/clo1:clientesLaborales</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:requestTransform>
                                    <con1:responseTransform>
                                        <con1:replace varName="body">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N764f</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">&lt;soap:Body xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
{$RSPclientesLaborales}
&lt;/soap:Body></con2:xqueryText>
                                            </con1:expr>
                                        </con1:replace>
                                    </con1:responseTransform>
                                </con1:wsCallout>
                            </con1:actions>
                        </con1:case>
                        <con1:default>
                            <con1:assign varName="errorMessage">
                                <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N764e</con2:id>
                                <con1:expr>
                                    <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:substring-before(fn:substring-after($fault/ctx:details/err:PayloadDetail/err:text/text(),'{"error":true,"mensaje":"'),'"}')</con2:xqueryText>
                                </con1:expr>
                            </con1:assign>
                            <con1:replace varName="body">
                                <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N764d</con2:id>
                                <con1:expr>
                                    <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config"><![CDATA[<soap:Body xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
<clo1:clientesLaboralesResponse>
<clo1:error>No records</clo1:error>
<clo1:mensaje>{concat('error CloudCode: ',$errorMessage)}</clo1:mensaje>
</clo1:clientesLaboralesResponse>
</soap:Body>]]></con2:xqueryText>
                                </con1:expr>
                            </con1:replace>
                        </con1:default>
                    </con1:ifThenElse>
                    <con1:resume xmlns:con1="http://www.bea.com/wli/sb/stages/config">
                        <con1:id>_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N764c</con1:id>
                    </con1:resume>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-N3f57edd0.N3b69b2ad.0.19539668aa9.N761a">
            <con:stage id="_StageId-N3f57edd0.N3b69b2ad.0.19539668aa9.N75a9" name="errorHandlerCloudCode">
                <con:context>
                    <con1:userNsDecl prefix="err" namespace="http://www.bea.com/wli/sb/errors" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="clo1" namespace="https://www.ficohsa.com/honduras/pension/cloudCodeTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="get" namespace="https://www.ficohsa.com/honduras/pension/getEncryptCredentialsTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="clo" namespace="http://www.ficohsa.com.hn/honduras/cloudCodeLoginTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="conf" namespace="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="us" namespace="https://www.ficohsa.com/honduras/pension/user" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="con2" namespace="http://xmlns.oracle.com/pcbpel/adapter/db/sp/GetCloudCodeSessionToken" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                </con:context>
                <con:actions>
                    <con1:ifThenElse xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config">
                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N75a8</con2:id>
                        <con1:case id="_BranchId-N3f57edd0.N3b69b2ad.0.19539668aa9.N75a7">
                            <con1:condition>
                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:contains(fn:string($fault/ctx:reason/text()), '401')</con2:xqueryText>
                            </con1:condition>
                            <con1:actions>
                                <con1:assign varName="user">
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N75a6</con2:id>
                                    <con1:expr>
                                        <con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config">
                                            <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/Transformation/ExtractCredentialsAPIFPCEmbedded"/>
                                        </con2:xqueryTransform>
                                    </con1:expr>
                                </con1:assign>
                                <con1:wsCallout>
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N75a5</con2:id>
                                    <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/PP/CloudCodeLoginPP" xsi:type="con:PipelineRef"/>
                                    <con1:operation>cloudCodeLogin</con1:operation>
                                    <con1:request>
                                        <con1:body wrapped="false">REQCloudCodeLogin</con1:body>
                                    </con1:request>
                                    <con1:response>
                                        <con1:body wrapped="false">RSPCloudCodeLogin</con1:body>
                                    </con1:response>
                                    <con1:requestTransform>
                                        <con1:assign varName="REQCloudCodeLogin">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N75a4</con2:id>
                                            <con1:expr>
                                                <con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config">
                                                    <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/Transformation/ServiceToCloudCodeLogin"/>
                                                    <con2:param name="forceLogin">
                                                        <con2:path>'true'</con2:path>
                                                    </con2:param>
                                                    <con2:param name="credentials">
                                                        <con2:path>$user</con2:path>
                                                    </con2:param>
                                                </con2:xqueryTransform>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:requestTransform>
                                    <con1:responseTransform>
                                        <con1:assign varName="errorCode">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N75a3</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:successIndicator/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                        <con1:assign varName="errorMessage">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N75a2</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:message/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                        <con1:assign varName="sessionToken">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N75a1</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:response/clo:datos/clo:token/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:responseTransform>
                                </con1:wsCallout>
                                <con1:wsCallout>
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N75a0</con2:id>
                                    <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCode/BS/CloudCodeRestBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                    <con1:operation>cuentasClientesDemograficos</con1:operation>
                                    <con1:request>
                                        <con1:body wrapped="false">REQcuentasClientesDemograficos</con1:body>
                                    </con1:request>
                                    <con1:response>
                                        <con1:body wrapped="false">RSPcuentasClientesDemograficos</con1:body>
                                    </con1:response>
                                    <con1:requestTransform>
                                        <con3:transport-headers xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config">
                                            <con4:id xmlns:con4="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N759f</con4:id>
                                            <con2:header-set>outbound-request</con2:header-set>
                                            <con2:header value="expression" name="Authorization">
                                                <con4:xqueryText xmlns:con4="http://www.bea.com/wli/sb/stages/config">$sessionToken</con4:xqueryText>
                                            </con2:header>
                                        </con3:transport-headers>
                                        <con1:assign varName="REQcuentasClientesDemograficos">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N759e</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">$body/clo1:cuentasClientesDemograficos</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:requestTransform>
                                    <con1:responseTransform>
                                        <con1:replace varName="body">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N759d</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">&lt;soap:Body xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
{$RSPcuentasClientesDemograficos}
&lt;/soap:Body></con2:xqueryText>
                                            </con1:expr>
                                        </con1:replace>
                                    </con1:responseTransform>
                                </con1:wsCallout>
                            </con1:actions>
                        </con1:case>
                        <con1:default>
                            <con1:assign varName="errorMessage">
                                <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N759c</con2:id>
                                <con1:expr>
                                    <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:substring-before(fn:substring-after($fault/ctx:details/err:PayloadDetail/err:text/text(),'{"error":true,"mensaje":"'),'"}')</con2:xqueryText>
                                </con1:expr>
                            </con1:assign>
                            <con1:replace varName="body">
                                <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N759b</con2:id>
                                <con1:expr>
                                    <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config"><![CDATA[<soap:Body xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
<clo1:cuentasClientesDemograficosResponse>
<clo1:error>No records</clo1:error>
<clo1:mensaje>{concat('error CloudCode: ',$errorMessage)}</clo1:mensaje>
</clo1:cuentasClientesDemograficosResponse>
</soap:Body>]]></con2:xqueryText>
                                </con1:expr>
                            </con1:replace>
                        </con1:default>
                    </con1:ifThenElse>
                    <con1:resume xmlns:con1="http://www.bea.com/wli/sb/stages/config">
                        <con1:id>_ActionId-N3f57edd0.N3b69b2ad.0.19539668aa9.N759a</con1:id>
                    </con1:resume>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-N3f57edd0.570d0950.0.19561c15659.N7cdf">
            <con:stage id="_StageId-N3f57edd0.570d0950.0.19561c15659.N7cde" name="errorHandlerCloudCode">
                <con:context>
                    <con1:userNsDecl prefix="err" namespace="http://www.bea.com/wli/sb/errors" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="clo1" namespace="https://www.ficohsa.com/honduras/pension/cloudCodeTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="get" namespace="https://www.ficohsa.com/honduras/pension/getEncryptCredentialsTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="clo" namespace="http://www.ficohsa.com.hn/honduras/cloudCodeLoginTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                </con:context>
                <con:actions>
                    <con1:ifThenElse xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config">
                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.570d0950.0.19561c15659.N7c3f</con2:id>
                        <con1:case id="_BranchId-N3f57edd0.570d0950.0.19561c15659.N7c3e">
                            <con1:condition>
                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:contains(fn:string($fault/ctx:reason/text()), '401')</con2:xqueryText>
                            </con1:condition>
                            <con1:actions>
                                <con1:assign varName="user">
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.570d0950.0.19561c15659.N7c3d</con2:id>
                                    <con1:expr>
                                        <con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config">
                                            <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/Transformation/ExtractCredentialsAPIFPCEmbedded"/>
                                        </con2:xqueryTransform>
                                    </con1:expr>
                                </con1:assign>
                                <con1:wsCallout>
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.570d0950.0.19561c15659.N7c3c</con2:id>
                                    <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/PP/CloudCodeLoginPP" xsi:type="con:PipelineRef"/>
                                    <con1:operation>cloudCodeLogin</con1:operation>
                                    <con1:request>
                                        <con1:body wrapped="false">REQCloudCodeLogin</con1:body>
                                    </con1:request>
                                    <con1:response>
                                        <con1:body wrapped="false">RSPCloudCodeLogin</con1:body>
                                    </con1:response>
                                    <con1:requestTransform>
                                        <con1:assign varName="REQCloudCodeLogin">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.570d0950.0.19561c15659.N7c3b</con2:id>
                                            <con1:expr>
                                                <con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config">
                                                    <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/Transformation/ServiceToCloudCodeLogin"/>
                                                    <con2:param name="forceLogin">
                                                        <con2:path>'true'</con2:path>
                                                    </con2:param>
                                                    <con2:param name="credentials">
                                                        <con2:path>$user</con2:path>
                                                    </con2:param>
                                                </con2:xqueryTransform>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:requestTransform>
                                    <con1:responseTransform>
                                        <con1:assign varName="errorCode">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.570d0950.0.19561c15659.N7c3a</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:successIndicator/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                        <con1:assign varName="errorMessage">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.570d0950.0.19561c15659.N7c39</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:message/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                        <con1:assign varName="sessionToken">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.570d0950.0.19561c15659.N7c38</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:response/clo:datos/clo:token/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:responseTransform>
                                </con1:wsCallout>
                                <con1:wsCallout>
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.570d0950.0.19561c15659.N7c37</con2:id>
                                    <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCode/BS/CloudCodeRestBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                    <con1:operation>cuentasFondosPensiones</con1:operation>
                                    <con1:request>
                                        <con1:body wrapped="false">REQcuentasFondosPensiones</con1:body>
                                    </con1:request>
                                    <con1:response>
                                        <con1:body wrapped="false">RSPcuentasFondosPensiones</con1:body>
                                    </con1:response>
                                    <con1:requestTransform>
                                        <con3:transport-headers xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config">
                                            <con4:id xmlns:con4="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.570d0950.0.19561c15659.N7c36</con4:id>
                                            <con2:header-set>outbound-request</con2:header-set>
                                            <con2:header value="expression" name="Authorization">
                                                <con4:xqueryText xmlns:con4="http://www.bea.com/wli/sb/stages/config">$sessionToken</con4:xqueryText>
                                            </con2:header>
                                        </con3:transport-headers>
                                        <con1:assign varName="REQcuentasClientesDemograficos">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.570d0950.0.19561c15659.N7c35</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">$body/clo1:cuentasFondosPensiones</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:requestTransform>
                                    <con1:responseTransform>
                                        <con1:replace varName="body">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.570d0950.0.19561c15659.N7c34</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">&lt;soap:Body xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
{$RSPcuentasFondosPensiones}
&lt;/soap:Body></con2:xqueryText>
                                            </con1:expr>
                                        </con1:replace>
                                    </con1:responseTransform>
                                </con1:wsCallout>
                            </con1:actions>
                        </con1:case>
                        <con1:default>
                            <con1:assign varName="errorMessage">
                                <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.570d0950.0.19561c15659.N7c33</con2:id>
                                <con1:expr>
                                    <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:substring-before(fn:substring-after($fault/ctx:details/err:PayloadDetail/err:text/text(),'{"error":true,"mensaje":"'),'"}')</con2:xqueryText>
                                </con1:expr>
                            </con1:assign>
                            <con1:replace varName="body">
                                <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.570d0950.0.19561c15659.N7c32</con2:id>
                                <con1:expr>
                                    <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config"><![CDATA[<soap:Body xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
<clo1:cuentasFondosPensionesResponse>
<clo1:error>No records</clo1:error>
<clo1:mensaje>{concat('error CloudCode: ',$errorMessage)}</clo1:mensaje>
</clo1:cuentasFondosPensionesResponse>
</soap:Body>]]></con2:xqueryText>
                                </con1:expr>
                            </con1:replace>
                        </con1:default>
                    </con1:ifThenElse>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-N3f57edd0.2ec81197.0.19570ec4c74.N7cfb">
            <con:stage id="_StageId-N3f57edd0.2ec81197.0.19570ec4c74.N7cfa" name="errorHandlerCloudCode">
                <con:context>
                    <con1:userNsDecl prefix="err" namespace="http://www.bea.com/wli/sb/errors" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="clo1" namespace="https://www.ficohsa.com/honduras/pension/cloudCodeTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="get" namespace="https://www.ficohsa.com/honduras/pension/getEncryptCredentialsTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="clo" namespace="http://www.ficohsa.com.hn/honduras/cloudCodeLoginTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="conf" namespace="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="us" namespace="https://www.ficohsa.com/honduras/pension/user" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="con2" namespace="http://xmlns.oracle.com/pcbpel/adapter/db/sp/GetCloudCodeSessionToken" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                </con:context>
                <con:actions>
                    <con1:ifThenElse xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config">
                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.2ec81197.0.19570ec4c74.N7cf9</con2:id>
                        <con1:case id="_BranchId-N3f57edd0.2ec81197.0.19570ec4c74.N7cf8">
                            <con1:condition>
                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:contains(fn:string($fault/ctx:reason/text()), '401')</con2:xqueryText>
                            </con1:condition>
                            <con1:actions>
                                <con1:assign varName="user">
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.2ec81197.0.19570ec4c74.N7cf7</con2:id>
                                    <con1:expr>
                                        <con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config">
                                            <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/Transformation/ExtractCredentialsAPIFPCEmbedded"/>
                                        </con2:xqueryTransform>
                                    </con1:expr>
                                </con1:assign>
                                <con1:wsCallout>
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.2ec81197.0.19570ec4c74.N7cf6</con2:id>
                                    <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/PP/CloudCodeLoginPP" xsi:type="con:PipelineRef"/>
                                    <con1:operation>cloudCodeLogin</con1:operation>
                                    <con1:request>
                                        <con1:body wrapped="false">REQCloudCodeLogin</con1:body>
                                    </con1:request>
                                    <con1:response>
                                        <con1:body wrapped="false">RSPCloudCodeLogin</con1:body>
                                    </con1:response>
                                    <con1:requestTransform>
                                        <con1:assign varName="REQCloudCodeLogin">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.2ec81197.0.19570ec4c74.N7cf5</con2:id>
                                            <con1:expr>
                                                <con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config">
                                                    <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/Transformation/ServiceToCloudCodeLogin"/>
                                                    <con2:param name="forceLogin">
                                                        <con2:path>'true'</con2:path>
                                                    </con2:param>
                                                    <con2:param name="credentials">
                                                        <con2:path>$user</con2:path>
                                                    </con2:param>
                                                </con2:xqueryTransform>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:requestTransform>
                                    <con1:responseTransform>
                                        <con1:assign varName="errorCode">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.2ec81197.0.19570ec4c74.N7cf4</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:successIndicator/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                        <con1:assign varName="errorMessage">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.2ec81197.0.19570ec4c74.N7cf3</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:message/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                        <con1:assign varName="sessionToken">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.2ec81197.0.19570ec4c74.N7cf2</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:response/clo:datos/clo:token/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:responseTransform>
                                </con1:wsCallout>
                                <con1:wsCallout>
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.2ec81197.0.19570ec4c74.N7cf1</con2:id>
                                    <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCode/BS/CloudCodeRestBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                    <con1:operation>clientesLaboralesPeriodos</con1:operation>
                                    <con1:request>
                                        <con1:body wrapped="false">REQclientesHistoricasLaborales</con1:body>
                                    </con1:request>
                                    <con1:response>
                                        <con1:body wrapped="false">RSPclientesHistoricasLaborales</con1:body>
                                    </con1:response>
                                    <con1:requestTransform>
                                        <con3:transport-headers xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config">
                                            <con4:id xmlns:con4="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.2ec81197.0.19570ec4c74.N7cf0</con4:id>
                                            <con2:header-set>outbound-request</con2:header-set>
                                            <con2:header value="expression" name="Authorization">
                                                <con4:xqueryText xmlns:con4="http://www.bea.com/wli/sb/stages/config">$sessionToken</con4:xqueryText>
                                            </con2:header>
                                        </con3:transport-headers>
                                        <con1:assign varName="REQclientesHistoricasLaborales">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.2ec81197.0.19570ec4c74.N7cef</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">$body/clo1:clientesHistoricasLaborales</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:requestTransform>
                                    <con1:responseTransform>
                                        <con1:replace varName="body">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.2ec81197.0.19570ec4c74.N7cee</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">&lt;soap:Body xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
{$RSPclientesHistoricasLaborales}
&lt;/soap:Body></con2:xqueryText>
                                            </con1:expr>
                                        </con1:replace>
                                    </con1:responseTransform>
                                </con1:wsCallout>
                            </con1:actions>
                        </con1:case>
                        <con1:default>
                            <con1:assign varName="errorMessage">
                                <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.2ec81197.0.19570ec4c74.N7ced</con2:id>
                                <con1:expr>
                                    <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:substring-before(fn:substring-after($fault/ctx:details/err:PayloadDetail/err:text/text(),'{"error":true,"mensaje":"'),'"}')</con2:xqueryText>
                                </con1:expr>
                            </con1:assign>
                            <con1:replace varName="body">
                                <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.2ec81197.0.19570ec4c74.N7cec</con2:id>
                                <con1:expr>
                                    <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config"><![CDATA[<soap:Body xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
<clo1:clientesHistoricasLaboralesResponse>
<clo1:error>No records</clo1:error>
<clo1:mensaje>{concat('error CloudCode: ',$errorMessage)}</clo1:mensaje>
</clo1:clientesHistoricasLaboralesResponse>
</soap:Body>]]></con2:xqueryText>
                                </con1:expr>
                            </con1:replace>
                        </con1:default>
                    </con1:ifThenElse>
                    <con1:resume xmlns:con1="http://www.bea.com/wli/sb/stages/config">
                        <con1:id>_ActionId-N3f57edd0.2ec81197.0.19570ec4c74.N7ceb</con1:id>
                    </con1:resume>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-N3f57edd0.4dcaaba7.0.1958b51c2c7.N7230">
            <con:stage id="_StageId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N722f" name="errorHandlerCloudCode">
                <con:context>
                    <con1:userNsDecl prefix="err" namespace="http://www.bea.com/wli/sb/errors" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="clo1" namespace="https://www.ficohsa.com/honduras/pension/cloudCodeTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="get" namespace="https://www.ficohsa.com/honduras/pension/getEncryptCredentialsTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="clo" namespace="http://www.ficohsa.com.hn/honduras/cloudCodeLoginTypes" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="conf" namespace="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="us" namespace="https://www.ficohsa.com/honduras/pension/user" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:userNsDecl prefix="con2" namespace="http://xmlns.oracle.com/pcbpel/adapter/db/sp/GetCloudCodeSessionToken" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                </con:context>
                <con:actions>
                    <con1:ifThenElse xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config">
                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N722e</con2:id>
                        <con1:case id="_BranchId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N722d">
                            <con1:condition>
                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:contains(fn:string($fault/ctx:reason/text()), '401')</con2:xqueryText>
                            </con1:condition>
                            <con1:actions>
                                <con1:assign varName="user">
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N722c</con2:id>
                                    <con1:expr>
                                        <con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config">
                                            <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/Transformation/ExtractCredentialsAPIFPCEmbedded"/>
                                        </con2:xqueryTransform>
                                    </con1:expr>
                                </con1:assign>
                                <con1:wsCallout>
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N722b</con2:id>
                                    <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/PP/CloudCodeLoginPP" xsi:type="con:PipelineRef"/>
                                    <con1:operation>cloudCodeLogin</con1:operation>
                                    <con1:request>
                                        <con1:body wrapped="false">REQCloudCodeLogin</con1:body>
                                    </con1:request>
                                    <con1:response>
                                        <con1:body wrapped="false">RSPCloudCodeLogin</con1:body>
                                    </con1:response>
                                    <con1:requestTransform>
                                        <con1:assign varName="REQCloudCodeLogin">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N722a</con2:id>
                                            <con1:expr>
                                                <con2:xqueryTransform xmlns:con2="http://www.bea.com/wli/sb/stages/config">
                                                    <con2:resource ref="Middleware/v2/BusinessServices/FPC/CloudCodeLogin/Transformation/ServiceToCloudCodeLogin"/>
                                                    <con2:param name="forceLogin">
                                                        <con2:path>'true'</con2:path>
                                                    </con2:param>
                                                    <con2:param name="credentials">
                                                        <con2:path>$user</con2:path>
                                                    </con2:param>
                                                </con2:xqueryTransform>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:requestTransform>
                                    <con1:responseTransform>
                                        <con1:assign varName="errorCode">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N7229</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:successIndicator/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                        <con1:assign varName="errorMessage">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N7228</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:message/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                        <con1:assign varName="sessionToken">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N7227</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:string($RSPCloudCodeLogin/get:response/clo:datos/clo:token/text())</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:responseTransform>
                                </con1:wsCallout>
                                <con1:wsCallout>
                                    <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N7226</con2:id>
                                    <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCode/BS/CloudCodeRestBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                    <con1:operation>clientesFondosensiones</con1:operation>
                                    <con1:request>
                                        <con1:body wrapped="false">REQclientesFondosensiones</con1:body>
                                    </con1:request>
                                    <con1:response>
                                        <con1:body wrapped="false">RSPclientesFondosensiones</con1:body>
                                    </con1:response>
                                    <con1:requestTransform>
                                        <con3:transport-headers xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config">
                                            <con4:id xmlns:con4="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N7225</con4:id>
                                            <con2:header-set>outbound-request</con2:header-set>
                                            <con2:header value="expression" name="Authorization">
                                                <con4:xqueryText xmlns:con4="http://www.bea.com/wli/sb/stages/config">$sessionToken</con4:xqueryText>
                                            </con2:header>
                                        </con3:transport-headers>
                                        <con1:assign varName="REQclientesFondosensiones">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N7224</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">$body/clo1:clientesFondosPensiones</con2:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:requestTransform>
                                    <con1:responseTransform>
                                        <con1:replace varName="body">
                                            <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N7223</con2:id>
                                            <con1:expr>
                                                <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">&lt;soap:Body xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
{$RSPclientesFondosensiones}
&lt;/soap:Body></con2:xqueryText>
                                            </con1:expr>
                                        </con1:replace>
                                    </con1:responseTransform>
                                </con1:wsCallout>
                            </con1:actions>
                        </con1:case>
                        <con1:default>
                            <con1:assign varName="errorMessage">
                                <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N7222</con2:id>
                                <con1:expr>
                                    <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config">fn:substring-before(fn:substring-after($fault/ctx:details/err:PayloadDetail/err:text/text(),'{"error":true,"mensaje":"'),'"}')</con2:xqueryText>
                                </con1:expr>
                            </con1:assign>
                            <con1:replace varName="body">
                                <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N7221</con2:id>
                                <con1:expr>
                                    <con2:xqueryText xmlns:con2="http://www.bea.com/wli/sb/stages/config"><![CDATA[<soap:Body xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
<clo1:clientesFondosPensionesResponse>
<clo1:error>No records</clo1:error>
<clo1:mensaje>{concat('error CloudCode: ',$errorMessage)}</clo1:mensaje>
</clo1:clientesFondosPensionesResponse>
</soap:Body>]]></con2:xqueryText>
                                </con1:expr>
                            </con1:replace>
                        </con1:default>
                    </con1:ifThenElse>
                    <con1:resume xmlns:con1="http://www.bea.com/wli/sb/stages/config">
                        <con1:id>_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N7220</con1:id>
                    </con1:resume>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:flow>
            <con:pipeline-node name="PipelineCloudCode">
                <con:request>request-N3f5790c0.69a7c272.0.1952412c0b2.N7d7e</con:request>
                <con:response>response-N3f5790c0.69a7c272.0.1952412c0b2.N7d7d</con:response>
            </con:pipeline-node>
            <con:branch-node type="operation" id="_FlowId-N3f5790c0.69a7c272.0.1952412c0b2.N7d49" name="CloudCodeOperation">
                <con:context/>
                <con:branch-table>
                    <con:branch name="retirosGet">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:route-node name="RouteretirosGet" error-handler="error-N3f57edd0.N3b69b2ad.0.19539668aa9.N7baa">
                                <con:context/>
                                <con:actions>
                                    <con1:route xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config">
                                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.69a7c272.0.1952412c0b2.N7a93</con2:id>
                                        <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCode/BS/CloudCodeRestBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>retirosGet</con1:operation>
                                        <con1:outboundTransform>
                                            <con2:transport-headers xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config">
                                                <con3:id xmlns:con3="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.69a7c272.0.1952412c0b2.N7905</con3:id>
                                                <con2:header-set>outbound-request</con2:header-set>
                                                <con2:header value="expression" name="Authorization">
                                                    <con3:xqueryText xmlns:con3="http://www.bea.com/wli/sb/stages/config">$sessionToken</con3:xqueryText>
                                                </con2:header>
                                            </con2:transport-headers>
                                        </con1:outboundTransform>
                                        <con1:responseTransform/>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="cuentasSaldos">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:route-node name="RoutecuentasSaldos" error-handler="error-N3f57edd0.N3b69b2ad.0.19539668aa9.N7af8">
                                <con:context/>
                                <con:actions>
                                    <con1:route xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config">
                                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.69a7c272.0.1952412c0b2.N779c</con2:id>
                                        <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCode/BS/CloudCodeRestBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>cuentasSaldos</con1:operation>
                                        <con1:outboundTransform>
                                            <con2:transport-headers xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config">
                                                <con3:id xmlns:con3="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.69a7c272.0.1952412c0b2.N7594</con3:id>
                                                <con2:header-set>outbound-request</con2:header-set>
                                                <con2:header value="expression" name="Authorization">
                                                    <con3:xqueryText xmlns:con3="http://www.bea.com/wli/sb/stages/config">$sessionToken</con3:xqueryText>
                                                </con2:header>
                                            </con2:transport-headers>
                                        </con1:outboundTransform>
                                        <con1:responseTransform/>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="clientesFinancieros">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:route-node name="RouteclientesFinancieros" error-handler="error-N3f57edd0.N3b69b2ad.0.19539668aa9.N7a46">
                                <con:context/>
                                <con:actions>
                                    <con1:route xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config">
                                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.69a7c272.0.1952412c0b2.N7300</con2:id>
                                        <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCode/BS/CloudCodeRestBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>clientesFinancieros</con1:operation>
                                        <con1:outboundTransform>
                                            <con2:transport-headers xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config">
                                                <con3:id xmlns:con3="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.69a7c272.0.1952412c0b2.N72ff</con3:id>
                                                <con2:header-set>outbound-request</con2:header-set>
                                                <con2:header value="expression" name="Authorization">
                                                    <con3:xqueryText xmlns:con3="http://www.bea.com/wli/sb/stages/config">$sessionToken</con3:xqueryText>
                                                </con2:header>
                                            </con2:transport-headers>
                                        </con1:outboundTransform>
                                        <con1:responseTransform/>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="entesBancos">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:route-node name="RouteentesBancos" error-handler="error-N3f5790c0.2702fd3e.0.1952a645c9c.N7bba">
                                <con:context/>
                                <con:actions>
                                    <con1:route xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config">
                                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.69a7c272.0.1952412c0b2.N7a2f</con2:id>
                                        <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCode/BS/CloudCodeRestBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>entesBancos</con1:operation>
                                        <con1:outboundTransform>
                                            <con2:transport-headers xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config">
                                                <con3:id xmlns:con3="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.69a7c272.0.1952412c0b2.N78d0</con3:id>
                                                <con2:header-set>outbound-request</con2:header-set>
                                                <con2:header value="expression" name="Authorization">
                                                    <con3:xqueryText xmlns:con3="http://www.bea.com/wli/sb/stages/config">$sessionToken</con3:xqueryText>
                                                </con2:header>
                                            </con2:transport-headers>
                                        </con1:outboundTransform>
                                        <con1:responseTransform/>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="clientesLaboralesPeriodos">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:route-node name="RouteclientesLoboralesPeriodos" error-handler="error-N3f57edd0.N3b69b2ad.0.19539668aa9.N7d7f">
                                <con:context/>
                                <con:actions>
                                    <con1:route xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config">
                                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.69a7c272.0.1952412c0b2.N70ad</con2:id>
                                        <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCode/BS/CloudCodeRestBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>clientesLaboralesPeriodos</con1:operation>
                                        <con1:outboundTransform>
                                            <con2:transport-headers xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config">
                                                <con3:id xmlns:con3="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.69a7c272.0.1952412c0b2.N70ac</con3:id>
                                                <con2:header-set>outbound-request</con2:header-set>
                                                <con2:header value="expression" name="Authorization">
                                                    <con3:xqueryText xmlns:con3="http://www.bea.com/wli/sb/stages/config">$sessionToken</con3:xqueryText>
                                                </con2:header>
                                            </con2:transport-headers>
                                        </con1:outboundTransform>
                                        <con1:responseTransform/>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="cuentasMonedas">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:route-node name="RoutecuentasMonedas" error-handler="error-N3f57edd0.N3b69b2ad.0.19539668aa9.N7994">
                                <con:context/>
                                <con:actions>
                                    <con1:route xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config">
                                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.69a7c272.0.1952412c0b2.N7077</con2:id>
                                        <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCode/BS/CloudCodeRestBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>cuentasMonedas</con1:operation>
                                        <con1:outboundTransform>
                                            <con2:transport-headers xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config">
                                                <con3:id xmlns:con3="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.69a7c272.0.1952412c0b2.N7076</con3:id>
                                                <con2:header-set>outbound-request</con2:header-set>
                                                <con2:header value="expression" name="Authorization">
                                                    <con3:xqueryText xmlns:con3="http://www.bea.com/wli/sb/stages/config">$sessionToken</con3:xqueryText>
                                                </con2:header>
                                            </con2:transport-headers>
                                        </con1:outboundTransform>
                                        <con1:responseTransform/>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="cuentasRelacionesPeriodos">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:route-node name="RoutecuentasRelacionesPeriodos" error-handler="error-N3f57edd0.N3b69b2ad.0.19539668aa9.N78e2">
                                <con:context/>
                                <con:actions>
                                    <con1:route xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config">
                                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.69a7c272.0.1952412c0b2.N7041</con2:id>
                                        <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCode/BS/CloudCodeRestBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>cuentasRelacionesPeriodos</con1:operation>
                                        <con1:outboundTransform>
                                            <con2:transport-headers xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config">
                                                <con3:id xmlns:con3="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.69a7c272.0.1952412c0b2.N7040</con3:id>
                                                <con2:header-set>outbound-request</con2:header-set>
                                                <con2:header value="expression" name="Authorization">
                                                    <con3:xqueryText xmlns:con3="http://www.bea.com/wli/sb/stages/config">$sessionToken</con3:xqueryText>
                                                </con2:header>
                                            </con2:transport-headers>
                                        </con1:outboundTransform>
                                        <con1:responseTransform/>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="clientesLocalizadoresPreferidos">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:route-node name="RouteclientesLocalizadoresPreferidos" error-handler="error-N3f57edd0.N3b69b2ad.0.19539668aa9.N7830">
                                <con:context/>
                                <con:actions>
                                    <con1:route xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config">
                                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.69a7c272.0.1952412c0b2.N700b</con2:id>
                                        <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCode/BS/CloudCodeRestBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>clientesLocalizadoresPreferidos</con1:operation>
                                        <con1:outboundTransform>
                                            <con2:transport-headers xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config">
                                                <con3:id xmlns:con3="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.69a7c272.0.1952412c0b2.N700a</con3:id>
                                                <con2:header-set>outbound-request</con2:header-set>
                                                <con2:header value="expression" name="Authorization">
                                                    <con3:xqueryText xmlns:con3="http://www.bea.com/wli/sb/stages/config">$sessionToken</con3:xqueryText>
                                                </con2:header>
                                            </con2:transport-headers>
                                        </con1:outboundTransform>
                                        <con1:responseTransform/>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="cuentas">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:route-node name="Routecuentas" error-handler="error-N3f57edd0.N3b69b2ad.0.19539668aa9.N777e">
                                <con:context/>
                                <con:actions>
                                    <con1:route xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config">
                                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.69a7c272.0.1952412c0b2.N6fa0</con2:id>
                                        <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCode/BS/CloudCodeRestBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>cuentas</con1:operation>
                                        <con1:outboundTransform>
                                            <con2:transport-headers xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config">
                                                <con3:id xmlns:con3="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.69a7c272.0.1952412c0b2.N6f9f</con3:id>
                                                <con2:header-set>outbound-request</con2:header-set>
                                                <con2:header value="expression" name="Authorization">
                                                    <con3:xqueryText xmlns:con3="http://www.bea.com/wli/sb/stages/config">$sessionToken</con3:xqueryText>
                                                </con2:header>
                                            </con2:transport-headers>
                                        </con1:outboundTransform>
                                        <con1:responseTransform/>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="clientesLaborales">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:route-node name="RouteclientesLaborales" error-handler="error-N3f57edd0.N3b69b2ad.0.19539668aa9.N76cc">
                                <con:context/>
                                <con:actions>
                                    <con1:route xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config">
                                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.69a7c272.0.1952412c0b2.N6f68</con2:id>
                                        <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCode/BS/CloudCodeRestBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>clientesLaborales</con1:operation>
                                        <con1:outboundTransform>
                                            <con2:transport-headers xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config">
                                                <con3:id xmlns:con3="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.69a7c272.0.1952412c0b2.N6f67</con3:id>
                                                <con2:header-set>outbound-request</con2:header-set>
                                                <con2:header value="expression" name="Authorization">
                                                    <con3:xqueryText xmlns:con3="http://www.bea.com/wli/sb/stages/config">$sessionToken</con3:xqueryText>
                                                </con2:header>
                                            </con2:transport-headers>
                                        </con1:outboundTransform>
                                        <con1:responseTransform/>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="cuentasClientesDemograficos">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:route-node name="RoutecuentasClientesDemograficos" error-handler="error-N3f57edd0.N3b69b2ad.0.19539668aa9.N761a">
                                <con:context/>
                                <con:actions>
                                    <con1:route xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config">
                                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.69a7c272.0.1952412c0b2.N6f30</con2:id>
                                        <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCode/BS/CloudCodeRestBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>cuentasClientesDemograficos</con1:operation>
                                        <con1:outboundTransform>
                                            <con2:transport-headers xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config">
                                                <con3:id xmlns:con3="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f5790c0.69a7c272.0.1952412c0b2.N6f2f</con3:id>
                                                <con2:header-set>outbound-request</con2:header-set>
                                                <con2:header value="expression" name="Authorization">
                                                    <con3:xqueryText xmlns:con3="http://www.bea.com/wli/sb/stages/config">$sessionToken</con3:xqueryText>
                                                </con2:header>
                                            </con2:transport-headers>
                                        </con1:outboundTransform>
                                        <con1:responseTransform/>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="cuentasFondosPensiones">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:route-node name="RoutecuentasFondosPensiones" error-handler="error-N3f57edd0.570d0950.0.19561c15659.N7cdf">
                                <con:context/>
                                <con:actions>
                                    <con1:route xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config">
                                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.570d0950.0.19561c15659.N7d11</con2:id>
                                        <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCode/BS/CloudCodeRestBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>cuentasFondosPensiones</con1:operation>
                                        <con1:outboundTransform>
                                            <con2:transport-headers xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config">
                                                <con3:id xmlns:con3="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.N4f18b1db.0.19658d0bef2.N7f6b</con3:id>
                                                <con2:header-set>outbound-request</con2:header-set>
                                                <con2:header value="expression" name="Authorization">
                                                    <con3:xqueryText xmlns:con3="http://www.bea.com/wli/sb/stages/config">$sessionToken</con3:xqueryText>
                                                </con2:header>
                                            </con2:transport-headers>
                                        </con1:outboundTransform>
                                        <con1:responseTransform/>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="clientesHistoricasLaborales">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:route-node name="RouteNodeclientesHistoricasLaborales" error-handler="error-N3f57edd0.2ec81197.0.19570ec4c74.N7cfb">
                                <con:context/>
                                <con:actions>
                                    <con1:route xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config">
                                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.2ec81197.0.19570ec4c74.N7cfd</con2:id>
                                        <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCode/BS/CloudCodeRestBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>clientesHistoricasLaborales</con1:operation>
                                        <con1:outboundTransform>
                                            <con2:transport-headers xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config">
                                                <con3:id xmlns:con3="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.2ec81197.0.19570ec4c74.N7cfc</con3:id>
                                                <con2:header-set>outbound-request</con2:header-set>
                                                <con2:header value="expression" name="Authorization">
                                                    <con3:xqueryText xmlns:con3="http://www.bea.com/wli/sb/stages/config">$sessionToken</con3:xqueryText>
                                                </con2:header>
                                            </con2:transport-headers>
                                        </con1:outboundTransform>
                                        <con1:responseTransform/>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="clientesFondosensiones">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:route-node name="RouteNodeclientesFondosPensiones" error-handler="error-N3f57edd0.4dcaaba7.0.1958b51c2c7.N7230">
                                <con:context/>
                                <con:actions>
                                    <con1:route xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config">
                                        <con2:id xmlns:con2="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N7232</con2:id>
                                        <con1:service ref="Middleware/v2/BusinessServices/FPC/CloudCode/BS/CloudCodeRestBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>clientesFondosensiones</con1:operation>
                                        <con1:outboundTransform>
                                            <con2:transport-headers xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config">
                                                <con3:id xmlns:con3="http://www.bea.com/wli/sb/stages/config">_ActionId-N3f57edd0.4dcaaba7.0.1958b51c2c7.N7231</con3:id>
                                                <con2:header-set>outbound-request</con2:header-set>
                                                <con2:header value="expression" name="Authorization">
                                                    <con3:xqueryText xmlns:con3="http://www.bea.com/wli/sb/stages/config">$sessionToken</con3:xqueryText>
                                                </con2:header>
                                            </con2:transport-headers>
                                        </con1:outboundTransform>
                                        <con1:responseTransform/>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:default-branch>
                        <con:flow/>
                    </con:default-branch>
                </con:branch-table>
            </con:branch-node>
        </con:flow>
    </con:router>
</con:pipelineEntry>