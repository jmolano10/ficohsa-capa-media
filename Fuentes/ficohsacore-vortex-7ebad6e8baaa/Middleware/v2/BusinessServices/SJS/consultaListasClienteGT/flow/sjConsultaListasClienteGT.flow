<bpel:process name="sjConsultaListasClienteGT" targetNamespace="http://www.example.com/flow/Middleware/v2/BusinessServices/SJS/consultaListasClienteGT/flow/sjConsultaListasClienteGT" bea:name="sjConsultaListasClienteGT" xmlns:tns="http://www.example.com/flow/Middleware/v2/BusinessServices/SJS/consultaListasClienteGT/flow/sjConsultaListasClienteGT" xmlns:bpel="http://docs.oasis-open.org/wsbpel/2.0/process/executable" xmlns:rescon="http://www.bea.com/alsb/flow/resources/config" xmlns:bea="http://www.bea.com/bpel/ui/extensions" xmlns:ext="http://www.bea.com/bpel/extensions" xmlns:expr="http://www.bea.com/wli/sb/stages/config" xmlns:trf="http://www.bea.com/wli/sb/stages/transform/config" xmlns:bind="http://www.ficohsa.com.hn/middleware.services/sjConsultaListasClientePS" xmlns:ns1="http://xmlns.oracle.com/pcbpel/adapter/db/Middleware/OSB/validaListaNegraDelitos" xmlns:val1="http://www.ficohsa.com.hn/middleware.services/sjConsultaListasCliente" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:ns0="http://xmlns.oracle.com/pcbpel/adapter/db/Middleware/OSB/validaListaNegraIVE" xmlns:ns2="http://xmlns.oracle.com/pcbpel/adapter/db/Middleware/OSB/validaListaNegraOfacONU" xmlns:ns3="http://xmlns.oracle.com/pcbpel/adapter/db/Middleware/OSB/validaListaNegraPEP" xmlns:ns4="http://xmlns.oracle.com/pcbpel/adapter/db/Middleware/OSB/validaListaNegraRCJ" xmlns:ns5="http://xmlns.oracle.com/pcbpel/adapter/db/Middleware/OSB/validaListaNegraRSR" xmlns:val2="http://xmlns.oracle.com/pcbpel/adapter/db/sp/validaListaNegraDelitos" xmlns:val3="http://xmlns.oracle.com/pcbpel/adapter/db/sp/validaListaNegraIVE" xmlns:val4="http://xmlns.oracle.com/pcbpel/adapter/db/sp/validaListaNegraOfacONU" xmlns:val5="http://xmlns.oracle.com/pcbpel/adapter/db/sp/validaListaNegraPEP" xmlns:val6="http://xmlns.oracle.com/pcbpel/adapter/db/sp/validaListaNegraRCJ" xmlns:val7="http://xmlns.oracle.com/pcbpel/adapter/db/sp/validaListaNegraRSR">
    <bpel:partnerLinks>
        <bpel:partnerLink name="sjConsultaListasClienteGT" partnerLinkType="tns:sjConsultaListasClienteGT" myRole="sjConsultaListasClienteGT">
	       </bpel:partnerLink>
	   <bpel:partnerLink name="validaListaNegraDelitos_db" partnerLinkType="tns:validaListaNegraDelitos_db_plnkType" partnerRole="validaListaNegraDelitos_db_PartnerRole">
	   </bpel:partnerLink>
	   <bpel:partnerLink name="validaListaNegraIVE_db" partnerLinkType="tns:validaListaNegraIVE_db_plnkType" partnerRole="validaListaNegraIVE_db_PartnerRole">
	   </bpel:partnerLink>
	   <bpel:partnerLink name="validaListaNegraOfacONU_db" partnerLinkType="tns:validaListaNegraOfacONU_db_plnkType" partnerRole="validaListaNegraOfacONU_db_PartnerRole">
	   </bpel:partnerLink>
	   <bpel:partnerLink name="validaListaNegraPEP_db" partnerLinkType="tns:validaListaNegraPEP_db_plnkType" partnerRole="validaListaNegraPEP_db_PartnerRole">
	   </bpel:partnerLink>
	   <bpel:partnerLink name="validaListaNegraRCJ_db" partnerLinkType="tns:validaListaNegraRCJ_db_plnkType" partnerRole="validaListaNegraRCJ_db_PartnerRole">
	   </bpel:partnerLink>
	   <bpel:partnerLink name="validaListaNegraRSR_db" partnerLinkType="tns:validaListaNegraRSR_db_plnkType" partnerRole="validaListaNegraRSR_db_PartnerRole">
	   </bpel:partnerLink></bpel:partnerLinks>

	   <bpel:variables>
        <bpel:variable name="request" messageType="bind:sjConsultaListasClienteRequest">
	       </bpel:variable>
	       <bpel:variable name="response" messageType="bind:sjConsultaListasClienteResponse">
	       </bpel:variable>
    <bpel:variable name="REQvalidaListaNegraDelitos" messageType="ns1:args_in_msg">
    </bpel:variable>
    <bpel:variable name="RSPvalidaListaNegraDelitos" messageType="ns1:args_out_msg">
    </bpel:variable>
    <bpel:variable name="resultGroup" type="xsd:anyType"/>
    <bpel:variable name="REQvalidaListaNegraIVE" messageType="ns0:args_in_msg">
    </bpel:variable>
    <bpel:variable name="RSPvalidaListaNegraIVE" messageType="ns0:args_out_msg">
    </bpel:variable>
    <bpel:variable name="REQvalidaListaNegraOfacONU" messageType="ns2:args_in_msg">
    </bpel:variable>
    <bpel:variable name="RSPvalidaListaNegraOfacONU" messageType="ns2:args_out_msg">
    </bpel:variable>
    <bpel:variable name="REQvalidaListaNegraPEP" messageType="ns3:args_in_msg">
    </bpel:variable>
    <bpel:variable name="RSPvalidaListaNegraPEP" messageType="ns3:args_out_msg">
    </bpel:variable>
    <bpel:variable name="REQvalidaListaNegraRCJ" messageType="ns4:args_in_msg">
    </bpel:variable>
    <bpel:variable name="RSPvalidaListaNegraRCJ" messageType="ns4:args_out_msg">
    </bpel:variable>
    <bpel:variable name="REQvalidaListaNegraRSR" messageType="ns5:args_in_msg">
    </bpel:variable>
    <bpel:variable name="RSPvalidaListaNegraRSR" messageType="ns5:args_out_msg">
    </bpel:variable></bpel:variables>

    <bpel:sequence>
        <bpel:receive partnerLink="sjConsultaListasClienteGT" operation="consultaListasCliente" variable="request" createInstance="yes">
	           <rescon:receiveInfo>
                
            <rescon:wsdl ref="Middleware/v2/BusinessServices/SJS/consultaListasClienteGT/wsdl/sjConsultaListasClienteGT" binding="bind:sjConsultaListasClientePSSOAP"/></rescon:receiveInfo>
        </bpel:receive>
        <bpel:assign>
        	<bpel:extensionAssignOperation>
        		<trf:assign varName="resultGroup">
        			<trf:expr>
        				<expr:xqueryText>&lt;RESULT_GROUP/></expr:xqueryText></trf:expr></trf:assign>
        	</bpel:extensionAssignOperation>
        </bpel:assign>
        <bpel:flow>
        	<bpel:scope bea:name="ListaNegraDelitos">
        		<bpel:faultHandlers>
        			<bpel:catchAll>
        				<bpel:sequence>
        					<bpel:empty/>
        				<bpel:assign>
		<bpel:extensionAssignOperation>
			<trf:insert varName="resultGroup">
				<trf:location>
					<expr:xpathText>.</expr:xpathText></trf:location>
				<trf:where>last-child</trf:where>
			<trf:expr>
				<expr:xqueryText><![CDATA[<ITEM>
	<STATUS>ERROR</STATUS>
	<MESSAGE>Ha ocurrido un error al consultar la lista negra de delitos</MESSAGE>
	<ASSOCIATION_NAME>CRIME</ASSOCIATION_NAME>
</ITEM>]]></expr:xqueryText></trf:expr></trf:insert>
		</bpel:extensionAssignOperation>
        				</bpel:assign></bpel:sequence>
        			</bpel:catchAll></bpel:faultHandlers>
        		<bpel:sequence>
        			<bpel:assign>
        				<bpel:extensionAssignOperation>
        					<trf:assign varName="REQvalidaListaNegraDelitos.InputParameters">
        						<trf:expr>
        							<expr:xqueryTransform>
        								<expr:resource ref="Middleware/v2/BusinessServices/SJS/consultaListasClienteGT/xq/validaListaNegraDelitosIn"/>
        								<expr:param name="legalId">
        									<expr:path>$request.inputParameters/val1:CUSTOMER_LEGAL_ID/text()</expr:path></expr:param></expr:xqueryTransform></trf:expr></trf:assign>
        				</bpel:extensionAssignOperation>
        			</bpel:assign>
        			<bpel:invoke operation="validaListaNegraDelitos" partnerLink="validaListaNegraDelitos_db" inputVariable="REQvalidaListaNegraDelitos" outputVariable="RSPvalidaListaNegraDelitos">
        				<rescon:invokeInfo><rescon:service ref="Middleware/v2/BusinessServices/Precredit/validaListaNegraDelitos/biz/validaListaNegraDelitos_db" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></rescon:invokeInfo></bpel:invoke>
        			<bpel:assign>
        				<bpel:extensionAssignOperation>
        					<bpel:documentation/>
        					<trf:insert varName="resultGroup">
        						
        						<trf:location>
        							<expr:xpathText>.</expr:xpathText></trf:location>
        						<trf:where>last-child</trf:where>
        						<trf:expr>
        							<expr:xqueryText><![CDATA[<ITEM>
{
	if(fn:exists($RSPvalidaListaNegraDelitos.OutputParameters/val2:RowSet/val2:Row)) then (
		<STATUS>SUCCESS</STATUS>
	) else (
		<STATUS>NO RECORDS</STATUS>
	)
}
	<ASSOCIATION_NAME>CRIME</ASSOCIATION_NAME>
</ITEM>]]></expr:xqueryText></trf:expr></trf:insert>
        				</bpel:extensionAssignOperation>
        			</bpel:assign>
        			
        			</bpel:sequence>
        	</bpel:scope>
        	<bpel:scope bea:name="ListaNegraIVE">
        		
        		<bpel:faultHandlers>
        			<bpel:catchAll>
        				<bpel:sequence>
        					<bpel:empty/>
        				<bpel:assign>
		<bpel:extensionAssignOperation>
			<trf:insert varName="resultGroup">
				<trf:location>
					<expr:xpathText>.</expr:xpathText></trf:location>
				<trf:where>last-child</trf:where>
			<trf:expr>
				<expr:xqueryText><![CDATA[<ITEM>
	<STATUS>ERROR</STATUS>
	<MESSAGE>Ha ocurrido un error al consultar la lista negra de IVE</MESSAGE>
	<ASSOCIATION_NAME>IVE</ASSOCIATION_NAME>
</ITEM>]]></expr:xqueryText></trf:expr></trf:insert>
		</bpel:extensionAssignOperation>
        				</bpel:assign></bpel:sequence>
        			</bpel:catchAll></bpel:faultHandlers>
        		<bpel:sequence>
        			<bpel:assign>
        				<bpel:extensionAssignOperation>
        					<trf:assign varName="REQvalidaListaNegraIVE.InputParameters">
        						<trf:expr>
        							<expr:xqueryTransform>
        								<expr:resource ref="Middleware/v2/BusinessServices/SJS/consultaListasClienteGT/xq/validaListaNegraIVEIn"/>
        								<expr:param name="legalId">
        									<expr:path>$request.inputParameters/val1:CUSTOMER_LEGAL_ID/text()</expr:path></expr:param></expr:xqueryTransform></trf:expr></trf:assign>
        				</bpel:extensionAssignOperation>
        			</bpel:assign>
        			<bpel:invoke operation="validaListaNegraIVE" partnerLink="validaListaNegraIVE_db" inputVariable="REQvalidaListaNegraIVE" outputVariable="RSPvalidaListaNegraIVE">
        				<rescon:invokeInfo><rescon:service ref="Middleware/v2/BusinessServices/Precredit/validaListaNegraIVE/biz/validaListaNegraIVE_db" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></rescon:invokeInfo></bpel:invoke>
        			<bpel:assign>
        				<bpel:extensionAssignOperation>
        					<bpel:documentation/>
        					<trf:insert varName="resultGroup">
        						
        						<trf:location>
        							<expr:xpathText>.</expr:xpathText></trf:location>
        						<trf:where>last-child</trf:where>
        						<trf:expr>
        							<expr:xqueryText><![CDATA[<ITEM>
{
	if(fn:exists($RSPvalidaListaNegraIVE.OutputParameters/val3:RowSet/val3:Row)) then (
		<STATUS>SUCCESS</STATUS>
	) else (
		<STATUS>NO RECORDS</STATUS>
	)
}
	<ASSOCIATION_NAME>IVE</ASSOCIATION_NAME>
</ITEM>]]></expr:xqueryText></trf:expr></trf:insert>
        				</bpel:extensionAssignOperation>
        			</bpel:assign>
        			</bpel:sequence>
        	</bpel:scope>
        <bpel:scope bea:name="ListaNegraOfacONU">
		<bpel:faultHandlers>
			<bpel:catchAll>
				<bpel:sequence>
					<bpel:empty/>
				<bpel:assign>
		<bpel:extensionAssignOperation>
			<trf:insert varName="resultGroup">
				<trf:location>
					<expr:xpathText>.</expr:xpathText></trf:location>
				<trf:where>last-child</trf:where>
			<trf:expr>
				<expr:xqueryText><![CDATA[<ITEM>
	<STATUS>ERROR</STATUS>
	<MESSAGE>Ha ocurrido un error al consultar la lista negra de OFAC ONU</MESSAGE>
	<ASSOCIATION_NAME>OFAC_ONU</ASSOCIATION_NAME>
</ITEM>]]></expr:xqueryText></trf:expr></trf:insert>
		</bpel:extensionAssignOperation>
				</bpel:assign></bpel:sequence>
			</bpel:catchAll></bpel:faultHandlers>
	<bpel:sequence>
			<bpel:assign>
				<bpel:extensionAssignOperation>
					<trf:assign varName="REQvalidaListaNegraOfacONU.InputParameters">
						<trf:expr>
							<expr:xqueryTransform>
								<expr:resource ref="Middleware/v2/BusinessServices/SJS/consultaListasClienteGT/xq/validaListaNegraOfacONUIn"/>
								<expr:param name="legalId">
									<expr:path>$request.inputParameters/val1:CUSTOMER_LEGAL_ID/text()</expr:path></expr:param></expr:xqueryTransform></trf:expr></trf:assign>
				</bpel:extensionAssignOperation>
			</bpel:assign>
			<bpel:invoke operation="validaListaNegraOfacONU" partnerLink="validaListaNegraOfacONU_db" inputVariable="REQvalidaListaNegraOfacONU" outputVariable="RSPvalidaListaNegraOfacONU">
				<rescon:invokeInfo><rescon:service ref="Middleware/v2/BusinessServices/Precredit/validaListaNegraOfacONU/biz/validaListaNegraOfacONU_db" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></rescon:invokeInfo></bpel:invoke>
			<bpel:assign>
				<bpel:extensionAssignOperation>
					<trf:insert varName="resultGroup">
						
						<trf:location>
							<expr:xpathText>.</expr:xpathText></trf:location>
						<trf:where>last-child</trf:where>
					<trf:expr>
						<expr:xqueryText><![CDATA[<ITEM>
{
	if(fn:exists($RSPvalidaListaNegraOfacONU.OutputParameters/val4:RowSet/val4:Row) and fn:not($RSPvalidaListaNegraOfacONU.OutputParameters/val4:RowSet/val4:Row[1]/val4:Column[fn:upper-case(@name) = 'LISTANEGRA']/text() = 'NULL')) then (
		<STATUS>SUCCESS</STATUS>
	) else (
		<STATUS>NO RECORDS</STATUS>
	)
}
	<ASSOCIATION_NAME>OFAC_ONU</ASSOCIATION_NAME>
</ITEM>]]></expr:xqueryText></trf:expr></trf:insert>
				</bpel:extensionAssignOperation>
			</bpel:assign></bpel:sequence>
        </bpel:scope>
        <bpel:scope bea:name="ListaNegraPEP">
        	<bpel:faultHandlers>
        		<bpel:catchAll>
        			<bpel:sequence>
        				<bpel:empty/>
        			<bpel:assign>
		<bpel:extensionAssignOperation>
			<trf:insert varName="resultGroup">
				<trf:location>
					<expr:xpathText>.</expr:xpathText></trf:location>
				<trf:where>last-child</trf:where>
			<trf:expr>
				<expr:xqueryText><![CDATA[<ITEM>
	<STATUS>ERROR</STATUS>
	<MESSAGE>Ha ocurrido un error al consultar la lista negra de PEP</MESSAGE>
	<ASSOCIATION_NAME>PEP</ASSOCIATION_NAME>
</ITEM>]]></expr:xqueryText></trf:expr></trf:insert>
		</bpel:extensionAssignOperation>
        			</bpel:assign></bpel:sequence>
        		</bpel:catchAll></bpel:faultHandlers>
        	<bpel:sequence>
        		<bpel:assign>
        			<bpel:extensionAssignOperation>
        				<trf:assign varName="REQvalidaListaNegraPEP.InputParameters">
        					<trf:expr>
        						<expr:xqueryTransform>
        							<expr:resource ref="Middleware/v2/BusinessServices/SJS/consultaListasClienteGT/xq/validaListaNegraPEPIn"/>
        							<expr:param name="legalId">
        								<expr:path>$request.inputParameters/val1:CUSTOMER_LEGAL_ID/text()</expr:path></expr:param></expr:xqueryTransform></trf:expr></trf:assign>
        			</bpel:extensionAssignOperation>
        		</bpel:assign>
        		<bpel:invoke operation="validaListaNegraPEP" partnerLink="validaListaNegraPEP_db" inputVariable="REQvalidaListaNegraPEP" outputVariable="RSPvalidaListaNegraPEP">
        			<rescon:invokeInfo><rescon:service ref="Middleware/v2/BusinessServices/Precredit/validaListaNegraPEP/biz/validaListaNegraPEP_db" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></rescon:invokeInfo></bpel:invoke>
        		<bpel:assign>
        			<bpel:extensionAssignOperation>
        				<trf:insert varName="resultGroup">
        					
        					<trf:location>
        						<expr:xpathText>.</expr:xpathText></trf:location>
        					<trf:where>last-child</trf:where>
        				<trf:expr>
        					<expr:xqueryText><![CDATA[<ITEM>
{
	if(fn:exists($RSPvalidaListaNegraPEP.OutputParameters/val5:RowSet/val5:Row)) then (
		<STATUS>SUCCESS</STATUS>
	) else (
		<STATUS>NO RECORDS</STATUS>
	)
}
	<ASSOCIATION_NAME>PEP</ASSOCIATION_NAME>
</ITEM>]]></expr:xqueryText></trf:expr></trf:insert>
        			</bpel:extensionAssignOperation>
        		</bpel:assign></bpel:sequence>
        </bpel:scope>
        <bpel:scope bea:name="ListaNegraRCJ">
        	<bpel:faultHandlers>
        		<bpel:catchAll>
        			<bpel:sequence>
        				<bpel:empty/>
        			<bpel:assign>
		<bpel:extensionAssignOperation>
			<trf:insert varName="resultGroup">
				<trf:location>
					<expr:xpathText>.</expr:xpathText></trf:location>
				<trf:where>last-child</trf:where>
			<trf:expr>
				<expr:xqueryText><![CDATA[<ITEM>
	<STATUS>ERROR</STATUS>
	<MESSAGE>Ha ocurrido un error al consultar la lista negra de RCJ</MESSAGE>
	<ASSOCIATION_NAME>RCJ</ASSOCIATION_NAME>
</ITEM>]]></expr:xqueryText></trf:expr></trf:insert>
		</bpel:extensionAssignOperation>
        			</bpel:assign></bpel:sequence>
        		</bpel:catchAll></bpel:faultHandlers>
        	<bpel:sequence>
        		<bpel:assign>
        			<bpel:extensionAssignOperation>
        				<trf:assign varName="REQvalidaListaNegraRCJ.InputParameters">
        					<trf:expr>
        						<expr:xqueryTransform>
        							<expr:resource ref="Middleware/v2/BusinessServices/SJS/consultaListasClienteGT/xq/validaListaNegraRCJIn"/>
        							<expr:param name="legalId">
        								<expr:path>$request.inputParameters/val1:CUSTOMER_LEGAL_ID/text()</expr:path></expr:param></expr:xqueryTransform></trf:expr></trf:assign>
        			</bpel:extensionAssignOperation>
        		</bpel:assign>
        		<bpel:invoke operation="validaListaNegraRCJ" partnerLink="validaListaNegraRCJ_db" inputVariable="REQvalidaListaNegraRCJ" outputVariable="RSPvalidaListaNegraRCJ">
        			<rescon:invokeInfo><rescon:service ref="Middleware/v2/BusinessServices/Precredit/validaListaNegraRCJ/biz/validaListaNegraRCJ_db" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></rescon:invokeInfo></bpel:invoke>
        		<bpel:assign>
        			<bpel:extensionAssignOperation>
        				<trf:insert varName="resultGroup">
        					<trf:location>
        						<expr:xpathText>.</expr:xpathText></trf:location>
        					<trf:where>last-child</trf:where>
        				<trf:expr>
        					<expr:xqueryText><![CDATA[<ITEM>
{
	if(fn:exists($RSPvalidaListaNegraRCJ.OutputParameters/val6:RowSet/val6:Row)) then (
		<STATUS>SUCCESS</STATUS>
	) else (
		<STATUS>NO RECORDS</STATUS>
	)
}
	<ASSOCIATION_NAME>RCJ</ASSOCIATION_NAME>
</ITEM>]]></expr:xqueryText></trf:expr></trf:insert>
        			</bpel:extensionAssignOperation>
        		</bpel:assign></bpel:sequence>
        </bpel:scope>
        <bpel:scope bea:name="ListaNegraRSR">
        	<bpel:faultHandlers>
        		<bpel:catchAll>
        			<bpel:sequence>
        				<bpel:empty/>
        			<bpel:assign>
		<bpel:extensionAssignOperation>
			<trf:insert varName="resultGroup">
				<trf:location>
					<expr:xpathText>.</expr:xpathText></trf:location>
				<trf:where>last-child</trf:where>
			<trf:expr>
				<expr:xqueryText><![CDATA[<ITEM>
	<STATUS>ERROR</STATUS>
	<MESSAGE>Ha ocurrido un error al consultar la lista negra de RSR</MESSAGE>
	<ASSOCIATION_NAME>RSR</ASSOCIATION_NAME>
</ITEM>]]></expr:xqueryText></trf:expr></trf:insert>
		</bpel:extensionAssignOperation>
        			</bpel:assign></bpel:sequence>
        		</bpel:catchAll></bpel:faultHandlers>
        	<bpel:sequence>
        		<bpel:assign>
        			<bpel:extensionAssignOperation>
        				<trf:assign varName="REQvalidaListaNegraRSR.InputParameters">
        					<trf:expr>
        						<expr:xqueryTransform>
        							<expr:resource ref="Middleware/v2/BusinessServices/SJS/consultaListasClienteGT/xq/validaListaNegraRSRIn"/>
        							<expr:param name="legalId">
        								<expr:path>$request.inputParameters/val1:CUSTOMER_LEGAL_ID/text()</expr:path></expr:param></expr:xqueryTransform></trf:expr></trf:assign>
        			</bpel:extensionAssignOperation>
        		</bpel:assign>
        		<bpel:invoke operation="validaListaNegraRSR" partnerLink="validaListaNegraRSR_db" inputVariable="REQvalidaListaNegraRSR" outputVariable="RSPvalidaListaNegraRSR">
        			<rescon:invokeInfo><rescon:service ref="Middleware/v2/BusinessServices/Precredit/validaListaNegraRSR/biz/validaListaNegraRSR_db" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></rescon:invokeInfo></bpel:invoke>
        		<bpel:assign>
        			<bpel:extensionAssignOperation>
        				<trf:insert varName="resultGroup">
        					<trf:location>
        						<expr:xpathText>.</expr:xpathText></trf:location>
        					<trf:where>last-child</trf:where>
        				<trf:expr>
        					<expr:xqueryText><![CDATA[<ITEM>
{
	if(fn:exists($RSPvalidaListaNegraRSR.OutputParameters/val7:RowSet/val7:Row)) then (
		<STATUS>SUCCESS</STATUS>
	) else (
		<STATUS>NO RECORDS</STATUS>
	)
}
	<ASSOCIATION_NAME>RSR</ASSOCIATION_NAME>
</ITEM>]]></expr:xqueryText></trf:expr></trf:insert>
        			</bpel:extensionAssignOperation>
        		</bpel:assign></bpel:sequence>
        </bpel:scope></bpel:flow>
        
        <bpel:assign>
        	<bpel:extensionAssignOperation>
        		<trf:assign varName="response.outputParameters">
        			<trf:expr>
        				<expr:xqueryTransform>
        					<expr:resource ref="Middleware/v2/BusinessServices/SJS/consultaListasClienteGT/xq/sjConsultaListasClienteGTOut"/>
        					<expr:param name="resultGroup">
        						<expr:path>$resultGroup</expr:path></expr:param></expr:xqueryTransform></trf:expr></trf:assign>
        	</bpel:extensionAssignOperation>
        </bpel:assign>
        <bpel:reply partnerLink="sjConsultaListasClienteGT" operation="consultaListasCliente" variable="response"/>
    </bpel:sequence>
</bpel:process>