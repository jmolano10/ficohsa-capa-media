<?xml version="1.0" encoding="UTF-8"?>
<con:templateEntry xmlns:con="http://www.bea.com/wli/sb/pipeline/config" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:con1="http://www.bea.com/wli/sb/stages/publish/config" xmlns:con2="http://www.bea.com/wli/sb/stages/config" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con4="http://www.bea.com/wli/sb/stages/logging/config">
    <con:coreEntry>
        <con:binding type="SOAP" xsi:type="con:AnyWsdlSoapBindingType"/>
    </con:coreEntry>
    <con:router errorHandler="error-N53e8b9dc.530ebad5.0.18853dbb64a.N7fde">
        <con:pipeline type="request" name="request-N53e8b9dc.530ebad5.0.18853dbb64a.N7ff0">
            <con:stage id="_StageId-N53e8b9dc.530ebad5.0.18853dbb64a.N7fee" name="StageLoggingInput">
                <con:context/>
                <con:actions>
                    <con1:route>
                        <con2:id>_ActionId-N53e8b9dc.530ebad5.0.18853dbb64a.N7fea</con2:id>
                        <con1:service ref="SBRG_MassivePayment_Commons/BS/WriteToFileSystemRestBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con1:operation>WriteToFileSystem</con1:operation>
                        <con1:outboundTransform/>
                    </con1:route>
                </con:actions>
            </con:stage>
            <con:stage id="_StageId-N53e8b9dc.530ebad5.0.18853dbb64a.N7fe6" name="StageRegionalizacion">
                <con:context/>
                <con:disabled>true</con:disabled>
                <con:actions>
                    <con3:assign varName="destinationService">
                        <con2:id>_ActionId-N53e8b9dc.6cf4e30.0.188bc450173.N7e64</con2:id>
                        <con3:expr>
                            <con2:xqueryText>""</con2:xqueryText>
                        </con3:expr>
                    </con3:assign>
                    <con3:wsCallout>
                        <con2:id>_ActionId-N53e8b9dc.530ebad5.0.18853dbb64a.N7fe3</con2:id>
                        <con3:service ref="SBRG_MassivePayment_Commons/BS/GetCountryURLByNameRestBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>GetCountryURLByName</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">requestRegional</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">responseRegional</con3:body>
                        </con3:response>
                        <con3:requestTransform>
                            <con3:replace varName="requestRegional" contents-only="false">
                                <con2:id>_ActionId-N53e8b9dc.530ebad5.0.18853dbb64a.N7fe0</con2:id>
                                <con3:expr>
                                    <con2:xqueryText>&lt;countryServiceInput xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                    xmlns="https://www.ficohsa.com/regional/utility/constants">
  &lt;id>&lt;/id>
&lt;/countryServiceInput></con2:xqueryText>
                                </con3:expr>
                            </con3:replace>
                        </con3:requestTransform>
                        <con3:responseTransform/>
                    </con3:wsCallout>
                </con:actions>
            </con:stage>
            <con:placeholder-node id="PlaceholderID_N53e8b9dc.530ebad5.0.18853dbb64a.N7fdf"/>
        </con:pipeline>
        <con:pipeline type="response" name="response-N53e8b9dc.530ebad5.0.18853dbb64a.N7fef">
            <con:stage id="_StageId-N53e8b9dc.530ebad5.0.18853dbb64a.N7fed" name="StageLoggingOutput">
                <con:context/>
                <con:actions>
                    <con1:route>
                        <con2:id>_ActionId-N53e8b9dc.530ebad5.0.18853dbb64a.N7fe7</con2:id>
                        <con1:service ref="SBRG_MassivePayment_Commons/BS/WriteToFileSystemRestBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con1:operation>WriteToFileSystem</con1:operation>
                        <con1:outboundTransform/>
                    </con1:route>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="error" name="error-N53e8b9dc.530ebad5.0.18853dbb64a.N7fde">
            <con:stage id="_StageId-N53e8b9dc.530ebad5.0.18853dbb64a.N7fdd" name="StageIT">
                <con:context/>
                <con:actions>
                    <con4:report>
                        <con2:id>_ActionId-N53e8b9dc.530ebad5.0.18853dbb64a.N7fa5</con2:id>
                        <con4:expr>
                            <con2:xqueryText>$body</con2:xqueryText>
                        </con4:expr>
                        <con4:labels>
                            <con4:key>code</con4:key>
                            <con4:varName>fault</con4:varName>
                            <con4:value>
                                <con2:xpathText>./ctx:errorCode</con2:xpathText>
                            </con4:value>
                        </con4:labels>
                        <con4:labels>
                            <con4:key>reason</con4:key>
                            <con4:varName>fault</con4:varName>
                            <con4:value>
                                <con2:xpathText>./ctx:reason</con2:xpathText>
                            </con4:value>
                        </con4:labels>
                    </con4:report>
                    <con4:report>
                        <con2:id>_ActionId-N53e8b9dc.530ebad5.0.18853dbb64a.N7fda</con2:id>
                        <con4:expr>
                            <con2:xqueryText>$fault</con2:xqueryText>
                        </con4:expr>
                        <con4:labels>
                            <con4:key>code</con4:key>
                            <con4:varName>fault</con4:varName>
                            <con4:value>
                                <con2:xpathText>./ctx:errorCode</con2:xpathText>
                            </con4:value>
                        </con4:labels>
                        <con4:labels>
                            <con4:key>reason</con4:key>
                            <con4:varName>fault</con4:varName>
                            <con4:value>
                                <con2:xpathText>./ctx:reason</con2:xpathText>
                            </con4:value>
                        </con4:labels>
                    </con4:report>
                </con:actions>
            </con:stage>
            <con:stage id="_StageId-N53e8b9dc.530ebad5.0.18853dbb64a.N7fa4" name="StageMapeo">
                <con:context/>
                <con:disabled>true</con:disabled>
                <con:actions>
                    <con3:wsCallout>
                        <con2:id>_ActionId-N53e8b9dc.530ebad5.0.18853dbb64a.N7fa1</con2:id>
                        <con3:service ref="SBRG_MassivePayment_Commons/BS/GetCustomErrorByStackTraceRestBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con3:operation>GetCustomErrorByStackTrace</con3:operation>
                        <con3:request>
                            <con3:body wrapped="false">requestError</con3:body>
                        </con3:request>
                        <con3:response>
                            <con3:body wrapped="false">responseError</con3:body>
                        </con3:response>
                        <con3:requestTransform>
                            <con3:replace varName="requestError">
                                <con2:id>_ActionId-N53e8b9dc.530ebad5.0.18853dbb64a.N7f9e</con2:id>
                                <con3:expr>
                                    <con2:xqueryText><![CDATA[<errorMapInput xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
               xmlns="https://www.ficohsa.com/regional/utility/constants">
  <errorCode></errorCode>
  <message></message>
  <system></system>
  <service></service>
</errorMapInput>]]></con2:xqueryText>
                                </con3:expr>
                            </con3:replace>
                        </con3:requestTransform>
                        <con3:responseTransform/>
                    </con3:wsCallout>
                </con:actions>
            </con:stage>
            <con:stage id="_StageId-N53e8b9dc.530ebad5.0.18853dbb64a.N7f9d" name="StageLoggingOutput">
                <con:context/>
                <con:actions>
                    <con1:route>
                        <con2:id>_ActionId-N53e8b9dc.530ebad5.0.18853dbb64a.N7f9a</con2:id>
                        <con1:service ref="SBRG_MassivePayment_Commons/BS/WriteToFileSystemRestBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con1:operation>WriteToFileSystem</con1:operation>
                        <con1:outboundTransform>
                            <con3:transport-headers>
                                <con2:id>_ActionId-N53e8b9dc.530ebad5.0.18853dbb64a.N7f97</con2:id>
                                <con3:header-set>outbound-request</con3:header-set>
                            </con3:transport-headers>
                        </con1:outboundTransform>
                    </con1:route>
                </con:actions>
            </con:stage>
            <con:placeholder-node id="PlaceholderID_N53e8b9dc.N288ea8de.0.1888319a079.N7f0c"/>
            <con:stage id="_StageId-N53e8b9dc.N288ea8de.0.1888319a079.N7f0b" name="StageReply">
                <con:context/>
                <con:actions>
                    <con2:reply>
                        <con2:id>_ActionId-N53e8b9dc.N288ea8de.0.1888319a079.N7f08</con2:id>
                    </con2:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:flow>
            <con:pipeline-node name="Pipeline Pair Node1">
                <con:request>request-N53e8b9dc.530ebad5.0.18853dbb64a.N7ff0</con:request>
                <con:response>response-N53e8b9dc.530ebad5.0.18853dbb64a.N7fef</con:response>
            </con:pipeline-node>
        </con:flow>
        <con:shared-variables>
            <con:variable>requestRegional</con:variable>
            <con:variable>responseRegional</con:variable>
            <con:variable>requestError</con:variable>
            <con:variable>responseError</con:variable>
            <con:variable>requestService</con:variable>
            <con:variable>responseService</con:variable>
            <con:variable>destinationService</con:variable>
        </con:shared-variables>
    </con:router>
</con:templateEntry>